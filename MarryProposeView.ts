System.register("chunks:///_virtual/MarryProposeView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PlatformUtil.ts","./index57.ts","./ChatDataCache.ts","./ChatDefine.ts","./RoleDataCache.ts","./MarryDialogDataCache.ts","./BaseView.ts"],(function(t){"use strict";var e,i,n,a,o,r,l,s,d,u;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,n=t.Button,a=t.EditBox},function(t){o=t.PlatformUtil},null,function(t){r=t.ChatDataCache},function(t){l=t.ChatDefine},function(t){s=t.RoleDataCache},function(t){d=t.default},function(t){u=t.BaseView}],execute:function(){i._RF.push({},"a1f0eG9SD1JR4brrILq4Lji","MarryProposeView",void 0);t("default",function(t){function i(){var e;return(e=t.call(this)||this).titleMarry=void 0,e.titleDate=void 0,e.inputField=void 0,e.target_id=void 0,e.love_id=void 0,e.type=void 0,e.name="MarryProposeView",e.url="ui/module/marry/MarryProposeView",e}e(i,t);var u=i.prototype;return u.onInit=function(){var t=this,e=this.findChild("root/btnClose");this.addComponentCallbackListener(e,n.EventType.CLICK,(function(){t.close()}));var i=this.findChild("root/btnCancel");this.addComponentCallbackListener(i,n.EventType.CLICK,(function(){t.close()}));var d=this.findChild("root/btnConfirm");this.addComponentCallbackListener(d,n.EventType.CLICK,(function(){t.type&&t.target_id&&!o.checkIsCurrentEditBox(t.inputField)&&(sdkControl.checkStr(t.inputField.string,(function(e,i){if(1==i){var n=e;console.log(n),1==t.type?IS(r).SendShareData(l.ChatLinkType.MarryApply,{player_id:IS(s).GetRoleId(),content:n},l.Channel.Private,t.target_id):IS(r).SendShareData(l.ChatLinkType.DateApply,{player_id:IS(s).GetRoleId(),content:n},l.Channel.Private,t.target_id)}}),2),t.close())})),this.titleMarry=this.findChild("root/title/1"),this.titleDate=this.findChild("root/title/2"),this.inputField=this.findChildComponent("root/inputField",a),this.addComponentCallbackListener(this.inputField.node,a.EventType.EDITING_DID_BEGAN,(function(){t.target_id!=l.VIPGmUid?o.UpdateCurrentEditBox(t.inputField):o.ClearEditBox()}))},u.registerUpdateHandler=function(){},u.onAfterOpen=function(){if(this.type=0==IS(d).GetLoverId()?2:1,this.type){var t,e=IS(d).GetLoverGender(),i=IS(s).GetGender();this.titleMarry.active=1==this.type,this.titleDate.active=2==this.type,this.target_id=null!=(t=this.openArgs[0])?t:IS(d).GetLoverId(),1==this.type?e&&e==i?(this.inputField.placeholder=GetLanguage(204042),this.inputField.string=GetLanguage(204042)):(this.inputField.placeholder=GetLanguage(204041),this.inputField.string=GetLanguage(204041)):e&&e==i?(this.inputField.placeholder=GetLanguage(204040),this.inputField.string=GetLanguage(204040)):(this.inputField.placeholder=GetLanguage(204039),this.inputField.string=GetLanguage(204039))}},u.onBeforeClose=function(){},u.onDestroy=function(){},i}(u));i._RF.pop()}}}));

