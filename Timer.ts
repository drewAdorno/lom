System.register("chunks:///_virtual/Timer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./FixMath.ts"],(function(t){"use strict";var i,n,r;return{setters:[function(t){i=t.createForOfIteratorHelperLoose},function(t){n=t.cclegacy},function(t){r=t.FixMath}],execute:function(){n._RF.push({},"6e0f7/39T9Gerl2lCSG5iQu","Timer",void 0);var e=t("TimerObj",function(){function t(){this.id=0,this.duration=0,this.loop=1,this.running=!1,this._func=void 0,this._target=void 0,this._curTime=0}t.alloc=function(i,n,r,e){void 0===n&&(n=1);var o=new t;return o.duration=i,o.loop=n,o._func=r,o._target=e,o.running=!0,o._curTime=i,o},t.free=function(t){};var i=t.prototype;return i.stop=function(){this.running&&(this.running=!1,this._func=null,this._target=null)},i.onUpdate=function(t){this.running&&(this._curTime<=0&&(null!=this._target?this._func.call(this._target):this._func(this._target),this.loop>0&&(this.loop--,this._curTime=r.round(this._curTime+this.duration)),0==this.loop?this.stop():this.loop<0&&(this._curTime=r.round(this._curTime+this.duration))),this._curTime=r.round(this._curTime-t))},t}());t("TimerGroup",function(){function t(t){this._name=void 0,this._timerId=0,this._list=[],this._name=t}var n=t.prototype;return n.start=function(t,i,n,r){void 0===i&&(i=1);var o=e.alloc(t,i,n,r);return this._list.push(o),this._timerId++,o.id=this._timerId,this._timerId},n.stop=function(t){for(var n,r=i(this._list);!(n=r()).done;){var e=n.value;if(e.id==t){e.stop();break}}},n.get=function(t){for(var n,r=i(this._list);!(n=r()).done;){var e=n.value;if(e.id==t)return e}return null},n.update=function(t,i){var n=this._list;if(0!=n.length)for(var r=0;r<n.length;r++){var e=n[r];e.running?e.onUpdate(t):(n.splice(r,1),r--,i&&i(e))}},n.clear=function(){this._list.length=0},t}());n._RF.pop()}}}));

