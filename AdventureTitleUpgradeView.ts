System.register("chunks:///_virtual/AdventureTitleUpgradeView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NodeUtil.ts","./BaseView.ts","./RoleDataCache.ts","./AdventureTitleDataCache.ts","./AdventureTitleDefine.ts"],(function(t){"use strict";var e,i,n,o,r,s,a,d,u,l;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,n=t.Sprite,o=t.Label,r=t.Button},function(t){s=t.default},function(t){a=t.BaseView},function(t){d=t.RoleDataCache},function(t){u=t.AdventureTitleDataCache},function(t){l=t.AdventureTitleEventDefine}],execute:function(){i._RF.push({},"2a226ZQxK5ALbWJ5b0/d7K7","AdventureTitleUpgradeView",void 0);t("default",function(t){function i(){var e;return(e=t.call(this)||this).attrList=[],e.imgCurTitle=void 0,e.txtCurTitle=void 0,e.name="AdventureTitleUpgradeView",e.url="ui/module/adventuretitle/AdventureTitleUpgradeView",e.fullScreen=!1,e}e(i,t);var s=i.prototype;return s.onInit=function(){var t=this;this.imgCurTitle=this.findChildComponent("content/Title",n),this.txtCurTitle=this.findChildComponent("content/Title/Label",o);for(var e=0;e<3;e++){var i=this.findChild("content/nodeAttrList/Attribute"+e);this.attrList.push(new h(i,e))}var s=this.findChild("imgMask");this.addComponentCallbackListener(s,r.EventType.CLICK,(function(){t.close()}))},s.registerUpdateHandler=function(){this.addEvent(l.OnAdventureTitleUpdate,this.updateInfo,this)},s.onAfterOpen=function(){this.updateInfo()},s.onBeforeClose=function(){},s.onDestroy=function(){},s.updateInfo=function(){var t=IS(u).level-1,e=configAdventure_level.getDataByKey(t+1);this.loadIcon(this.imgCurTitle,"adventuretitle",e.icon),this.txtCurTitle.string=GetLanguage(e.language_id);for(var i=0;i<3;i++)this.attrList[i].show(t)},i}(a));var h=function(){function t(t,e){this.node=void 0,this.index=void 0,this.txtTitle=void 0,this.txtCur=void 0,this.txtNext=void 0,this.arrow=void 0,this.node=t,this.index=e,this.txtTitle=s.findChildComponent(this.node,"txtTitle",o),this.txtCur=s.findChildComponent(this.node,"txtCur",o),this.txtNext=s.findChildComponent(this.node,"txtNext",o),this.arrow=s.findChild(this.node,"arrow")}return t.prototype.show=function(t){var e=configAdventure_level.getDataByKey(t);if(null!=e){var i=e.effect[this.index];if(i){this.node.active=!0;var n=configAttribute.getDataByKey(i[0]);this.txtTitle.string=n.desc,this.txtCur.string=IS(d).getAttrValueShow(i[0],i[1]),this.arrow.active=!0,this.txtCur.node.setPosition(-40,0);var o=configAdventure_level.getDataByKey(e.next_id).effect[this.index];this.txtNext.string=IS(d).getAttrValueShow(o[0],o[1])}else this.node.active=!1}},t}();i._RF.pop()}}}));

