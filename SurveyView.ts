System.register("chunks:///_virtual/SurveyView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIList.ts","./NodeUtil.ts","./index57.ts","./SurveyControl.ts","./SurveyDataCache.ts","./SurveyDefine.ts","./BaseView.ts"],(function(t){"use strict";var e,n,i,o,s,r,a,c,l,u,d,h;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,i=t.ScrollView,o=t.Button,s=t.Label},function(t){r=t.SelectedType,a=t.ListItem},function(t){c=t.default},null,function(t){l=t.default},function(t){u=t.SurveyDataCache},function(t){d=t.SurveyDefine},function(t){h=t.BaseView}],execute:function(){n._RF.push({},"25362ksOnJOC4RvE7zU2eXX","SurveyView",void 0);t("default",function(t){function n(){var e;return(e=t.call(this)||this).scrollList=void 0,e.name="SurveyView",e.url="ui/module/survey/SurveyView",e.poolTime=3e3,e}e(n,t);var s=n.prototype;return s.onInit=function(){var t=this,e=this.findChildComponent("root/content/ScrollView",i);this.scrollList=this.addUIList(e,f),this.scrollList.selectedMode=r.SINGLE;var n=this.findChild("root/content/btnClose");this.addComponentCallbackListener(n,o.EventType.CLICK,(function(){t.onCloseClick()}));var s=this.findChild("root/imgMask");this.addComponentCallbackListener(s,o.EventType.CLICK,(function(){t.onMaskClick()}))},s.onAfterOpen=function(){this.onUpdateSurveyList()},s.registerUpdateHandler=function(){this.addEvent(d.SURVEY_INFO_UPDATE,this.onUpdateSurveyList,this)},s.onUpdateSurveyList=function(){var t=Array.from({length:IS(u).surveyList.length},(function(t,e){return e}));this.scrollList.datas=t},s.onCloseClick=function(){this.close()},s.onMaskClick=function(){this.close()},s.onBeforeClose=function(){},s.onDestroy=function(){},n}(h));var f=function(t){function n(){for(var e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))||this).btnGoto=void 0,e.btnGetReward=void 0,e.txtTitle=void 0,e}e(n,t);var i=n.prototype;return i.onInit=function(){var t=this;this.btnGoto=c.findChildComponent(this.node,"btnGoto",o),this.btnGetReward=c.findChildComponent(this.node,"btnGetReward",o),this.txtTitle=c.findChildComponent(this.node,"txtTitle",s),this.view.addComponentCallbackListener(this.btnGoto.node,o.EventType.CLICK,(function(){t.onGoto()})),this.view.addComponentCallbackListener(this.btnGetReward.node,o.EventType.CLICK,(function(){t.onGetReward()}))},i.onRender=function(t,e){var n=IS(u).surveyList[e];this.data=n,this.txtTitle.string=n.title,n.is_can_take?(this.btnGoto.node.active=!1,this.btnGetReward.node.active=!0):(this.btnGoto.node.active=!0,this.btnGetReward.node.active=!1)},i.onGoto=function(){uiMgr.openView("SurveyInfoView",this.data)},i.onGetReward=function(){IS(l).reqReward(this.data.ques_id,2)},n}(a);n._RF.pop()}}}));

