System.register("chunks:///_virtual/FateMergeGetView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./StringUtil.ts","./index57.ts","./ItemIcon.ts","./ConfigGlobal.ts","./FateDataCache.ts","./BaseView.ts"],(function(t){"use strict";var e,i,o,n,l,s,a,c,r,f,u,g;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,o=t.Button,n=t.Sprite,l=t.Label,s=t.RichText,a=t.js},function(t){c=t.default},null,function(t){r=t.IconAseetType},function(t){f=t.ConfigGlobal},function(t){u=t.default},function(t){g=t.BaseView}],execute:function(){i._RF.push({},"b301fJbL+BDV6sqpvi/uvV1","FateMergeGetView",void 0);t("default",function(t){function i(){var e;return(e=t.call(this)||this).imgBg=void 0,e.imgIcon=void 0,e.skillName=void 0,e.skillDesc=void 0,e.name="FateMergeGetView",e.url="ui/module/fate/FateMergeGetView",e.poolTime=3e3,e}e(i,t);var g=i.prototype;return g.onInit=function(){var t=this,e=this.findChild("imgMask");this.addComponentCallbackListener(e,o.EventType.CLICK,(function(){t.close()})),this.imgBg=this.findChildComponent("root/item/imgBg",n),this.imgIcon=this.findChildComponent("root/item/imgIcon",n),this.skillName=this.findChildComponent("root/skill/name",l),this.skillDesc=this.findChildComponent("root/skill/desc",s)},g.registerUpdateHandler=function(){},g.onAfterOpen=function(){var t=this.openArgs[0],e=IS(u).GetFateItem(t);this.loadIcon(this.imgBg,"fate",f.fate_quality_pos[e.cfg.quality-1][1]),this.loadIcon(this.imgIcon,"icon_fate",e.cfg.icon,null,r.ICON_SPRITE);var i=configSkill.getDataByKey(e.skill.skill_id),o=configSkill_level.getDataByKeys("id",i.id,"level",e.skill.skill_lv),n=configColor.getDataByKey(i.quality).color2,l=c.formatStr.apply(c,[o.desc].concat(o.desc_parm)).replace(/%s/g,n);this.skillName.string=i.name,this.skillDesc.string=a.formatStr("<b><color=#efcba5>%s</color></b>",l)},g.onBeforeClose=function(){var t=this.openArgs[1];t&&t.length>0&&uiMgr.openView("GoodsGetView",t)},g.onDestroy=function(){},i}(g));i._RF.pop()}}}));

