System.register("chunks:///_virtual/PetTabShareDetailView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NodeUtil.ts","./StringUtil.ts","./index57.ts","./BaseView.ts"],(function(e){"use strict";var t,i,n,o,a,r,s,l,c;return{setters:[function(e){t=e.inheritsLoose},function(e){i=e.cclegacy,n=e.Button,o=e.Label,a=e.js,r=e.Sprite},function(e){s=e.default},function(e){l=e.default},null,function(e){c=e.BaseView}],execute:function(){i._RF.push({},"e4f71Bt13xD0LfW4q0ZkUuB","PetTabShareDetailView",void 0);e("default",function(e){function i(){var t;return(t=e.call(this)||this).txtRoleName=void 0,t.txtTabName=void 0,t.petItems=[],t.posToInfo=void 0,t.name="PetTabShareDetailView",t.url="ui/module/pet/PetTabShareDetailView",t}t(i,e);var c=i.prototype;return c.onInit=function(){var e=this,t=this.findChild("imgMask");this.addComponentCallbackListener(t,n.EventType.CLICK,(function(){e.onCloseClick()})),this.txtRoleName=this.findChildComponent("content/txtRoleName",o),this.txtTabName=this.findChildComponent("content/txtName",o);for(var i=function(t){var i=e.findChild(a.formatStr("content/wearParent/item%s",t));e.addComponentCallbackListener(i,n.EventType.CLICK,(function(){e.onPosClick(t)})),e.petItems.push({pos:t,node:i,nodeLock:s.findChild(i,"imgLock"),nodeEmpty:s.findChild(i,"btnWear"),nodeWear:s.findChild(i,"nodeWear"),imgFrame:s.findChildComponent(i,"imgFrame",r),imgIcon:s.findChildComponent(i,"nodeWear/imgIcon",r),txtLevel:s.findChildComponent(i,"nodeWear/txtLevel",o)})},l=1;l<=5;l++)i(l)},c.onCloseClick=function(){this.close()},c.registerUpdateHandler=function(){},c.onAfterOpen=function(){this.txtRoleName.string=l.formatStrWithMirrorDeal(GetLanguage(200491),this.openArgs[0]);var e=this.openArgs[1];this.txtTabName.string=e[0];var t=e[1],i=JSON.parse(t);this.posToInfo={};for(var n=0;n<i.length;n++)this.posToInfo[i[n].pos]=i[n];for(var o=0;o<this.petItems.length;o++){var r=this.petItems[o],s=r.pos,c=this.posToInfo[s];if(r.nodeLock.active=!1,r.nodeEmpty.active=!1,r.nodeWear.active=!1,-1!=c.pet_id)if(r.imgFrame.grayscale=!1,0!=c.pet_id){var d=configPet.getDataByKey(c.pet_id);this.loadIcon(r.imgFrame,"icon_pet",configColor.getDataByKey(d.quality).path),this.loadIcon(r.imgIcon,"icon_pet",d.icon),r.nodeWear.active=!0,r.txtLevel.string=a.formatStr("Lv.%s",c.level)}else this.loadIcon(r.imgFrame,"icon_pet","zjm_ui_pinzhikuangbai"),r.nodeEmpty.active=!0;else r.nodeLock.active=!0,this.loadIcon(r.imgFrame,"icon_pet","zjm_ui_pinzhikuangbai"),r.imgFrame.grayscale=!0}},c.onBeforeClose=function(){},c.onDestroy=function(){},c.onPosClick=function(e){var t=this.posToInfo[e];null==t||t.pet_id<=0||uiMgr.openView("PetInfoView",t,!0,0)},i}(c));i._RF.pop()}}}));

