System.register("chunks:///_virtual/ActivityFrogGameHammerView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIList.ts","./NodeUtil.ts","./index57.ts","./ActivityDataCache.ts","./ActivityDefine.ts","./ActivityFrogControl.ts","./ActivityFrogDataCache.ts","./BaseView.ts"],(function(t){"use strict";var i,e,n,o,s,a,d,r,m,c,h,l,u,f,v,g;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy,n=t.Button,o=t.ScrollView,s=t.Sprite,a=t.Label,d=t.js},function(t){r=t.SelectedType,m=t.ListItem},function(t){c=t.default},null,function(t){h=t.default},function(t){l=t.ActivityEventDefine,u=t.ActivityType},function(t){f=t.default},function(t){v=t.default},function(t){g=t.BaseView}],execute:function(){e._RF.push({},"d9777TLDCdOM6/hwj9y5+2w","ActivityFrogGameHammerView",void 0);t("default",function(t){function e(){var i;return(i=t.call(this)||this).hammerList=void 0,i.name="ActivityFrogGameHammerView",i.url="ui/module/activityFrog/ActivityFrogGameHammerView",i}i(e,t);var s=e.prototype;return s.onInit=function(){var t=this,i=this.findChild("imgMask");this.addComponentCallbackListener(i,n.EventType.CLICK,(function(){t.close()}));var e=this.findChild("btnClose");this.addComponentCallbackListener(e,n.EventType.CLICK,(function(){t.close()}));var s=this.findChildComponent("ScrollView",o);this.hammerList=this.addUIList(s,p,!0),this.hammerList.selectedMode=r.SINGLE},s.registerUpdateHandler=function(){this.addEvent(l.OnTangMoleHammerUpdate,this.updateHammerList,this),this.addEvent(l.OnActivityListUpdate,this.updateHammerList,this)},s.onAfterOpen=function(){this.updateHammerList()},s.onBeforeClose=function(){},s.onDestroy=function(){},s.updateHammerList=function(){for(var t=[],i=configMole_hammer,e=0;e<i.getDatas().length;e++){var n=!1,o=void 0,s=configMole_hammer.getDataByKey(e+1),a=IS(h).GetActivityInfo(u.FrogGame);for(var d in a.task_list)if(a.task_list[d].task_id==s.unlock_condition[1]){o=a.task_list[d];break}o&&0==o.state&&(n=!0);var r={id:e+1,isEquiped:e==IS(v).curMoleHammer-1,isLocked:n};t.push(r)}t.sort((function(t,i){var e=1,n=1;return t.isEquiped&&(e=0),i.isEquiped&&(n=0),t.isEquiped||t.isLocked||(e=1),i.isEquiped||i.isLocked||(n=1),t.isLocked&&(e=2),i.isLocked&&(n=2),e<n?-1:1})),this.hammerList.datas=t},e}(g));var p=function(t){function e(){for(var i,e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return(i=t.call.apply(t,[this].concat(n))||this).id=void 0,i.imgHammer=void 0,i.txtLimit=void 0,i.txtTitle=void 0,i.txtDesc=void 0,i.imgEquiped=void 0,i.imgLock=void 0,i.btnChange=void 0,i}i(e,t);var o=e.prototype;return o.onInit=function(){var t=this;this.imgHammer=c.findChildComponent(this.node,"nodeHammer/imgIcon/imgHammer",s),this.imgEquiped=c.findChildComponent(this.node,"nodeHammer/imgEquiped",s),this.imgLock=c.findChildComponent(this.node,"nodeHammer/imgLock",s),this.txtLimit=c.findChildComponent(this.node,"nodeHammer/txtLimit",a),this.txtTitle=c.findChildComponent(this.node,"nodeHammer/txtTitle",a),this.txtDesc=c.findChildComponent(this.node,"nodeHammer/txtDesc",a),this.btnChange=c.findChild(this.node,"nodeHammer/btnChange"),this.view.addComponentCallbackListener(this.btnChange,n.EventType.CLICK,(function(){IS(f).send_24_127(t.id),IS(v).curMoleHammer=t.id,normalEvent.emit(l.OnTangMoleHammerUpdate)}))},o.onRender=function(t,i){var e,n;this.id=t.id;var o=configMole_hammer.getDataByKey(t.id),s=IS(h).GetActivityInfo(u.FrogGame);for(var a in s.task_list)if(s.task_list[a].task_id==o.unlock_condition[1]){e=s.task_list[a].count,n=s.task_list[a].cfg.condition[2];break}5!=this.id?this.txtLimit.string=d.formatStr(o.dec_mission,e,n):this.txtLimit.string=o.dec_mission,this.txtLimit.node.active=t.isLocked,this.txtTitle.string=o.name,this.txtDesc.string=o.dec_effect,this.btnChange.active=!t.isLocked&&!t.isEquiped,this.imgEquiped.node.active=!t.isLocked&&t.isEquiped,this.imgLock.node.active=t.isLocked,this.view.loadIcon(this.imgHammer,"act_frog_game",o.hammer_shape)},e}(m);e._RF.pop()}}}));

