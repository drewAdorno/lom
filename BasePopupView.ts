System.register("chunks:///_virtual/BasePopupView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CameraMgr.ts","./BaseView.ts","./UIDefine.ts"],(function(t){"use strict";var e,i,n,s,o,c,a;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,n=t.director,s=t.Button},function(t){o=t.cameraMgr},function(t){c=t.BaseView},function(t){a=t.UIViewState}],execute:function(){i._RF.push({},"46899n7g5xJ8KP3h5enfWnD","BasePopupView",void 0);t("BasePopupView",function(t){function i(){for(var e,i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))||this).isClick=!1,e.frameNum=void 0,e.block=void 0,e}e(i,t);var c=i.prototype;return c.onAfterOpen=function(){this.frameNum=n.getTotalFrames()},c.onBeforeClose=function(){this.isClick=!1},c._setViewState=function(e){var i=this;if((!this.state||this.state!=e)&&(t.prototype._setViewState.call(this,e),e==a.Init)){var n=nodeInstantiate.instantiate(o.block);return n.parent=this.node,n.setSiblingIndex(0),this.addComponentCallbackListener(n,s.EventType.CLICK,(function(){i.onBlockClick()})),n.active=!0,void(this.block=n)}},c.onBlockClick=function(){uiMgr.isOpenGuide?this.close():n.getTotalFrames()-this.frameNum>=5&&(this.isClick=!0)},c.onUpdate=function(t){this.isClick&&this.close(),this.isClick=!1},i}(c));i._RF.pop()}}}));

