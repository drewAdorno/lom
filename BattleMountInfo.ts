System.register("chunks:///_virtual/BattleMountInfo.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventDefine.ts","./AudioMgr.ts","./UIList.ts","./NodeUtil.ts","./ChapterDefine.ts","./DungeonControl.ts","./GameSetting.ts","./IBattleChapterPanel.ts"],(function(t){"use strict";var n,e,i,o,a,s,f,u,c,h,d,l,r,p,b,v;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,i=t.Button,o=t.Label,a=t.ScrollView,s=t.Sprite},function(t){f=t.EventDefine},function(t){u=t.audioMgr},function(t){c=t.SelectedType,h=t.ListItem},function(t){d=t.default},function(t){l=t.ChapterEventDefine},function(t){r=t.default},function(t){p=t.default,b=t.GameSettingKey},function(t){v=t.BattleInfoType}],execute:function(){e._RF.push({},"d208eWiLtFGH7tedGUXYOIb","BattleMountInfo",void 0);t("BattleMountInfo",function(){function t(t,n){this.view=void 0,this.node=void 0,this.type=void 0,this.btnExit=void 0,this.txtDebuffDec=void 0,this.buffUIList=void 0,this.is_auto=void 0,this.view=t,this.node=n,this.type=v.Mount,this.onInit()}var n=t.prototype;return n.onInit=function(){var t=d.findChildComponent(this.node,"btnExit",i);this.view.addComponentCallbackListener(t.node,i.EventType.CLICK,(function(){u.playMusic("battle"),IS(r).reqDungeonBattleResult(battleMain.data.chapterType,battleMain.data.chapterId,1),battleMain.enterChapter(),normalEvent.emit(l.BATTLE_STATE,battleMain.data.chapterType,!1)})),this.txtDebuffDec=d.findChildComponent(this.node,"txtDebuffDec",o);var n=d.findChildComponent(this.node,"scrollView",a);this.buffUIList=this.view.addUIList(n,g),this.buffUIList.selectedMode=c.SINGLE,this.view.addEvent(f.MountDebuffChange,this.onDebuffChange,this),this.view.addEvent(f.MountBuffChange,this.onBuffChange,this),this.btnExit=t},n.onUpdate=function(t){},n.onDebuffChange=function(t){this.txtDebuffDec.string=configMount_chapter_bufflist.getDataByKey(t).buff_desc},n.onBuffChange=function(t){this.buffUIList.datas=t},n.reset=function(){this.btnExit.enabled=!0,this.txtDebuffDec.string="-",this.buffUIList.clearData()},n.onLoad=function(){this.btnExit.enabled=!1,this.is_auto=IS(p).Get(b.MOUNT_AUTO_GET);var t=d.findChild(this.node,"nodeAuto");1==this.is_auto?t.active=!0:t.active=!1},t}());var g=function(t){function e(){for(var n,e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];return(n=t.call.apply(t,[this].concat(i))||this).imgIcon=void 0,n}n(e,t);var i=e.prototype;return i.onInit=function(){this.imgIcon=d.findChildComponent(this.node,"icon",s)},i.onRender=function(t,n){this.data=t;var e=configMount_chapter_bufflist.getDataByKey(t);this.view.loadIcon(this.imgIcon,"dungeon1","buff_quality_"+e.quality)},i.onItemClick=function(){var t=configMount_chapter_bufflist.getDataByKey(this.data);uiMgr.openView("JobSkillTipsView",t.buff_desc,this.imgIcon.node)},e}(h);e._RF.pop()}}}));

