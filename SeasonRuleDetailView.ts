System.register("chunks:///_virtual/SeasonRuleDetailView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ItemGrid.ts","./UIList.ts","./NodeUtil.ts","./TimeUtil.ts","./index57.ts","./ConfigSeason_kv.ts","./ActivityControl.ts","./ActivityDataCache.ts","./ActivityDefine.ts","./SeasonDataCache.ts","./BaseView.ts"],(function(t){"use strict";var e,i,n,o,s,r,a,c,d,l,u,f,h,v,m,C,p,S,w;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,n=t.Button,o=t.Label,s=t.ScrollView,r=t.UITransform,a=t.Node},function(t){c=t.ItemGrid},function(t){d=t.ListItem},function(t){l=t.default},function(t){u=t.default},null,function(t){f=t.ConfigSeason_kv},function(t){h=t.default},function(t){v=t.default},function(t){m=t.ActivityEventDefine,C=t.ActivityType,p=t.ActivityState},function(t){S=t.SeasonDataCache},function(t){w=t.BaseView}],execute:function(){i._RF.push({},"923dcD3tgNFe7oYCEYM3PxE","SeasonRuleDetailView",void 0);t("default",function(t){function i(){var e;return(e=t.call(this)||this).rewardList=void 0,e.txtTime=void 0,e.name="SeasonRuleDetailView",e.url="ui/module/season/SeasonRuleDetailView",e}e(i,t);var c=i.prototype;return c.onInit=function(){var t=this,e=this.findChild("content/btnClose");this.addComponentCallbackListener(e,n.EventType.CLICK,(function(){t.close()})),this.txtTime=this.findChildComponent("content/box/nodeReady/time",o);var i=this.findChild("content/box/nodeReady/btnGroup");this.addComponentCallbackListener(i,n.EventType.CLICK,(function(){uiMgr.openView("SeasonPreviewGroupView",IS(S).server_list)}));var c=this.findChildComponent("content/box/ScrollView",s);this.rewardList=this.addUIList(c,y),this.rewardList.lackCenter=!0;var d=this.findChild("content/box/ScrollView1/view/content/item"),l=this.findChildComponent("content/box/ScrollView1/view/content",r);d.on(a.EventType.SIZE_CHANGED,(function(){l.height=d.getComponent(r).height}));var u=this.findChild("content/box/nodeRule/ScrollView/view/content/item"),f=this.findChildComponent("content/box/nodeRule/ScrollView/view/content",r);u.on(a.EventType.SIZE_CHANGED,(function(){f.height=u.getComponent(r).height}))},c.registerUpdateHandler=function(){this.addEvent(m.OnActivityInfoUpdate,this.refreshTimeLabel,this)},c.onAfterOpen=function(){this.findChildComponent("content/box/ScrollView1/view/content/item",o).string=GetLanguage(205028),this.findChildComponent("content/box/nodeRule/ScrollView/view/content/item",o).string=GetLanguage(204966),this.rewardList.datas=f.SEASON_PREVIEW_REWARD,IS(h).send_24_14(C.Season),this.refreshTimeLabel()},c.refreshTimeLabel=function(){var t=IS(v).GetActivityInfo(C.Season);if(t){var e=t.state_time[p.Open],i=u.formatDate(u.ServerDate(1e3*e.start_time),"yyyy.MM.dd"),n=u.formatDate(u.ServerDate(1e3*e.end_time),"yyyy.MM.dd");this.txtTime.string=i+" - "+n}},c.onBeforeClose=function(){},c.onDestroy=function(){},i}(w));var y=function(t){function i(){for(var e,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))||this).itemGridNode=void 0,e.itemGrid=void 0,e}e(i,t);var n=i.prototype;return n.onInit=function(){this.itemGridNode=l.findChild(this.node,"itemGrid"),this.itemGrid=new c(this.view,this.itemGridNode)},n.onRender=function(t,e){this.itemGrid.SetItemId(t)},i}(d);i._RF.pop()}}}));

