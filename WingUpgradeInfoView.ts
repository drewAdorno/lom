System.register("chunks:///_virtual/WingUpgradeInfoView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./StringUtil.ts","./BaseView.ts"],(function(t){"use strict";var e,n,i,o,s,c,r,a,d;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,i=t.Button,o=t.Label,s=t.UITransform,c=t.Node,r=t.Layout},function(t){a=t.default},function(t){d=t.BaseView}],execute:function(){n._RF.push({},"c0e66FDAfdF+ocoY3T9j6Rr","WingUpgradeInfoView",void 0);t("default",function(t){function n(){var e;return(e=t.call(this)||this).txtCurName=void 0,e.txtNextName=void 0,e.txtCurDesc=void 0,e.txtNextDesc=void 0,e.nodeStar1=void 0,e.nodeStar2=void 0,e.nextLevel=5,e.id=void 0,e.arrowLeft=void 0,e.arrowRight=void 0,e.name="WingUpgradeInfoView",e.url="ui/module/wing/WingUpgradeInfoView",e.fullScreen=!1,e}e(n,t);var d=n.prototype;return d.onInit=function(){var t=this,e=this.findChild("imgMask");this.addComponentCallbackListener(e,i.EventType.CLICK,(function(){t.close()})),this.arrowLeft=this.findChild("content/nodeNextEffect/arrowLeft"),this.addComponentCallbackListener(this.arrowLeft,i.EventType.CLICK,(function(){t.nextLevel=5,t.updateNextInfo()})),this.arrowRight=this.findChild("content/nodeNextEffect/arrowRight"),this.addComponentCallbackListener(this.arrowRight,i.EventType.CLICK,(function(){t.nextLevel=10,t.updateNextInfo()})),this.txtCurName=this.findChildComponent("content/nodeCurEffect/content/txtCurName",o),this.txtNextName=this.findChildComponent("content/nodeNextEffect/content/txtNextName",o),this.txtCurDesc=this.findChildComponent("content/nodeCurEffect/content/ScrollView/view/content/item",o),this.txtNextDesc=this.findChildComponent("content/nodeNextEffect/content/ScrollView/view/content/item",o),this.nodeStar1=this.findChild("content/nodeNextEffect/nodeName/nodeStar1"),this.nodeStar2=this.findChild("content/nodeNextEffect/nodeName/nodeStar2");var n=this.findChild("content/nodeCurEffect/content/ScrollView/view/content/item"),a=this.findChildComponent("content/nodeCurEffect/content/ScrollView/view/content",s);n.on(c.EventType.SIZE_CHANGED,(function(){a.height=n.getComponent(s).height}));var d=this.findChild("content/nodeNextEffect/content/ScrollView/view/content/item"),l=this.findChildComponent("content/nodeNextEffect/content/ScrollView/view/content",s);d.on(c.EventType.SIZE_CHANGED,(function(){l.height=d.getComponent(s).height})),this.dealMirrorLayout(this.findChildComponent("content/nodeNextEffect/nodeName",r))},d.registerUpdateHandler=function(){},d.onAfterOpen=function(){this.updateInfo(this.openArgs[0],this.openArgs[1])},d.onBeforeClose=function(){},d.onDestroy=function(){},d.updateInfo=function(t,e){this.nextLevel=e<5?5:10,this.id=t;var n=configBack_skin.getDataByKeys("back_id",t,"skin_level",e),i=configSkill.getDataByKey(n.skin_skill[0][0]);this.txtCurName.string=i.name,this.txtNextName.string=i.name;var o=configSkill_level.getDataByKeys("id",n.skin_skill[0][0],"level",n.skin_skill[0][1]);this.txtCurDesc.string=a.formatStr.apply(a,[o.desc].concat(o.desc_parm)),this.updateNextInfo()},d.updateNextInfo=function(){this.arrowLeft.active=10==this.nextLevel,this.arrowRight.active=5==this.nextLevel,this.nodeStar1.active=5==this.nextLevel,this.nodeStar2.active=10==this.nextLevel;var t=configBack_skin.getDataByKeys("back_id",this.id,"skin_level",this.nextLevel),e=configSkill_level.getDataByKeys("id",t.skin_skill[0][0],"level",t.skin_skill[0][1]);this.txtNextDesc.string=a.formatStr.apply(a,[e.desc].concat(e.desc_parm))},n}(d));n._RF.pop()}}}));

