System.register("chunks:///_virtual/BattlePassMainView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index57.ts","./UIList.ts","./BattlePassDefine.ts","./BattlePassDataCache.ts","./NodeUtil.ts","./BattlePassControl.ts","./BaseView.ts"],(function(t){"use strict";var e,i,n,o,s,a,c,r,d,l,u,f,h,p;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,n=t.Button,o=t.ScrollView,s=t.Sprite},null,function(t){a=t.SelectedType,c=t.ListItem},function(t){r=t.BattlePassDefine,d=t.BATTLE_PASS_TYPE_DEFINE,l=t.BP_ID_TYPE},function(t){u=t.BattlePassDataCache},function(t){f=t.default},function(t){h=t.default},function(t){p=t.BaseView}],execute:function(){i._RF.push({},"bb2a1A7b9VG5pPYiKsVbN8q","BattlePassMainView",void 0);t("default",function(t){function i(){var e;return(e=t.call(this)||this).itemList=void 0,e.name="BattlePassMainView",e.url="ui/module/battlepass/BattlePassMainView",e}e(i,t);var s=i.prototype;return s.onInit=function(){var t=this,e=this.findChild("root/imgMask");this.addComponentCallbackListener(e,n.EventType.CLICK,(function(){t.close()}));var i=this.findChild("root/content/btnClose");this.addComponentCallbackListener(i,n.EventType.CLICK,(function(){t.close()}));var s=this.findChildComponent("root/content/ScrollView",o);this.itemList=this.addUIList(s,v),this.itemList.selectedMode=a.SINGLE},s.registerUpdateHandler=function(){this.addEvent(r.BATTLE_PASS_INFO_UPDATE,this.updateInfo,this)},s.onAfterOpen=function(){this.updateInfo()},s.onBeforeClose=function(){},s.onDestroy=function(){},s.updateInfo=function(){var t=IS(u).getPassInfoList(),e=[];for(var i in t)t.hasOwnProperty(i)&&e.push(t[i]);e.sort((function(t,e){return t.id-e.id})),this.itemList.datas=e},i}(p));var v=function(t){function i(){for(var e,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))||this).imgIcon=void 0,e.nodeRemind=void 0,e}e(i,t);var o=i.prototype;return o.onInit=function(){var t=this;this.imgIcon=this.node.getComponent(s),this.view.addComponentCallbackListener(this.node,n.EventType.CLICK,(function(){uiMgr.openView("BattlePassView",t.data.id)})),this.nodeRemind=f.findChild(this.node,"point")},o.onRender=function(t,e){var i;i=1==t.id?configBattlepass.getDataByKey(t.id).view:configWartoken.getDataByKey(t.id).view,this.view.loadIcon(this.imgIcon,"icon_zl",d[l[i]].main_img),this.nodeRemind.active=h.checkRewardRP(t.id)>=0||h.checkTaskRP(t.id)>=0||h.checkAddRewardRP(t.id)>0},i}(c);i._RF.pop()}}}));

