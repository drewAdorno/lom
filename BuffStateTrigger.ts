System.register("chunks:///_virtual/BuffStateTrigger.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ObjectPool.ts","./Buff.ts","./EnumDefine.ts"],(function(t){"use strict";var r,e,i,n,a,u;return{setters:[function(t){r=t.inheritsLoose},function(t){e=t.cclegacy},function(t){i=t.ObjectPool},function(t){n=t.Buff},function(t){a=t.SpBuffState,u=t.StateTrigerType}],execute:function(){e._RF.push({},"022fcrqnLdM9JiQBoQVkxe3","BuffStateTrigger",void 0);var f=t("BuffStateTrigger",function(t){function e(){for(var r,e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];return(r=t.call.apply(t,[this].concat(i))||this)._statebuff=void 0,r._triggercount=void 0,r._addlasttime=void 0,r._addbufflist=void 0,r._currentTriggerValue=0,r}r(e,t);var i=e.prototype;return i.onBegin=function(){this.owner.data.AddBuffState(a.StateTriger,1)},i.onDestroy=function(){this.owner.data.AddBuffState(a.StateTriger,-1),e._pool.free(this)},i.onStateTrigger=function(t){var r=new Array;if((t==this._statebuff||this._statebuff==u.All)&&(this._currentTriggerValue++,this._currentTriggerValue>=this._triggercount)){this._currentTriggerValue=0;for(var e=0;e<this._addbufflist.length;e++)r.push(this.runner.addBuff(this.owner,this._addbufflist[e],this._addlasttime,this.skillPar))}return r},e.alloc=function(t){var r=e._pool.alloc();return r.config=t,r._statebuff=t.param1,r._triggercount=t.param2,r._addlasttime=t.param3,r._addbufflist=t.param5,r._currentTriggerValue=0,r},e}(n));f._pool=new i(f,10),e._RF.pop()}}}));

