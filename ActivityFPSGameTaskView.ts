System.register("chunks:///_virtual/ActivityFPSGameTaskView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ItemGrid.ts","./UIList.ts","./NodeUtil.ts","./index57.ts","./ActivityControl.ts","./ActivityDataCache.ts","./ActivityDefine.ts","./BaseView.ts"],(function(t){"use strict";var i,e,n,s,a,o,d,r,c,h,u,v,l;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy,n=t.Button,s=t.ScrollView,a=t.Label},function(t){o=t.ItemGrid},function(t){d=t.ListItem},function(t){r=t.default},null,function(t){c=t.default},function(t){h=t.default},function(t){u=t.ActivityEventDefine,v=t.ActivityTaskState},function(t){l=t.BaseView}],execute:function(){e._RF.push({},"61e3bLllzxFHpTQYI5MdWKG","ActivityFPSGameTaskView",void 0);t("default",function(t){function e(){var i;return(i=t.call(this)||this).taskList=void 0,i.name="ActivityFPSGameTaskView",i.url="ui/module/activityFPS/ActivityFPSGameTaskView",i}i(e,t);var a=e.prototype;return a.onInit=function(){var t=this,i=this.findChild("imgMask");this.addComponentCallbackListener(i,n.EventType.CLICK,(function(){t.close()}));var e=this.findChild("container/btnClose");this.addComponentCallbackListener(e,n.EventType.CLICK,(function(){t.close()}));var a=this.findChildComponent("container/taskList",s);this.taskList=this.addUIList(a,f)},a.registerUpdateHandler=function(){this.addEvent(u.OnActivityInfoTaskUpdate,this.OnTaskUpdate,this),this.addEvent(u.OnActivityInfoUpdate,this.OnTaskUpdate,this)},a.onAfterOpen=function(){IS(c).send_24_14(this.openArgs[0])},a.onBeforeClose=function(){},a.onDestroy=function(){},a.OnTaskUpdate=function(){var t=IS(h).GetActivityInfo(this.openArgs[0]),i=[];for(var e in t.task_list)t.task_list.hasOwnProperty(e)&&i.push(t.task_list[e]);i.sort((function(t,i){return 0==t.id||0==i.id?0==t.id?-1:1:t.state==v.CanGet&&i.state!=v.CanGet?-1:t.state!=v.CanGet&&i.state==v.CanGet?1:t.state!=i.state?t.state-i.state:t.id-i.id})),this.taskList.datas=i},e}(l));var f=function(t){function e(){for(var i,e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];return(i=t.call.apply(t,[this].concat(n))||this).txtDesc=void 0,i.btnGet=void 0,i.received=void 0,i.undone=void 0,i.rewardList=void 0,i}i(e,t);var o=e.prototype;return o.onInit=function(){var t=this;this.txtDesc=r.findChildComponent(this.node,"txtDesc",a),this.received=r.findChild(this.node,"received"),this.undone=r.findChild(this.node,"undone"),this.btnGet=r.findChild(this.node,"btnGet"),this.view.addComponentCallbackListener(this.btnGet,n.EventType.CLICK,(function(){IS(c).send_24_15(t.view.openArgs[0],t.data.task_id,t.data.group_id)}));var i=r.findChildComponent(this.node,"ScrollView",s);this.rewardList=this.view.addUIList(i,p,!1,0),this.rewardList.virtual=!1},o.onRender=function(t,i){this.txtDesc.string=t.cfg.desc,this.rewardList.datas=t.cfg.reward,t.state==v.CanGet?(this.received.active=!1,this.undone.active=!1,this.btnGet.active=!0):t.state==v.HadGet?(this.received.active=!0,this.undone.active=!1,this.btnGet.active=!1):(this.received.active=!1,this.undone.active=!0,this.btnGet.active=!1)},e}(d),p=function(t){function e(){for(var i,e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];return(i=t.call.apply(t,[this].concat(n))||this).itemGridNode=void 0,i.itemGrid=void 0,i}i(e,t);var n=e.prototype;return n.onInit=function(){this.itemGridNode=r.findChild(this.node,"itemGrid"),this.itemGrid=new o(this.view,this.itemGridNode)},n.onRender=function(t,i){this.itemGrid.SetItemId(t[0],t[1])},e}(d);e._RF.pop()}}}));

