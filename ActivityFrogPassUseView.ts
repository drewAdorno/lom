System.register("chunks:///_virtual/ActivityFrogPassUseView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index57.ts","./BagControl.ts","./BagModel.ts","./MessageView.ts","./BaseView.ts"],(function(i){"use strict";var t,e,n,s,o,a,u,h,d,c;return{setters:[function(i){t=i.inheritsLoose},function(i){e=i.cclegacy,n=i.Button,s=i.Sprite,o=i.Label,a=i.EditBox},null,function(i){u=i.default},function(i){h=i.BagModel},function(i){d=i.default},function(i){c=i.BaseView}],execute:function(){e._RF.push({},"0eec0WFHL1Eb4hjpDPKwS52","ActivityFrogPassUseView",void 0);i("default",function(i){function e(){var t;return(t=i.call(this)||this).editBox=void 0,t.imgFrame=void 0,t.imgIcon=void 0,t.txtName=void 0,t.useNum=1,t.itemId=void 0,t.maxNum=void 0,t.callBack=void 0,t.name="ActivityFrogPassUseView",t.url="ui/module/activityFrog/ActivityFrogPassUseView",t}t(e,i);var c=e.prototype;return c.onInit=function(){var i=this,t=this.findChild("imgMask");this.addComponentCallbackListener(t,n.EventType.CLICK,(function(){i.close()}));var e=this.findChild("btnClose");this.addComponentCallbackListener(e,n.EventType.CLICK,(function(){i.close()}));var u=this.findChild("view/btnUse");this.addComponentCallbackListener(u,n.EventType.CLICK,(function(){i.UseClick()}));var h=this.findChild("view/btnAdd");this.addComponentCallbackListener(h,n.EventType.CLICK,(function(){i.changeNum(1)}));var d=this.findChild("view/btnMinus");this.addComponentCallbackListener(d,n.EventType.CLICK,(function(){i.changeNum(-1)}));var c=this.findChild("view/btnAddTen");this.addComponentCallbackListener(c,n.EventType.CLICK,(function(){i.changeNum(10)}));var l=this.findChild("view/btnMinusTen");this.addComponentCallbackListener(l,n.EventType.CLICK,(function(){i.changeNum(-10)})),this.imgFrame=this.findChildComponent("view/item/imgFrame",s),this.imgIcon=this.findChildComponent("view/item/imgIcon",s),this.txtName=this.findChildComponent("view/item/txtName",o),this.editBox=this.findChildComponent("view/EditBox",a),this.addComponentCallbackListener(this.editBox.node,a.EventType.EDITING_DID_ENDED,(function(){var t=Number(i.editBox.string);(isNaN(t)||t<=1)&&(t=1),i.useNum=Math.floor(t),i.changeNum()}))},c.registerUpdateHandler=function(){},c.onAfterOpen=function(){var i;this.itemId=this.openArgs[0],this.maxNum=null!=(i=this.openArgs[1])?i:IS(h).getGoodsCountByGoodsGtid(this.itemId),this.callBack=this.openArgs[2],this.useNum=this.openArgs[3]||1;var t=configGoods.getDataByKey(this.itemId),e=t.quality,n=configColor.getDataByKey(e);this.txtName.string=t.name,this.loadIcon(this.imgIcon,t.icon_group,t.icon),this.loadIcon(this.imgFrame,"icon_equip",n.path),this.changeNum()},c.onBeforeClose=function(){},c.onDestroy=function(){},c.UseClick=function(){0!=this.useNum&&(IS(h).getGoodsCountByGoodsGtid(this.itemId)<this.useNum?d.showFlyTip(GetLanguage(200069)):(this.callBack?this.callBack(this.itemId,this.useNum):IS(u).reqUseGoods(this.itemId,this.useNum),this.close()))},c.changeNum=function(i){null!=i&&(this.useNum=this.useNum+i),this.useNum=Math.min(this.maxNum,Math.max(this.useNum,1)),this.editBox.string=String(this.useNum)},e}(c));e._RF.pop()}}}));

