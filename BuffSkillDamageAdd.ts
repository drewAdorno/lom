System.register("chunks:///_virtual/BuffSkillDamageAdd.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ObjectPool.ts","./FixMath.ts","./Buff.ts","./MetaAttrib.ts"],(function(t){"use strict";var n,i,e,l,r,a;return{setters:[function(t){n=t.inheritsLoose},function(t){i=t.cclegacy},function(t){e=t.ObjectPool},function(t){l=t.FixMath},function(t){r=t.Buff},function(t){a=t.AttribDefine}],execute:function(){i._RF.push({},"bd6a1cDn5BCmo4fMblYlOjC","BuffSkillDamageAdd",void 0);var o=t("BuffSkillDamageAdd",function(t){function i(){for(var n,i=arguments.length,e=new Array(i),l=0;l<i;l++)e[l]=arguments[l];return(n=t.call.apply(t,[this].concat(e))||this)._calType=void 0,n._calPercent=void 0,n._skillIds=void 0,n}n(i,t);var e=i.prototype;return e.calDamage=function(t,n,i){void 0===i&&(i=0);var e=0;if(i>0&&this._skillIds&&this._skillIds.length>0&&!this._skillIds.includes(i))return 0;if(0==this._calType)e=l.roundInt(t*this.skillPar);else if(1==this._calType){var r=n.data.getAttrib(a.hp),o=n.data.currenHp;l.round(o/r)<=this._calPercent&&(e=l.roundInt(t*this.skillPar))}return e},e.onBegin=function(){},e.onDestroy=function(){},i.alloc=function(t){var n=i._pool.alloc();return n.config=t,n._calType=t.param1,n._calPercent=l.round(t.param2/1e4),n._skillIds=t.param5,n},i}(r));o._pool=new e(o,30),i._RF.pop()}}}));

