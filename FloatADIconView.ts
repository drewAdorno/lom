System.register("chunks:///_virtual/FloatADIconView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index57.ts","./ConfigGlobal.ts","./index3.ts","./MainViewModel.ts","./EaseMethod.ts","./BaseSubView.ts"],(function(o){"use strict";var t,n,e,i,s,a,l,r,c,u;return{setters:[function(o){t=o.inheritsLoose},function(o){n=o.cclegacy,e=o.Animation,i=o.Button,s=o.Vec3,a=o.UITransform},null,function(o){l=o.ConfigGlobal},null,function(o){r=o.MainViewModel},function(o){c=o.EasingMethod},function(o){u=o.BaseSubView}],execute:function(){n._RF.push({},"5a777lRyaRCG7rKQlGA9Dyl","FloatADIconView",void 0);o("default",function(o){function n(){var t;return(t=o.call(this)||this).anim=void 0,t.countDown=void 0,t.moveTween=void 0,t.rootNode=void 0,t.moveTimer=void 0,t.name="FloatADIconView",t.url="ui/module/activity/FloatADIcon",t.poolTime=3e3,t}t(n,o);var u=n.prototype;return u.onInit=function(){var o=this;this.anim=this.findChildComponent("root",e),this.rootNode=this.findChild("root");var t=this.findChild("root/Icon");this.addComponentCallbackListener(t,i.EventType.CLICK,(function(){o.startFly()}))},u.registerUpdateHandler=function(){},u.onAfterOpen=function(){var o=this;this.anim.play(),this.countDown=l.float_ads_disappear_times,this.moveTimer=this.addTimer(1,-1,(function(){o.checkFade()}))},u.checkFade=function(){this.countDown-=1,0==this.countDown&&IS(r).floatAD(!1)},u.startFly=function(){var o=this;null!=this.moveTween&&this.moveTween.stop(),this.rootNode.getComponent(e).enabled=!1;var t=new s,n=this.node.getComponent(a).contentSize,i=this.rootNode.position,l=new s(i.x,i.y);this.moveTween=this.addTween(0,1,.5,(function(e,i){t.set(l).add3f(-1.1*n.x*i,0,0),o.rootNode.position=t})).easing(c.LINEAR).call((function(){IS(r).floatAD(!1),uiMgr.openView("FloatADView")})).start()},u.onBeforeClose=function(){null!=this.moveTween&&this.moveTween.stop()},u.onDestroy=function(){},n}(u));n._RF.pop()}}}));

