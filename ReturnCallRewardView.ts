System.register("chunks:///_virtual/ReturnCallRewardView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ItemGrid.ts","./UIList.ts","./NodeUtil.ts","./StringUtil.ts","./index57.ts","./TaskControl.ts","./TaskDataCache.ts","./TaskDefine.ts","./UIDefine.ts","./BaseSubView.ts"],(function(t){"use strict";var e,i,n,o,r,a,s,c,d,l,u,h,f,v,m,p,C;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,n=t.ScrollView,o=t.RichText,r=t.Button,a=t.js},function(t){s=t.ItemGrid},function(t){c=t.ListItem},function(t){d=t.default},function(t){l=t.default},null,function(t){u=t.default},function(t){h=t.TaskDataCache},function(t){f=t.TaskEventDefine,v=t.TaskType,m=t.TaskState},function(t){p=t.PanelTabType},function(t){C=t.BaseSubView}],execute:function(){i._RF.push({},"6f435fRD0BDO4tjRDhkC8ms","ReturnCallRewardView",void 0);t("default",function(t){function i(){var e;return(e=t.call(this)||this).taskList=void 0,e.name="ReturnCallRewardView",e.url="ui/module/return/ReturnCallRewardView",e.poolTime=3e3,e}e(i,t);var o=i.prototype;return o.onInit=function(){this.taskList=this.addUIList(this.findChildComponent("root/taskList",n),R)},o.onAfterOpen=function(){this.RefreshData()},o.registerUpdateHandler=function(){this.addEvent(f.TASK_INFO_UPDATE,this.RefreshData)},o.RefreshData=function(){for(var t=[],e=configRecall_reward.getDatas(),i=0;i<e.length;i++)if(4==e[i].type){var n=IS(h).GetTaskItem(v.RebetTunble,e[i].id);n&&t.push({state:n.state,cfg:e[i],count:n.count})}t.sort((function(t,e){var i=IS(h).GetTaskItem(v.RebetTunble,t.cfg.id),n=IS(h).GetTaskItem(v.RebetTunble,e.cfg.id),o=i?i.state:m.Normal,r=n?n.state:m.Normal;return o==m.Complete&&r!=m.Complete?-1:o!=m.Complete&&r==m.Complete?1:o!=r?o<r?-1:1:t.id-e.id})),this.taskList.datas=t},o.onBeforeClose=function(){},o.onDestroy=function(){},i}(C));var R=function(t){function i(){for(var e,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))||this).txtDesc=void 0,e.btnGet=void 0,e.received=void 0,e.btnGotoRecharge=void 0,e.rewardScroll=void 0,e}e(i,t);var s=i.prototype;return s.onInit=function(){var t=this,e=this.view;this.txtDesc=d.findChildComponent(this.node,"txtDesc",o),this.received=d.findChild(this.node,"received"),this.btnGotoRecharge=d.findChild(this.node,"btnGotoRecharge"),this.view.addComponentCallbackListener(this.btnGotoRecharge,r.EventType.CLICK,(function(){t.view.parentView.setIndex(p.ReturnCall_Roulette)})),this.btnGet=d.findChild(this.node,"btnGet"),this.view.addComponentCallbackListener(this.btnGet,r.EventType.CLICK,(function(){IS(u).send_10_2(v.RebetTunble,t.data.cfg.id)}));var i=d.findChildComponent(this.node,"rewardScroll",n);this.rewardScroll=e.addUIList(i,b,!1),this.rewardScroll.virtual=!1},s.onRender=function(t,e){var i="",n=t.cfg.condition,o=a.formatStr("<color=fb414e>(%s/%s)</color>",t.count,n[2]);t.count>=n[2]&&(t.count=n[2],o=a.formatStr("<color=fb414e>(%s/%s)</color>",t.count,n[2])),i=l.formatStr(t.cfg.desc+"##1",o),i=a.formatStr("<b><color=#6f4d2c>%s</color></b>",i),this.txtDesc.string=i,this.rewardScroll.datas=t.cfg.reward,t.state==m.Complete?(this.received.active=!1,this.btnGotoRecharge.active=!1,this.btnGet.active=!0):t.state==m.Received?(this.received.active=!0,this.btnGotoRecharge.active=!1,this.btnGet.active=!1):(this.received.active=!1,this.btnGotoRecharge.active=!0,this.btnGet.active=!1)},i}(c),b=function(t){function i(){for(var e,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))||this).itemGridNode=void 0,e.itemGrid=void 0,e}e(i,t);var n=i.prototype;return n.onInit=function(){this.itemGridNode=d.findChild(this.node,"itemGrid"),this.itemGrid=new s(this.view,this.itemGridNode)},n.onRender=function(t,e){this.itemGrid.SetItemId(t[0],t[1])},i}(c);i._RF.pop()}}}));

