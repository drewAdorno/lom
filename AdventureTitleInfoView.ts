System.register("chunks:///_virtual/AdventureTitleInfoView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NodeUtil.ts","./BaseView.ts","./RoleDataCache.ts","./AdventureTitleDataCache.ts","./AdventureTitleDefine.ts"],(function(t){"use strict";var e,i,n,o,s,r,l,a,d,h;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,n=t.Sprite,o=t.Label,s=t.Button},function(t){r=t.default},function(t){l=t.BaseView},function(t){a=t.RoleDataCache},function(t){d=t.AdventureTitleDataCache},function(t){h=t.AdventureTitleEventDefine}],execute:function(){i._RF.push({},"4535aZbbslCDIq74G1h2rfM","AdventureTitleInfoView",void 0);t("default",function(t){function i(){var e;return(e=t.call(this)||this).arrow=void 0,e.attrList=[],e.imgCurTitle=void 0,e.imgNextTitle=void 0,e.txtCurTitle=void 0,e.txtNextTitle=void 0,e.name="AdventureTitleInfoView",e.url="ui/module/adventuretitle/AdventureTitleInfoView",e.fullScreen=!1,e}e(i,t);var r=i.prototype;return r.onInit=function(){var t=this;this.arrow=this.findChild("content/nodeTitle/arrow"),this.imgCurTitle=this.findChildComponent("content/nodeTitle/curTitle",n),this.imgNextTitle=this.findChildComponent("content/nodeTitle/nextTitle",n),this.txtCurTitle=this.findChildComponent("content/nodeTitle/curTitle/Label",o),this.txtNextTitle=this.findChildComponent("content/nodeTitle/nextTitle/Label",o);for(var e=0;e<3;e++){var i=this.findChild("content/nodeAttrList/Attribute"+e);this.attrList.push(new u(i,e))}var r=this.findChild("imgMask");this.addComponentCallbackListener(r,s.EventType.CLICK,(function(){t.close()}))},r.registerUpdateHandler=function(){this.addEvent(h.OnAdventureTitleUpdate,this.updateInfo,this)},r.onAfterOpen=function(){this.updateInfo()},r.onBeforeClose=function(){},r.onDestroy=function(){},r.updateInfo=function(){for(var t=IS(d).level,e=configAdventure_level.getDataByKey(t),i=0;i<3;i++)this.attrList[i].show(t);if(0==e.next_id)this.arrow.active=!1,this.imgNextTitle.node.active=!1,this.imgCurTitle.node.setPosition(0,0),this.loadIcon(this.imgCurTitle,"adventuretitle",e.icon),this.txtCurTitle.string=GetLanguage(e.language_id);else{this.arrow.active=!0,this.imgNextTitle.node.active=!0,this.imgCurTitle.node.setPosition(-130,0),this.loadIcon(this.imgCurTitle,"adventuretitle",e.icon),this.txtCurTitle.string=GetLanguage(e.language_id);var n=configAdventure_level.getDataByKey(e.next_id);this.loadIcon(this.imgNextTitle,"adventuretitle",n.icon),this.txtNextTitle.string=GetLanguage(n.language_id)}},i}(l));var u=function(){function t(t,e){this.node=void 0,this.index=void 0,this.txtTitle=void 0,this.txtCur=void 0,this.txtNext=void 0,this.arrow=void 0,this.node=t,this.index=e,this.txtTitle=r.findChildComponent(this.node,"txtTitle",o),this.txtCur=r.findChildComponent(this.node,"txtCur",o),this.txtNext=r.findChildComponent(this.node,"txtNext",o),this.arrow=r.findChild(this.node,"arrow")}return t.prototype.show=function(t){var e=configAdventure_level.getDataByKey(t);if(null!=e){var i=e.effect[this.index];if(i){this.node.active=!0;var n=configAttribute.getDataByKey(i[0]);if(this.txtTitle.string=n.desc,this.txtCur.string=IS(a).getAttrValueShow(i[0],i[1]),0!=e.next_id){this.arrow.active=!0,this.txtCur.node.setPosition(-40,0);var o=configAdventure_level.getDataByKey(e.next_id).effect[this.index];this.txtNext.string=IS(a).getAttrValueShow(o[0],o[1])}else this.arrow.active=!1,this.txtCur.node.setPosition(0,0),this.txtNext.string=""}else this.node.active=!1}},t}();i._RF.pop()}}}));

