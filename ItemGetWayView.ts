System.register("chunks:///_virtual/ItemGetWayView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ItemGrid.ts","./UIList.ts","./NodeUtil.ts","./index57.ts","./ChapterDataCache.ts","./MainViewModel.ts","./RoleDataCache.ts","./BaseView.ts"],(function(i){"use strict";var e,n,t,o,s,c,a,d,r,h,l,f,u,m;return{setters:[function(i){e=i.inheritsLoose},function(i){n=i.cclegacy,t=i.Button,o=i.ScrollView,s=i.Label,c=i.Sprite,a=i.Vec3},function(i){d=i.ItemGrid},function(i){r=i.ListItem},function(i){h=i.default},null,function(i){l=i.ChapterDataCache},function(i){f=i.MainViewModel},function(i){u=i.RoleDataCache},function(i){m=i.BaseView}],execute:function(){n._RF.push({},"b8202g4plJF0J2m1m0bCq8w","ItemGetWayView",void 0);i("default",function(i){function n(){var e;return(e=i.call(this)||this).scrollView=void 0,e.itemId=void 0,e.itemGrid=void 0,e.itemName=void 0,e.name="ItemGetWayView",e.url="ui/module/common/ItemGetWayView",e}e(n,i);var a=n.prototype;return a.onInit=function(){var i=this,e=this.findChild("node/btnClose");this.addComponentCallbackListener(e,t.EventType.CLICK,(function(){i.onCloseClick()}));var n=this.findChild("imgMask");this.addComponentCallbackListener(n,t.EventType.CLICK,(function(){i.onCloseClick()}));var a=this.findChildComponent("node/scrollView",o);this.scrollView=this.addUIList(a,g),this.itemGrid=new d(this,this.findChild("node/itemInfo/itemGrid")),this.itemName=this.findChildComponent("node/itemInfo/name",s);var r=this.findChildComponent("node/title/img2",c);this.loadIcon(r,"common","common_BG_xiaobiaotihuawen")},a.onCloseClick=function(){this.close()},a.registerUpdateHandler=function(){},a.onAfterOpen=function(){this.itemId=this.openArgs[0],this.itemGrid.SetItemId(this.itemId);var i=configGoods.getDataByKey(this.itemId);this.itemName.string=i.name;var e=[];for(var n in i.getItems){var t=i.getItems[n],o=configGoods_source.getDataByKey(t);IS(l).curChapterId>o.chapter_id&&e.push(t)}this.scrollView.datas=e},a.onBeforeClose=function(){},a.onDestroy=function(){},n}(m));var g=function(i){function n(){for(var e,n=arguments.length,t=new Array(n),o=0;o<n;o++)t[o]=arguments[o];return(e=i.call.apply(i,[this].concat(t))||this).des=void 0,e.id=void 0,e.icon=void 0,e.config=void 0,e.recommend=void 0,e.btn=void 0,e.btnLabel=void 0,e}e(n,i);var o=n.prototype;return o.onInit=function(){var i=this;this.btnLabel=h.findChildComponent(this.node,"btn/Label",s),this.des=h.findChildComponent(this.node,"des",s),this.icon=h.findChildComponent(this.node,"icon",c),this.btn=h.findChild(this.node,"btn"),this.view.addComponentCallbackListener(this.btn,t.EventType.CLICK,(function(){if(0!=i.config.newopen_func&&IS(u).CheckFuncOpen(i.config.newopen_func,!0)){if(""!=i.config.view)if("MainView"==i.config.view)IS(f).TryJumpToMainViewPanel(i.config.openArgs[0],i.config.openArgs[1],i.config.openArgs[2]);else{var e,n=i.config.openArgs.slice(0);(e=uiMgr).openView.apply(e,[i.config.view].concat(n))}uiMgr.close("BoxUpgradeView"),uiMgr.close("RelicMainView"),uiMgr.close("RelicEditView"),i.view.close()}})),this.recommend=h.findChild(this.node,"recommend")},o.onRender=function(i,e){this.id=i,this.config=configGoods_source.getDataByKey(this.id),this.des.string=this.config.desc,this.view.loadIcon(this.icon,this.config.icon_atlas,this.config.icon),this.icon.node.scale=new a(this.config.icon_scale,this.config.icon_scale,this.config.icon_scale),this.recommend.active=0==e,this.btn.getComponent(c).grayscale=!1,this.btnLabel.string=GetLanguage(200414),0==this.config.newopen_func||IS(u).CheckFuncOpen(this.config.newopen_func)||(this.btn.getComponent(c).grayscale=!0,this.btnLabel.string=GetLanguage(200485)),this.btn.active=0==this.config.show_btn},n}(r);n._RF.pop()}}}));

