System.register("chunks:///_virtual/ChapterSevenCC.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BattleData.ts","./index94.ts","./EventDefine.ts","./AudioMgr.ts","./CameraMgr.ts","./ChapterDefine.ts","./DungeonControl.ts","./MessageView.ts","./ChapterSeven.ts"],(function(t){"use strict";var e,n,a,i,u,r,o,s,c,l,h;return{setters:[function(t){e=t.inheritsLoose,n=t.regeneratorRuntime},function(t){a=t.cclegacy},function(t){i=t.ChapterType},null,function(t){u=t.EventDefine},function(t){r=t.audioMgr},function(t){o=t.cameraMgr},function(t){s=t.ChapterEventDefine},function(t){c=t.default},function(t){l=t.default},function(t){h=t.ChapterSeven}],execute:function(){a._RF.push({},"3896frpZQNDOoOvJ8y9w5hv","ChapterSevenCC",void 0);t("ChapterSevenCC",function(t){function a(){return t.apply(this,arguments)||this}e(a,t);var h=a.prototype;return h.init=function(){battleEvent.on(u.UnitHpNumChange,this.onUnitHpNumChange,this),o.battleCamera.enabled=!0},h.start=function(){t.prototype.start.call(this),r.playMusic("bgm_lieyanshandong")},h.destroy=function(){battleEvent.off(u.UnitHpNumChange,this.onUnitHpNumChange,this)},h.endResult=n().mark((function t(e,a,u){var o;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,coroutine.wait(1);case 2:r.playMusic("battle"),battleMain.enterChapter(),0==a&&battleMain.checkCheat()&&(a=1,l.showBoxTip({tip:GetLanguage(200998),btnCnt:1,func:function(t){},ensure:GetLanguage(200129)})),o=this,battleMain.curRecord&&battleMain.curRecord.manual?IS(c).reqDungeonBattleResult(i.Seven,e,a,1,battleMain.curRecord.collects,[{k:1,v:o.bossUnit.hpNum},{k:2,v:o.bossUnit.hurtNum}]):IS(c).reqDungeonBattleResult(i.Seven,e,a,0,null,[{k:1,v:o.bossUnit.hpNum},{k:2,v:o.bossUnit.hurtNum}]),normalEvent.emit(s.BATTLE_STATE,i.Seven,!1),battleMain.toResult(e,i.Seven,a,u);case 9:case"end":return t.stop()}}),t,this)})),h.toResult=function(t,e){void 0===e&&(e=!1);this.battleMain;var n=this.config;coroutine.start(this.endResult(n.id,t,e),"battle")},a}(h));a._RF.pop()}}}));

