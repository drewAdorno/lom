System.register("chunks:///_virtual/ChapterSeven.ts",["./rollupPluginModLoBabelHelpers.js","cc","./FixMath.ts","./V2.ts","./BaseChapter.ts"],(function(t){"use strict";var i,e,n,s,a,o;return{setters:[function(t){i=t.inheritsLoose,e=t.createForOfIteratorHelperLoose},function(t){n=t.cclegacy},function(t){s=t.FixMath},function(t){a=t.V2},function(t){o=t.BaseChapter}],execute:function(){n._RF.push({},"58e577Yf3JPA6EQBsXuGRKD","ChapterSeven",void 0);var r=new a;t("ChapterSeven",function(t){function n(){for(var i,e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];return(i=t.call.apply(t,[this].concat(n))||this).bossList=[],i.bossUnit=void 0,i}i(n,t);var a=n.prototype;return a.init=function(){},a.destroy=function(){},a.getConfig=function(t){return configSeven_trial_chapter.getDataByKey(t)},a.setChapter=function(i){var e=this;t.prototype.setChapter.call(this,i),configSeven_trial_chapter.getDataByList("index",this.config.index).forEach((function(t){e.bossList.push(configUnit.getDataByKey(t.bossId))}))},a.start=function(){var t=this.battleMain,i=t.unitMgr.addSoloBoss(this.bossList[0].id,1);i.units=this.bossList;for(var n,s=e(this.mapConfig.points);!(n=s()).done;){var a=n.value;if(1===a[0]){i.position=r.set(a[1],a[2]).add2f(t.mapCamera.offsetX,0);break}}i.direction=-1,this.bossUnit=i},a.toResult=function(t,i){this.battleMain},a.onUpdate=function(t){if(!this.over){if(this.battleMain.mainCtr.player.isDead)return this.over=!0,this.toResult(1),!0;if(this.timeModel){if(this.chapterTime<=0)return this.over=!0,void this.toResult(this.bossUnit.hpNum>0?0:1,!0);this.chapterTime=s.round(this.chapterTime-t),this.chapterTime=Math.max(this.chapterTime,0)}}},a.onUnitHpNumChange=function(t){var i=Math.min(t,this.bossList.length),e=configSeven_trial_chapter.getDataByList("index",this.config.index);this.config=e[i-1],this.battleMain.data.chapterId=this.config.id},n}(o));n._RF.pop()}}}));

