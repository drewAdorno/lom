System.register("chunks:///_virtual/CoroutineMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./WaitForSeconds.ts"],(function(t){"use strict";var o,i,r;return{setters:[function(t){o=t.createClass},function(t){i=t.cclegacy},function(t){r=t.WaitForSeconds}],execute:function(){i._RF.push({},"d5384LvW9ZPGZW3W8nKHrPS","CoroutineMgr",void 0);var n=function(){function t(){this.groupName=void 0,this.enumerator=void 0,this.isDestroy=void 0,this._waitCoroutine=void 0}var o=t.prototype;return o.destroy=function(){null!=this._waitCoroutine&&this._waitCoroutine.dispose(),this._waitCoroutine=null,this.isDestroy=!0,this.enumerator=null},o._moveNext=function(t){var o=this._waitCoroutine;if(null!=o){if(!o.waitDone)return void o.update(t);o.dispose(),this._waitCoroutine=null}var i=this.enumerator.next();if(i.done)this.isDestroy=!0;else{var r=i.value;if(null!=r){var n;if("break"==r)return void(this.isDestroy=!0);if("IWaitCoroutine"!==(null==(n=Object.getPrototypeOf(r).constructor)?void 0:n.__cls__))return;this._waitCoroutine=r}}},t}(),e="_def",u=t("CoroutineGroup",function(){function t(){this.coroutineList=[]}var i=t.prototype;return i.start=function(t,o){void 0===o&&(o=e);for(var i=this.coroutineList,r=0;r<i.length;++r){if(i[r].enumerator==t)return}var u=new n;return u.enumerator=t,u.groupName=o,i.push(u),u},i.wait=function(t){return r.alloc(t)},i.stop=function(t){null==t||t.isDestroy||(t.isDestroy=!0)},i.stopGroup=function(t){void 0===t&&(t=e);for(var o=this.coroutineList,i=0;i<o.length;++i){var r=o[i];r.groupName==t&&r.destroy()}},i.clearAll=function(){var t=this.coroutineList;t.forEach((function(t){t.destroy()})),t.length=0},i.update=function(t){var o=this.coroutineList;if(!(o.length<=0))for(var i=0;i<o.length;++i){var r=o[i];r.isDestroy?(r.destroy(),o.splice(i,1),--i):r._moveNext(t)}},o(t,[{key:"length",get:function(){return this.coroutineList.length}}]),t}());t("CoroutineMgr",function(){var t=i.prototype;function i(){this.group=void 0,_G("coroutine",this),this.group=new u}return t.clear=function(){this.group.clearAll()},t.start=function(t,o){return void 0===o&&(o=e),this.group.start(t,o)},t.wait=function(t){return r.alloc(t)},t.stop=function(t){null==t||t.isDestroy||(t.isDestroy=!0)},t.stopGroup=function(t){void 0===t&&(t=e),this.group.stopGroup(t)},t.update=function(t){this.group.update(t)},o(i,[{key:"length",get:function(){return this.group.length}}]),i}());i._RF.pop()}}}));

