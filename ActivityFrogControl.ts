System.register("chunks:///_virtual/ActivityFrogControl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./StorageUtil.ts","./ControlMgr.ts","./RoleDataCache.ts","./ActivityDataCache.ts","./ActivityDefine.ts","./ActivityFrogDataCache.ts","./ActivityFrogDefine.ts"],(function(e){"use strict";var t,n,a,o,_,r,c,i,s,l;return{setters:[function(e){t=e.createForOfIteratorHelperLoose},function(e){n=e.cclegacy},function(e){a=e.default},function(e){o=e.controlMgr},function(e){_=e.RoleDataCache},function(e){r=e.default},function(e){c=e.ActivityType,i=e.ActivityEventDefine},function(e){s=e.default},function(e){l=e.ActivityFrogEvent}],execute:function(){n._RF.push({},"7e95d24Uy5DXq2z2/c0bHQx","ActivityFrogControl",void 0);e("default",function(){var e=n.prototype;function n(){netManager.addEventListener("act.act_tang_mole_info_s2c",this.update_24_126,this),netManager.addEventListener("act.act_tang_mole_choose_hammer_s2c",this.update_24_127,this),netManager.addEventListener("act.act_tang_mole_start_s2c",this.update_24_128,this),netManager.addEventListener("act.act_tang_mole_result_s2c",this.update_24_129,this),netManager.addEventListener("act.act_frog_bird_info_s2c",this.update_24_130,this),netManager.addEventListener("act.act_frog_bird_start_s2c",this.update_24_131,this),netManager.addEventListener("act.act_frog_bird_result_s2c",this.update_24_132,this),o.addControl(this)}return e.clear=function(){},e.onLogin=function(){this.send_24_126()},e.onReconnect=function(){},e.send_24_126=function(){netManager.send("act.act_tang_mole_info_c2s",{act_type:c.FrogGame},!0)},e.update_24_126=function(e){IS(s).openLevelList=[],IS(s).levelTopScore=[];for(var n,o=t(e.chapter_id_list);!(n=o()).done;){var d=n.value;IS(s).openLevelList.push(d.k),d.k==IS(s).challengeLevelId&&d.v,IS(s).levelTopScore[d.k]=d.v}IS(s).openLevelList.sort((function(e,t){return e-t})),parseInt(a.get("FrogGame_LatestLevel_"+IS(_).GetRoleId()))!=IS(s).openLevelList[IS(s).openLevelList.length-2]&&(a.set("FrogGame_NewLevel_"+IS(_).GetRoleId(),"1"),a.set("FrogGame_LatestLevel_"+IS(_).GetRoleId(),IS(s).openLevelList[IS(s).openLevelList.length-2].toString()),IS(r).UpdateMainRedByActType(c.Frog),normalEvent.emit(l.OnFrogGameNewLevelUpdate)),IS(s).curMoleHammer=e.choose_hammer,IS(s).openHammerList=e.hammer_id_list,IS(s).openLevelID=e.act_day>IS(s).challengeLevelId-1?IS(s).challengeLevelId-1:e.act_day,IS(s).act_day=e.act_day,normalEvent.emit(i.OnTangMoleHammerUpdate),normalEvent.emit(i.OnTangMoleInfoBack)},e.send_24_127=function(e){netManager.send("act.act_tang_mole_choose_hammer_c2s",{act_type:c.FrogGame,choose_hammer:e},!0)},e.update_24_127=function(e){IS(s).curMoleHammer=e.choose_hammer,normalEvent.emit(i.OnTangMoleHammerUpdate)},e.send_24_128=function(e){netManager.send("act.act_tang_mole_start_c2s",{act_type:c.FrogGame,chapter_id:e},!0)},e.update_24_128=function(e){normalEvent.emit(i.OnTangMoleGameStart)},e.send_24_129=function(){for(var e=[],t=1;t<=5;t++){var n={k:t,v:IS(s).levelKillInfo[t-1]};e.push(n)}netManager.send("act.act_tang_mole_result_c2s",{act_type:c.FrogGame,chapter_id:IS(s).curMoleLevelId,result:IS(s).levelResult,hp:IS(s).leftHP,kill_list:e,ultimate_cnt:IS(s).skillCount},!0)},e.update_24_129=function(e){normalEvent.emit(i.OnTangMoleGameResult,e.score,e.history_score,e.is_new_high)},e.send_24_130=function(){netManager.send("act.act_frog_bird_info_c2s",{},!0)},e.update_24_130=function(e){normalEvent.emit(i.OnFlappyFrogInfoUpdate,e.history_score)},e.send_24_131=function(){netManager.send("act.act_frog_bird_start_c2s",{},!0)},e.update_24_131=function(e){},e.send_24_132=function(e){netManager.send("act.act_frog_bird_result_c2s",{score:e},!0)},e.update_24_132=function(e){normalEvent.emit(i.OnFlappyFrogGameResult,e.score,e.history_score,e.is_new_high)},n}());n._RF.pop()}}}));

