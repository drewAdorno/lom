System.register("chunks:///_virtual/MainViewModel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./RedPointMgr.ts","./StorageUtil.ts","./index57.ts","./RouletteControl.ts","./CodeInviteDataCache.ts","./CommonDefine.ts","./FriendModel.ts","./MailModel.ts","./BubbleDataCache.ts","./CustomeHeadDataCache.ts","./FrameDataCache.ts","./TitleDataCache.ts","./RoleDataCache.ts","./SdkDataCache.ts","./SurveyDataCache.ts","./WelfareDataCache.ts","./UIDefine.ts"],(function(e){"use strict";var n,t,i,a,o,c,u,r,l,f,I,d,s,h,v,D,m,C,S;return{setters:[function(e){n=e.createForOfIteratorHelperLoose},function(e){t=e.cclegacy},function(e){i=e.RedPointMgr},function(e){a=e.default},null,function(e){o=e.default},function(e){c=e.CodeInviteDataCache},function(e){u=e.CommonEventDefine},function(e){r=e.FriendModel},function(e){l=e.MailModel},function(e){f=e.BubbleDataCache},function(e){I=e.CustomeHeadDataCache},function(e){d=e.FrameDataCache},function(e){s=e.TitleDataCache},function(e){h=e.RoleDataCache},function(e){v=e.SdkDataCache},function(e){D=e.SurveyDataCache},function(e){m=e.WelfareDataCache},function(e){C=e.PanelTabData,S=e.PanelTabType}],execute:function(){t._RF.push({},"90dd6tGjUxL/YsnLHTRIiUp","MainViewModel",void 0);var M="MainViewLeftFold",g="MainViewRightFold";e("MainViewModel",function(){function e(){this.iconInfo={}}var t=e.prototype;return t.clear=function(){},t.GetMenuRed=function(){var e=IS(l).GetMailRed(),n=IS(r).CheckRed(),t=IS(h).GetSkinRed(),a=o.checkRedPoint(),u=IS(s).CanUnLockTitle(),v=IS(d).CanUnLockFrame(),C=IS(f).CanUnLockBubble(),S=IS(I).GetIsRed(),M=IS(m).GetRedPoint(),g=IS(D).surveyList.length>0?1:0,p=IS(c).getRed();IS(i).changeValue("menu_red",S+e+n+t+0+a+0+u+v+C+M+g+p)},t.TryJumpToMainViewPanel=function(e,n,t){var i=C[e];if(i.openFuncId&&!IS(h).CheckFuncOpen(i.openFuncId,!0))return!1;if(n){if(0==IS(v).showrechage&&(n==S.Shop_Gem||n==S.Shop_Gift||n==S.Shop_Limit))return!1;var a=C[n];if(a.openFuncId&&!IS(h).CheckFuncOpen(a.openFuncId,!0))return!1}return normalEvent.emit(u.JUMP_TO_MAIN_VIEW_SELECT_TYPE,e,n,t),!0},t.checkGuideShow=function(e){if(void 0===e&&(e=!1),!e&&uiMgr.isOpenGuide)return!1;if(!uiMgr.checkOnlyOpenView())return!1;for(var t,i=uiMgr.getOpenView("MainView"),a=n(i.tabTypes);!(t=a()).done;){var o,c=t.value;if(null!=(o=i.getTabPanel(c,!1))&&o.isActive)return!1}return!0},t.openViewByIconId=function(e){var n,t=configMainicon.getDataByKey(e),i=t.viewName[0],a=this.iconInfo[e];a&&a.viewData&&(n=a.viewData);var o=t.viewName[1];o&&(n=o),uiMgr.openView(i,n)},t.updateIconRedDot=function(e,n){var t="MainIcon/"+e;null==n?IS(i).updateRed(t):IS(i).changeValue(t,n),normalEvent.emit(u.UPDATE_FOLD_ICON_RED)},t.addIcon=function(e,n){var t,i=this.iconInfo[e];(null==i&&(i={iconId:e,leftTime:0},this.iconInfo[e]=i),null!=n)&&(i.leftTime=null!=(t=n.leftTime)?t:0,i.viewData=n.viewData,i.isPre=n.isPre);normalEvent.emit(u.MAIN_ADD_ICON,e)},t.removeIcon=function(e){null!=this.iconInfo[e]&&(delete this.iconInfo[e],normalEvent.emit(u.MAIN_REMOVE_ICON,e))},t.setIconInfo=function(e,n){var t=this.iconInfo[e];if(null!=t){var i;if(null!=n)t.leftTime=null!=(i=n.leftTime)?i:0,t.viewData=n.viewData,t.isPre=n.isPre;normalEvent.emit(u.MAIN_SET_ICON,e)}},t.getIconInfoList=function(){return this.iconInfo},t.getIconInfo=function(e){return this.iconInfo[e]},t.floatAD=function(e){normalEvent.emit(u.MAIN_FLOAT_AD,e)},t.checkLeftBtnFold=function(){var e=a.get(M+IS(h).GetRoleId());if(!e||""==e)return!1;var n=Number(e);return n&&1==n},t.setLeftBtnFold=function(e){a.set(M+IS(h).GetRoleId(),String(e))},t.checkRightBtnFold=function(){var e=a.get(g+IS(h).GetRoleId());if(!e||""==e)return!1;var n=Number(e);return n&&1==n},t.setRightBtnFold=function(e){a.set(g+IS(h).GetRoleId(),String(e))},e}());t._RF.pop()}}}));

