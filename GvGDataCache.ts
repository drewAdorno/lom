System.register("chunks:///_virtual/GvGDataCache.ts",["cc","./StorageUtil.ts","./CommonDefine.ts","./RoleDataCache.ts","./RoleDefine.ts","./GvGDefine.ts"],(function(t){"use strict";var e,n,i,o,u,s,a;return{setters:[function(t){e=t.cclegacy},function(t){n=t.default},function(t){i=t.CommonEventDefine},function(t){o=t.RoleDataCache},function(t){u=t.RoleRedPointSystemEnum},function(t){s=t.GvGEventDefine,a=t.GvGStep}],execute:function(){e._RF.push({},"addbeDsBYRCzoC8YvwhSJ5t","GvGDataCache",void 0);var r="redRecord:GvGSignUp",d="openGuideRecord",c="mapViewBtnFold";t("GvGDataCache",function(){function t(){this.step=0,this.timeList=[],this.status=2,this.roadIdToInfo={},this.enemyName="",this.enemyId=0,this.ifJoin=0,this.waitPlayHomeBreak=!1,this.myRoad=0,this.ifCross=0,this.enemyServerId=0,this.curSeason=0,this.curRound=0,this.curRanking=0,this.factStep=0,this.endTime=0}var e=t.prototype;return e.clear=function(){},e.offSignUpRedPoint=function(){n.set(r,(new Date).toDateString()),normalEvent.emit(s.GVG_RED_POINT_UPDATE),normalEvent.emit(i.UPDATE_MAIN_GUILD_RED_POINT)},e.getSignUpRedPoint=function(){if(!IS(o).HasGuild())return 0;if(this.step!=a.SignUp)return 0;var t=n.get(r);return t&&t==(new Date).toDateString()?0:1},e.getSelectRoadRedPoint=function(){return IS(o).HasGuild()?1!=this.ifJoin||this.step!=a.Ready?0:0==this.myRoad?1:0:0},e.getGvGRedPoint=function(){return this.getSignUpRedPoint()+this.getSelectRoadRedPoint()+IS(o).getRedNumByModule(u.System_Guild,1)+IS(o).getRedNumByModule(u.System_Guild,2)+IS(o).getRedNumByModule(u.System_Guild,3)+IS(o).getRedNumByModule(u.System_Guild,4)+IS(o).getRedNumByModule(u.System_Guild,5)},e.checkHasOpenGuild=function(){return null!=n.get(d)},e.setOpenGuild=function(){n.set(d,1)},e.checkMapBtnFold=function(){var t=n.get(c);if(!t||""==t)return!1;var e=Number(t);return e&&1==e},e.setMapBtnFold=function(t){n.set(c,String(t))},e.getStepTypeByStep=function(t){return 0==t?a.NoInfo:1==t?a.SignUp:2==t?a.Matching:3==t?a.Ready:4==t||8==t||12==t?a.Adjust:7==t||9==t||13==t?a.Waiting:5==t||10==t||14==t?a.Fighting:6==t||11==t||15==t?a.Showing:void 0},t}());e._RF.pop()}}}));

