System.register("chunks:///_virtual/PvpCompetitionRewardView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./RankTitle.ts","./UIList.ts","./NodeUtil.ts","./index57.ts","./ItemIcon.ts","./ObjectUtil.ts","./BagModel.ts","./PvpControl.ts","./PvpDataCache.ts","./PvpDefine.ts","./BaseView.ts"],(function(t){"use strict";var e,n,i,o,s,a,r,d,l,c,f,p,u,h,v,w,C,R,I;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,i=t.ScrollView,o=t.Button,s=t.Sprite,a=t.Label,r=t.sys},function(t){d=t.RankTitle,l=t.TitleType},function(t){c=t.SelectedType,f=t.ListItem},function(t){p=t.default},null,function(t){u=t.IconAseetType},function(t){h=t.default},function(t){v=t.BagModel},function(t){w=t.default},function(t){C=t.PvpDataCache},function(t){R=t.PvpEventDefine},function(t){I=t.BaseView}],execute:function(){n._RF.push({},"3fd5am+qPpCN5Twus1kp5es","PvpCompetitionRewardView",void 0);t("PvpCompetitionRewardView",function(t){function n(){var e;return(e=t.call(this)||this).nodeRank=void 0,e.RewardUIList=void 0,e.selfRewardList=void 0,e.name="PvpCompetitionRewardView",e.url="ui/module/pvp/PvpCompetitionRewardView",e}e(n,t);var s=n.prototype;return s.onInit=function(){var t=this;this.nodeRank=this.findChild("root/content/titleBg/RankTitle");var e=this.findChildComponent("root/ScrollView",i);this.RewardUIList=this.addUIList(e,L),this.RewardUIList.selectedMode=c.SINGLE;var n=this.findChildComponent("root/content/nodeTop/ScrollView",i);this.selfRewardList=this.addUIList(n,y),this.selfRewardList.selectedMode=c.SINGLE,this.selfRewardList.lackCenter=!0;var s=this.findChild("root/content/btnClose");this.addComponentCallbackListener(s,o.EventType.CLICK,(function(){t.close()}))},s.onAfterOpen=function(){IS(w).reqCrossPvpInfo(),this.upDataInfo()},s.upDataInfo=function(){var t=[],e=h.copyArray(configCross_pvp_grade.getDatas());e.sort((function(t,e){return t.id>e.id?-1:1}));for(var n=0;n<e.length;n++){var i=e[n],o=i.show_reward;t.push({dan:i.id,reward:o})}this.RewardUIList.datas=t;var s=IS(C).CrossPvpInfo,a=[];if(s){var r=configCross_pvp_grade.getDataByKey(s.dan);new d(this,this.nodeRank).SetRankTitle(s.dan,l.CROSS_PVP),a=r.show_reward}this.selfRewardList.datas=a},s.registerUpdateHandler=function(){this.addEvent(R.CROSS_PVP_INFO_UPDATE,this.upDataInfo,this)},s.onBeforeClose=function(){},s.onDestroy=function(){},n}(I));var L=function(t){function n(){for(var e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))||this).nodeRank=void 0,e.selfscroll=void 0,e.selfRewardList=void 0,e}e(n,t);var o=n.prototype;return o.onInit=function(){this.nodeRank=p.findChild(this.node,"RankTitle"),this.selfscroll=p.findChildComponent(this.node,"ScrollView",i),this.selfRewardList=this.view.addUIList(this.selfscroll,y),this.selfRewardList.outScroll=this.view.RewardUIList.scrollView},o.onRender=function(t,e){new d(this.view,this.nodeRank).SetRankTitle(t.dan,l.CROSS_PVP),this.selfRewardList.datas=t.reward},n}(f),y=function(t){function n(){return t.apply(this,arguments)||this}return e(n,t),n.prototype.onRender=function(t,e){var n=configGoods.getDataByKey(t[0]),i=configColor.getDataByKey(n.quality),d=this.node.getComponent(s),l=p.findChildComponent(this.node,"imgIcon",s),c=p.findChildComponent(this.node,"txtCount",a);c.string=t[1],this.view.loadIcon(d,"icon_equip",i.path),this.view.loadIcon(l,n.icon_group,n.icon,null,u.UI_ATLAS,!0),r.uiMirror&&c.node.setScale(1,1,1),this.view.addComponentCallbackListener(this.node,o.EventType.CLICK,(function(){IS(v).OpenItemTips(n.id,l.node)}))},n}(f);n._RF.pop()}}}));

