System.register("chunks:///_virtual/FriendRequestView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIList.ts","./NodeUtil.ts","./TimeUtil.ts","./index57.ts","./FriendControl.ts","./FriendDefine.ts","./FriendModel.ts","./UIDefine.ts","./BaseSubView.ts"],(function(t){"use strict";var e,i,n,o,d,s,r,a,h,l,c,f,u,m,v,p;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,n=t.ScrollView,o=t.Sprite,d=t.Label,s=t.Button},function(t){r=t.SelectedType,a=t.ListItem},function(t){h=t.default},function(t){l=t.default},null,function(t){c=t.default},function(t){f=t.FriendDefine,u=t.FriendListType},function(t){m=t.FriendModel},function(t){v=t.PanelTabType},function(t){p=t.BaseSubView}],execute:function(){i._RF.push({},"9275dRFrqtG6Z5qlbVpE4Qo","FriendRequestView",void 0);t("default",function(t){function i(){var e;return(e=t.call(this)||this).friendList=void 0,e.name="FriendRequestView",e.url="ui/module/friend/FriendRequestView",e}e(i,t);var o=i.prototype;return o.onInit=function(){var t=this.findChildComponent("list",n);this.friendList=this.addUIList(t,C),this.friendList.selectedMode=r.SINGLE},o.registerUpdateHandler=function(){this.addEvent(f.FriendInfoBack,this.updateInfo,this)},o.onAfterOpen=function(){IS(c).reqFriendList(u.FriendRequest,1)},o.onBeforeClose=function(){},o.onDestroy=function(){},o.updateInfo=function(){var t=IS(m).GetListByType(u.FriendRequest);this.friendList.datas=t,this.parentView.curType==v.Friend_Request&&this.parentView.UpdateEmpty(t.length<=0)},i}(p));var C=function(t){function i(){for(var e,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))||this).imgFrame=void 0,e.imgIcon=void 0,e.imgHeadFrame=void 0,e.txtName=void 0,e.txtLev=void 0,e.txtPower=void 0,e.txtTime=void 0,e.look_btn=void 0,e.ok_btn=void 0,e.cancel_btn=void 0,e}e(i,t);var n=i.prototype;return n.onInit=function(){var t=this;this.imgFrame=h.findChildComponent(this.node,"imgFrame",o),this.imgIcon=h.findChildComponent(this.node,"imgFrame/imgIcon",o),this.imgHeadFrame=h.findChildComponent(this.node,"imgFrame/imgHeadFrame",o),this.txtName=h.findChildComponent(this.node,"name",d),this.txtLev=h.findChildComponent(this.node,"lev",d),this.txtPower=h.findChildComponent(this.node,"power",d),this.txtTime=h.findChildComponent(this.node,"time",d),this.ok_btn=h.findChild(this.node,"ok_btn"),this.view.addComponentCallbackListener(this.ok_btn,s.EventType.CLICK,(function(){t.onBtnClick(2)})),this.view.loadIcon(this.ok_btn.getComponent(o),"friend","hy_ICON_gou"),this.cancel_btn=h.findChild(this.node,"cancel_btn"),this.view.addComponentCallbackListener(this.cancel_btn,s.EventType.CLICK,(function(){t.onBtnClick(1)})),this.view.loadIcon(this.cancel_btn.getComponent(o),"friend","hy_ICON_cha"),this.look_btn=h.findChild(this.node,"imgFrame"),this.view.addComponentCallbackListener(this.look_btn,s.EventType.CLICK,(function(){IS(c).reqOtherRoleNotice(t.data.role_id)}))},n.onRender=function(t,e){this.view.loadRemoteIcon(t.head.url,this.imgIcon),this.txtName.string=t.name+" Lv."+t.lv,this.txtLev.string="",this.txtPower.string=GetLanguage(200295)+t.cur_power;var i=GetLanguage(200057);0==t.is_online&&(i=l.getDateDiff(t.offline_time)),this.txtTime.string=i;var n=t.head.frame_id;if(n>0){this.imgHeadFrame.node.active=!0;var o=configAvatar_frame.getDataByKey(n);this.view.loadIcon(this.imgHeadFrame,"icon_frame",o.icon)}else this.imgHeadFrame.node.active=!1},n.onBtnClick=function(t){if(t>0){var e=[];e.push({k:this.data.role_id,v:t}),IS(c).reqComfirmFriend(e)}},i}(a);i._RF.pop()}}}));

