System.register("chunks:///_virtual/DLPlayerAI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./FixMath.ts","./IAIHandle.ts","./EnumDefine.ts","./V2.ts"],(function(t){"use strict";var e,i,n,r,a,l,s;return{setters:[function(t){e=t.inheritsLoose,i=t.createForOfIteratorHelperLoose},function(t){n=t.cclegacy},function(t){r=t.FixMath},function(t){a=t.IAIHandle},function(t){l=t.TargetFilter},function(t){s=t.V2}],execute:function(){n._RF.push({},"efd8dp4bzxIpI0Hb+Ipsspn","DLPlayerAI",void 0);new s,t("DLPlayerAI",function(t){function n(){return t.apply(this,arguments)||this}e(n,t);var a=n.prototype;return a.handleAction=function(){var t=this.getTarget();if(null==t)return this.cast.wantTarget=null,this.cast.curTarget=null,void this.startSkill();this.startSkill(),this.selectTarget(t)},a.getTarget=function(){for(var t,e=this.cast,n=e.hatredCtr.getHatredList(),r=i(n);!(t=r()).done;){var a=t.value;if(!a.unit.isDead&&a.unit.position.y==e.position.y)return a.unit}for(var l,s=i(n);!(l=s()).done;){var u=l.value;if(!u.unit.isDead)return u.unit}return null},a.startSkill=function(){var t=this.cast;if(GlobalDefine.CLIENT_TYPE&&!t.battleMain.playerAuto){if(t.battleMain.showMainCtr.player==t)return}else if(!t.battleMain.playerAuto)return;var e=t.data.skillList;if(null==e||0==e.length)return!1;for(var n,a=i(e);!(n=a()).done;){var s=n.value;if(t.aiTime>=s.useDelay&&0==s.state){var u=r.roundInt(s.config.autoDis+t.skillAutoDis);if(0==t.battleMain.unitMgr.findTarget(t,l.Enemy,u,t.position).length)continue;t.addUnlimitSkill(s)}}},n}(a));n._RF.pop()}}}));

