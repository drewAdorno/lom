System.register("chunks:///_virtual/CircleOfFriendsView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameLoadingView.ts","./TranslateMgr.ts","./index57.ts","./ObjectUtil.ts","./RoleDataCache.ts","./CircleOfFriendsControl.ts","./CircleOfFriendsDataCache.ts","./CircleOfFriendsDefine.ts","./BaseView.ts"],(function(i){"use strict";var e,t,n,s,l,a,r,h,o,c,d;return{setters:[function(i){e=i.inheritsLoose},function(i){t=i.cclegacy},function(i){n=i.GameLoadingView},function(i){s=i.TranslateMgr},null,function(i){l=i.default},function(i){a=i.RoleDataCache},function(i){r=i.default},function(i){h=i.CircleOfFriendsDataCache},function(i){o=i.CircleOfFriendsEvent,c=i.CircleOfFriendsDefine},function(i){d=i.BaseView}],execute:function(){t._RF.push({},"00878yjr89AFZaheYBZLzq1","CircleOfFriendsView",void 0);i("default",function(i){function t(){var e;return(e=i.call(this)||this).showViewList=[],e.mainPanel=void 0,e.childViewList=void 0,e.name="CircleOfFriendsView",e.url="ui/module/CircleOfFriends/CircleOfFriendsView",e.fullScreen=!1,e}e(t,i);var d=t.prototype;return d.registerUpdateHandler=function(){this.addEvent(o.OpenChildView,this.openChildView,this),this.addEvent(o.CloseChildView,this.closeChildView,this)},d.onInit=function(){var i;this.mainPanel=this.addSubView("CircleOfFriendsMainSubView",this.findChild("mainPanel")),this.childViewList=((i={})[c.ViewType.OtherPanel]=this.addSubView("CircleOfFriendsOtherSubView",this.findChild("ChildView/OtherPanel")),i[c.ViewType.MessageMainPanel]=this.addSubView("CircleOfFriendsMessageMainSubView",this.findChild("ChildView/MessageMainPanel")),i[c.ViewType.AttentionPanel]=this.addSubView("CircleOfFriendsAttentionSubView",this.findChild("ChildView/AttentionPanel")),i)},d.onAfterOpen=function(){for(var i,e=this.openArgs[0],t=configCircle_location.getDatas(),s=0;s<t.length&&(i=t[s].id,t[s].type!=n.instance.defaultLan);s++);IS(r).sendToSetArea(i,0,0),e?this.openChildView(c.ViewType.OtherPanel,[e]):this.openMainView()},d.openMainView=function(){for(var i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];for(var n in this.mainPanel.setActive(!0,e),this.showViewList=[],this.childViewList)this.childViewList[n].setActive(!1)},d.openChildView=function(i,e){if(void 0===e&&(e=[]),i!=c.ViewType.OtherPanel||e[0]!=IS(a).GetRoleId()){if(i==c.ViewType.OtherPanel){var t=this.childViewList[c.ViewType.OtherPanel];if(t.isActive&&e[0]==t.target_id)return}for(var n in this.mainPanel.setActive(!1),this.childViewList)if(Number(n)==i){for(var s=!1,l=0;l<this.showViewList.length;l++)if(i==this.showViewList[l]){this.showViewList.splice(l,1),this.showViewList.push(i),s=!0;break}s||this.showViewList.push(i),this.childViewList[n].setActive(!0,e),this.childViewList[n].node.setSiblingIndex(3)}else this.childViewList[n].setActive(!1)}else this.openMainView(c.MainPanelTabType.My)},d.closeChildView=function(i){if(this.showViewList.length>0){this.showViewList.slice(0,this.showViewList.length-1);for(var e=l.copyArray(this.showViewList),t=0;t<e.length;t++)if(i==e[t]){var n=this.showViewList[t-1];this.showViewList.splice(t,1),n?this.openChildView(n):this.openMainView();break}}},d.onBeforeClose=function(){this.mainPanel.bottomTab=null,IS(h).ClearPlayerInfo(),IS(h).ClearAttentionInfo(),IS(h).ClearBlockInfo(),IS(h).ClearDisscussInfo(),IS(h).ClearDynamicOtherInfo,IS(h).ClearFansInfo(),IS(h).ClearSquareInfo(),IS(s).ClearTranslateByKey1("CircleOfFriend")},d.onDestroy=function(){},t}(d));t._RF.pop()}}}));

