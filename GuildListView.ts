System.register("chunks:///_virtual/GuildListView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GuildPinItem.ts","./UIList.ts","./NodeUtil.ts","./index57.ts","./MessageView.ts","./RoleDataCache.ts","./GuildControl.ts","./GuildDataCache.ts","./GuildDefine.ts","./BaseView.ts"],(function(t){"use strict";var i,n,e,o,s,d,l,u,a,r,f,h,c,v,m,C,g;return{setters:[function(t){i=t.inheritsLoose},function(t){n=t.cclegacy,e=t.Button,o=t.ScrollView,s=t.sys,d=t.Sprite,l=t.Label,u=t.js},function(t){a=t.GuildPinItem},function(t){r=t.ListItem},function(t){f=t.default},null,function(t){h=t.default},function(t){c=t.RoleDataCache},function(t){v=t.default},function(t){m=t.default},function(t){C=t.GuildEventDefine},function(t){g=t.BaseView}],execute:function(){n._RF.push({},"b6d7dbkx5BLNY9xWo+1rlpS","GuildListView",void 0);t("default",function(t){function n(){var i;return(i=t.call(this)||this).guildList=void 0,i.guildInfo={},i.name="GuildListView",i.url="ui/module/guild/GuildListView",i}i(n,t);var l=n.prototype;return l.onInit=function(){var t=this,i=this.findChild("imgMask");this.addComponentCallbackListener(i,e.EventType.CLICK,(function(){t.close()}));var n=this.findChild("view/btnClose");this.addComponentCallbackListener(n,e.EventType.CLICK,(function(){t.close()}));var l=this.findChildComponent("view/list",o);this.guildList=this.addUIList(l,p);var u=this.findChild("view/list");if(this.addComponentCallbackListener(u,o.EventType.SCROLL_TO_BOTTOM,(function(){if(!t.guildInfo.isMax){var i=t.guildInfo.page+1;IS(v).send_29_3(3,"",i)}})),s.uiMirror){var a=this.findChildComponent("view/topTitle/txt2",d);this.loadIcon(a,"guild","jz_jzsq_dengji")}},l.registerUpdateHandler=function(){this.addEvent(C.GUILD_LIST_UPDATE,this.updateInfo,this)},l.onAfterOpen=function(){IS(v).send_29_3(3,"",1)},l.onBeforeClose=function(){},l.onDestroy=function(){},l.updateInfo=function(){this.guildInfo=IS(m).GetGuildList(),this.guildList.datas=this.guildInfo.guild_list},n}(g));var p=function(t){function n(){for(var i,n=arguments.length,e=new Array(n),o=0;o<n;o++)e[o]=arguments[o];return(i=t.call.apply(t,[this].concat(e))||this).txtName=void 0,i.txtLev=void 0,i.txtNum=void 0,i.guildPinItem=void 0,i}i(n,t);var o=n.prototype;return o.onInit=function(){var t=this;this.txtName=f.findChildComponent(this.node,"name",l),this.txtLev=f.findChildComponent(this.node,"lev",l),this.txtNum=f.findChildComponent(this.node,"num",l),this.guildPinItem=new a(this.view,f.findChild(this.node,"GuildPinItem"));var i=f.findChild(this.node,"btn");this.view.addComponentCallbackListener(i,e.EventType.CLICK,(function(){t.data.guild_id==IS(c).GetGuildId()?h.showFlyTip(GetLanguage(200233)):IS(v).send_29_1(t.data.guild_id)}))},o.onRender=function(t,i){this.txtName.string=t.name,this.txtLev.string=t.level;var n=configGuild_level.getDataByKey(t.level).max_num;this.txtNum.string=u.formatStr("%s/%s",t.member_num,n),this.guildPinItem.SetItem(t.guild_flag)},n}(r);n._RF.pop()}}}));

