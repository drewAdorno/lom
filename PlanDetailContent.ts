System.register("chunks:///_virtual/PlanDetailContent.ts",["cc","./NodeUtil.ts","./StringUtil.ts","./index57.ts","./ItemIcon.ts","./ObjectUtil.ts","./ArtifactDataCache.ts","./EquipModel.ts","./FlyPetDataCache.ts","./FlyPetDefine.ts","./HorseDataChche.ts","./PetModel.ts","./RelicModel.ts","./SkillModel.ts","./WingDataCache.ts","./RoleDataCache.ts","./UIDefine.ts"],(function(t){"use strict";var i,e,n,o,a,l,s,d,h,r,u,c,m,f,I,v,g,p,k,C,S,w,y,T,_,b;return{setters:[function(t){i=t.cclegacy,e=t.UITransform,n=t.Label,o=t.Button,a=t.Layout,l=t.js,s=t.Sprite,d=t.Overflow,h=t.sys,r=t.instantiate,u=t.assert},function(t){c=t.default},function(t){m=t.default},null,function(t){f=t.IconAseetType},function(t){I=t.default},function(t){v=t.ArtifactDataCache},function(t){g=t.EquipModel},function(t){p=t.default},function(t){k=t.FlyPetQualityRes},function(t){C=t.HorseDataCache},function(t){S=t.PetModel},function(t){w=t.RelicModel},function(t){y=t.SkillModel},function(t){T=t.WingDataCache},function(t){_=t.RoleDataCache},function(t){b=t.OpenFunction}],execute:function(){var R;i._RF.push({},"feda8pirPNBCJ6uD/s8C5H/","PlanDetailContent",void 0);var L,P=[{equipType:1,spriteName:"zjm_ui_wuqi"},{equipType:2,spriteName:"zjm_ui_goushi"},{equipType:3,spriteName:"zjm_ui_mianshi"},{equipType:4,spriteName:"zjm_ui_hujian"},{equipType:5,spriteName:"zjm_ui_kaijia"},{equipType:6,spriteName:"zjm_ui_bijia"},{equipType:7,spriteName:"zjm_ui_shoutao"},{equipType:8,spriteName:"zjm_ui_yaodai"},{equipType:9,spriteName:"zjm_ui_hutui"},{equipType:10,spriteName:"zjm_ui_xiezi"}];!function(t){t[t.BuffUnlock=0]="BuffUnlock",t[t.BuffLock=1]="BuffLock",t[t.LevelUnlockable=2]="LevelUnlockable",t[t.LevelLock=3]="LevelLock"}(L||(L={}));var E=((R={})[1]="yw_ui_yiwukuang01",R[2]="yw_ui_yiwukuang02",R[3]="yw_ui_yiwukuang03",R[4]="yw_ui_yiwukuang06",R[5]="yw_ui_yiwukuang07",R[6]="yw_ui_yiwukuang04",R[7]="yw_ui_yiwukuang05",R);t("PlanDetailContent",function(){function t(t,i){this.view=void 0,this.node=void 0,this.curPlanId=void 0,this.utContent=void 0,this.nodeEquipRoot=void 0,this.nodeEquipParent=void 0,this.nodeEquipItem=void 0,this.equipItems=void 0,this.suit_id=void 0,this.petTabId=void 0,this.skillTabId=void 0,this.statueTabId=void 0,this.relicTabId=void 0,this.wingTalentTabId=void 0,this.flyPetId=void 0,this.txtEquipTabName=void 0,this.txtSkillTabName=void 0,this.txtPetTabName=void 0,this.txtStatueTabName=void 0,this.txtRelicTabName=void 0,this.txtWingTalentTabName=void 0,this.nodeStatueSpace=void 0,this.nodeWingTalentSpace=void 0,this.nodeSkillRoot=void 0,this.nodePetRoot=void 0,this.nodeStatueRoot=void 0,this.nodeRelicRoot=void 0,this.nodeWingTalentRoot=void 0,this.skillItems=[],this.petItems=[],this.statueAttrItems=[],this.wingTalentAttrItems=[],this.curStatueInfo=void 0,this.relicItems=[],this.nodeMountSkillEmpty=void 0,this.mountSkillItem=void 0,this.nodeArtifactSkillEmpty=void 0,this.artifactSkillItem=void 0,this.nodeWingSkillEmpty=void 0,this.wingSkillItem=void 0,this.mountSkillId=void 0,this.artifactSkillId=void 0,this.wingSkillId=void 0,this.utStatueRoot=void 0,this.utWingTalentRoot=void 0,this.txtOtherName=void 0,u(null!=t,"parentView != null"),u(null!=i,"node != null"),this.view=t,this.node=i}var i=t.prototype;return i.init=function(t){var i=this;this.utContent=this.node.getComponent(e),this.txtEquipTabName=c.findChildComponent(this.node,"equipRoot/name/txtName",n);var d=c.findChild(this.node,"equipRoot/btnSwitch");d.active=!t,t||this.view.addComponentCallbackListener(d,o.EventType.CLICK,(function(){uiMgr.openView("PlanEquipEditView",i.curPlanId)})),this.txtSkillTabName=c.findChildComponent(this.node,"skillRoot/name/txtName",n);var h=c.findChild(this.node,"skillRoot/btnSwitch");h.active=!t,t||this.view.addComponentCallbackListener(h,o.EventType.CLICK,(function(){uiMgr.openView("PlanSkillEditView",i.curPlanId)})),this.txtPetTabName=c.findChildComponent(this.node,"petRoot/name/txtName",n);var r=c.findChild(this.node,"petRoot/btnSwitch");r.active=!t,t||this.view.addComponentCallbackListener(r,o.EventType.CLICK,(function(){uiMgr.openView("PlanPetEditView",i.curPlanId)})),this.txtStatueTabName=c.findChildComponent(this.node,"statueRoot/name/txtName",n);var u=c.findChild(this.node,"statueRoot/btnSwitch");u.active=!t,t||this.view.addComponentCallbackListener(u,o.EventType.CLICK,(function(){uiMgr.openView("PlanStatueEditView",i.curPlanId)})),this.nodeStatueSpace=c.findChild(this.node,"statueRoot/imgSpace"),this.txtRelicTabName=c.findChildComponent(this.node,"relicRoot/name/txtName",n);var m,v=c.findChild(this.node,"relicRoot/btnSwitch");v.active=!t,t||this.view.addComponentCallbackListener(v,o.EventType.CLICK,(function(){uiMgr.openView("PlanRelicEditView",i.curPlanId)})),this.nodeEquipRoot=c.findChild(this.node,"equipRoot"),this.nodeEquipParent=c.findChild(this.node,"equipRoot/equipParent"),this.nodeEquipItem=c.findChild(this.node,"equipRoot/equipParent/equipItem"),this.nodeEquipItem.active=!1,this.equipItems=[];for(var k=function(t){var e=P[t].equipType;m=P[t].spriteName;var a=nodeInstantiate.instantiate(i.nodeEquipItem);a.parent=i.nodeEquipParent,a.name=String(t+1);var l={node:a,imgType:c.findChildComponent(a,"imgEquipType",s),nodeEquip:c.findChild(a,"equipInfo"),imgFrame:c.findChildComponent(a,"equipInfo/imgFrame",s),imgIcon:c.findChildComponent(a,"equipInfo/imgIcon",s),imgFigure:c.findChildComponent(a,"equipInfo/imgFigure",s),txtLevel:c.findChildComponent(a,"equipInfo/txtLevel",n),equipType:e};i.view.addComponentCallbackListener(a,o.EventType.CLICK,(function(){var t=IS(g).getEquipByLocation(e,i.suit_id);I.isEmpty(t)||uiMgr.openView("EquipDetailView",null==t?void 0:t.equip_id)})),i.view.loadIcon(l.imgType,"equip",m),a.active=!0,i.equipItems.push(l)},C=0;C<P.length;C++)k(C);this.nodeSkillRoot=c.findChild(this.node,"skillRoot"),this.nodePetRoot=c.findChild(this.node,"petRoot"),this.nodeStatueRoot=c.findChild(this.node,"statueRoot"),this.utStatueRoot=this.nodeStatueRoot.getComponent(e),this.nodeRelicRoot=c.findChild(this.node,"relicRoot"),this.nodeWingTalentRoot=c.findChild(this.node,"wingTalentRoot"),this.utWingTalentRoot=this.nodeWingTalentRoot.getComponent(e),this.view.dealMirrorLayout(c.findChildComponent(this.node,"skillRoot/wearParent",a)),this.view.dealMirrorLayout(c.findChildComponent(this.node,"petRoot/wearParent",a)),this.view.dealMirrorLayout(c.findChildComponent(this.node,"otherRoot/wearParent",a));for(var S=1;S<=5;S++){var w=c.findChild(this.node,l.formatStr("skillRoot/wearParent/item%s",S+1));this.skillItems.push({node:w,pos:S+1,nodeLock:c.findChild(w,"imgLock"),nodeEmpty:c.findChild(w,"btnWear"),nodeWear:c.findChild(w,"nodeWear"),imgFrame:w.getComponent(s),imgIcon:c.findChildComponent(w,"nodeWear/imgIcon",s),txtLevel:c.findChildComponent(w,"nodeWear/txtLevel",n)});var y=c.findChild(this.node,l.formatStr("petRoot/wearParent/item%s",S));this.petItems.push({node:y,pos:S,nodeLock:c.findChild(y,"imgLock"),nodeEmpty:c.findChild(y,"btnWear"),nodeWear:c.findChild(y,"nodeWear"),imgFrame:y.getComponent(s),imgIcon:c.findChildComponent(y,"nodeWear/imgIcon",s),txtLevel:c.findChildComponent(y,"nodeWear/txtLevel",n)}),this.view.adjustMirrorNode(c.findChild(y,"nodeWear/txtLevel"),0,!0);var T=c.findChild(this.node,l.formatStr("statueRoot/effectParent/effectItem%s",S));this.statueAttrItems.push({node:T,txtAttrName:c.findChildComponent(T,"txtEffectName",n),txtAttrAttr:c.findChildComponent(T,"txtEffectAttr",n)})}var R=c.findChild(this.node,"wingTalentRoot/effectParent/effectItem");this.wingTalentAttrItems.push({node:R,txtAttr:c.findChildComponent(R,"txtEffect",n)});for(var L=1;L<=7;L++){var E=c.findChild(this.node,l.formatStr("relicRoot/wearParent/relicItem%s",L)),q=c.findChildComponent(E,"imgType",s),N=configRelic_pos.getDataByKey(L);this.view.loadIcon(q,"icon_relic",N.icon,null,f.ICON_SPRITE),this.relicItems.push({node:E,imgBg:c.findChildComponent(E,"imgBg",s),nodeLock:c.findChild(E,"imgLock"),nodeAdd:c.findChild(E,"imgAdd"),imgIcon:c.findChildComponent(E,"imgIcon",s),txtLevel:c.findChildComponent(E,"txtLevel",n),type:L})}if(this.txtOtherName=c.findChildComponent(this.node,"otherRoot/name/txtName",n),!t){var x=c.findChild(this.node,"otherRoot/wearParent/item1");this.view.addComponentCallbackListener(x,o.EventType.CLICK,(function(){IS(_).CheckFuncOpen(b.FUNC_MOUNT,!0)&&uiMgr.openView("MountSkillPlanSelectView",i.curPlanId)}))}this.nodeMountSkillEmpty=c.findChild(this.node,"otherRoot/wearParent/item1/mountEquipItem");var B=c.findChild(this.node,"otherRoot/wearParent/item1/nodeSkill");if(this.mountSkillItem={node:B,imgFrame:B.getComponent(s),imgIcon:c.findChildComponent(B,"nodeWear/imgIcon",s),txtLevel:c.findChildComponent(B,"nodeWear/txtLevel",n)},!t){var F=c.findChild(this.node,"otherRoot/wearParent/item2");this.view.addComponentCallbackListener(F,o.EventType.CLICK,(function(){IS(_).CheckFuncOpen(b.FUNC_ARTIFACT,!0)&&uiMgr.openView("ArtifactSkillPlanSelectView",i.curPlanId)}))}this.nodeArtifactSkillEmpty=c.findChild(this.node,"otherRoot/wearParent/item2/artifactEquipItem");var D=c.findChild(this.node,"otherRoot/wearParent/item2/nodeSkill");if(this.artifactSkillItem={node:D,imgFrame:D.getComponent(s),imgIcon:c.findChildComponent(D,"nodeWear/imgIcon",s),txtLevel:c.findChildComponent(D,"nodeWear/txtLevel",n)},!t){var W=c.findChild(this.node,"otherRoot/wearParent/item3");this.view.addComponentCallbackListener(W,o.EventType.CLICK,(function(){IS(_).CheckFuncOpen(b.FUNC_BACK,!0)&&uiMgr.openView("WingSkillPlanSelectView",i.curPlanId)}))}this.nodeWingSkillEmpty=c.findChild(this.node,"otherRoot/wearParent/item3/wingEquipItem");var A=c.findChild(this.node,"otherRoot/wearParent/item3/nodeSkill");if(this.wingSkillItem={node:A,imgFrame:A.getComponent(s),imgIcon:c.findChildComponent(A,"nodeWear/imgIcon",s),txtLevel:c.findChildComponent(A,"nodeWear/txtLevel",n)},!t){var M=c.findChild(this.node,"flyPetRoot/wearParent/BEquipItem");this.view.addComponentCallbackListener(M,o.EventType.CLICK,(function(){if(IS(_).CheckFuncOpen(b.FUNC_FLY_PET,!0)){var t,e=null!=(t=IS(p).GetPetList())?t:[],n=[];for(var o in e)e[o]&&n.push(e[o]);n.length>0&&uiMgr.openView("PlanFlyPetUseSelectView",i.curPlanId)}}))}this.txtWingTalentTabName=c.findChildComponent(this.node,"wingTalentRoot/name/txtName",n);var K=c.findChild(this.node,"wingTalentRoot/btnSwitch");K.active=!t,t||this.view.addComponentCallbackListener(K,o.EventType.CLICK,(function(){uiMgr.openView("PlanWingTalentEditView",i.curPlanId)})),this.nodeWingTalentSpace=c.findChild(this.node,"wingTalentRoot/imgSpace")},i.showContent=function(t){var i=this;this.txtOtherName.schedule((function(){var t=i.txtOtherName.node.getComponent(e);t.width>=441?(i.txtOtherName.overflow=d.SHRINK,t.width=441):i.txtOtherName.overflow=d.NONE}),0),this.curPlanId=t;for(var n=IS(_).planIdToInfo[this.curPlanId].detail,o=0;o<n.length;o++)1==n[o].k&&(this.suit_id=n[o].v),2==n[o].k&&(this.skillTabId=n[o].v),3==n[o].k&&(this.petTabId=n[o].v),4==n[o].k&&(this.statueTabId=n[o].v),5==n[o].k&&(this.relicTabId=n[o].v),7==n[o].k&&(this.mountSkillId=n[o].v),8==n[o].k&&(this.artifactSkillId=n[o].v),6==n[o].k&&(this.wingSkillId=n[o].v),9==n[o].k&&(this.wingTalentTabId=n[o].v),10==n[o].k&&(this.flyPetId=n[o].v);var a=this.showEquipInfo()+this.showSkillInfo()+this.showPetInfo()+this.showStatueInfo()+this.showRelicInfo()+this.showWingTalentInfo()+this.showOtherInfo()+this.showFlyPetInfo()+30;this.utContent.height=a},i.showEquipInfo=function(){return this.nodeEquipRoot.active=0!=this.suit_id,0==this.suit_id?0:(this.txtEquipTabName.string=IS(g).getEquipTabName(this.suit_id),this.updateEquipShow(),332)},i.updateEquipShow=function(){if(0!=this.suit_id)for(var t=0;t<this.equipItems.length;t++)this.updateSingleEquip(this.equipItems[t])},i.updateSingleEquip=function(t){var i=t.equipType,e=IS(g).getEquipByLocation(i,this.suit_id);if(I.isEmpty(e))t.nodeEquip.active=!1;else{var n=configEquipment.getDataByKey(e.config_id);t.nodeEquip.active=!0,this.view.loadIcon(t.imgIcon,n.atlas,n.icon,null,f.ICON_SPRITE),this.view.loadIcon(t.imgFrame,"icon_equip",configColor.getDataByKey(n.quality).path),t.txtLevel.string=m.formatStr("Lv.##1",e.equip_lv),t.imgFigure.node.active=IS(g).checkFigureTipShow(i)||!1;var o=IS(g).getEquipFigureByLocation(i);t.imgFigure.grayscale=0==o||-1==o}},i.showSkillInfo=function(){return this.nodeSkillRoot.active=0!=this.skillTabId,0==this.skillTabId?0:(this.txtSkillTabName.string=IS(y).getTabName(this.skillTabId),this.updateTabSkill(),180.26)},i.updateTabSkill=function(){for(var t=IS(y).getTabInfo(this.skillTabId),i=t?t.pos_info:[],e={},n=0;n<i.length;n++)e[i[n].k]=i[n].v;for(var o=0;o<this.skillItems.length;o++){var a=this.skillItems[o],s=a.pos;if(a.nodeLock.active=!1,a.nodeEmpty.active=!1,a.nodeWear.active=!1,1==IS(y).checkPosUnlock(s)){a.imgFrame.grayscale=!1;var d=e[s];if(d&&0!=d){var r=IS(y).getSystemSkillInfoBySkillId(d),u=configSkill.getDataByKey(d);this.view.loadIcon(a.imgFrame,"icon_skill",l.formatStr("common_ICON_jinengkuang0%s",u.quality)),this.view.loadIcon(a.imgIcon,"icon_skill",u.icon),a.nodeWear.active=!0;var c=r.skill_lv;a.txtLevel.string=m.formatStr("Lv.##1",c),h.uiMirror&&a.txtLevel.node.setScale(-1,1,1)}else this.view.loadIcon(a.imgFrame,"icon_skill","common_ICON_jinengkuang01"),a.nodeEmpty.active=!0}else a.nodeLock.active=!0,this.view.loadIcon(a.imgFrame,"icon_skill","common_ICON_jinengkuang01"),a.imgFrame.grayscale=!0}},i.showPetInfo=function(){return this.nodePetRoot.active=0!=this.petTabId,0==this.petTabId?0:(this.txtPetTabName.string=IS(S).getTabName(this.petTabId),this.updateTabPet(),177.27)},i.updateTabPet=function(){for(var t=IS(S).getTabInfo(this.petTabId),i=t?t.pos_info:[],e={},n=0;n<i.length;n++)e[i[n].k]=i[n].v;for(var o=0;o<this.petItems.length;o++){var a=this.petItems[o],l=a.pos;if(a.nodeLock.active=!1,a.nodeEmpty.active=!1,a.nodeWear.active=!1,1==IS(S).checkPosUnlock(l)){a.imgFrame.grayscale=!1;var s=e[l];if(s&&0!=s){var d=IS(S).getPetInfoByPetId(s),r=configPet.getDataByKey(s);this.view.loadIcon(a.imgFrame,"icon_pet",configColor.getDataByKey(r.quality).path),this.view.loadIcon(a.imgIcon,"icon_pet",r.icon),a.nodeWear.active=!0;var u=d.level;a.txtLevel.string=m.formatStr("Lv.##1",u),h.uiMirror&&a.txtLevel.node.setScale(-1,1,1)}else this.view.loadIcon(a.imgFrame,"icon_pet","zjm_ui_pinzhikuangbai"),a.nodeEmpty.active=!0}else a.nodeLock.active=!0,this.view.loadIcon(a.imgFrame,"icon_pet","zjm_ui_pinzhikuangbai"),a.imgFrame.grayscale=!0}},i.getStatueTabInfo=function(t){if(null!=this.curStatueInfo){var i=this.curStatueInfo.tab_list;if(null!=i)for(var e=0;e<i.length;e++)if(i[e].tab==t)return i[e]}},i.getStatueTabName=function(t){var i=this.getStatueTabInfo(t),e=i&&i.name;return e&&""!=e||(e=m.formatStrWithMirrorDeal(GetLanguage(200488),GetLanguage(200662+t))),e},i.showStatueInfo=function(){if(this.nodeStatueRoot.active=0!=this.statueTabId,0==this.statueTabId)return 0;var t=this.getStatueTabInfo(this.statueTabId);if(null==t)return 0;this.txtStatueTabName.string=this.getStatueTabName(this.statueTabId);for(var i=t.attr_list,e=0,n=0;n<this.statueAttrItems.length;n++){var o,a=this.statueAttrItems[n],l=i[n];if((null==l?L.LevelLock:l.is_lock)>L.BuffLock)a.node.active=!1;else{e+=1,a.node.active=!0;var s=(null==(o=configAttribute.getDataByKey(l.attr_id))?void 0:o.desc)||"";a.txtAttrName.string=""+s,a.txtAttrAttr.string="+"+(.01*l.value).toFixed(2)+"%"}}var d=e+1;if(d<=0)return this.utStatueRoot.height=80,80;var h=41*d+20*(d-1);return this.utStatueRoot.height=h+80,80+h},i.showWingTalentInfo=function(){if(this.nodeWingTalentRoot.active=this.wingTalentTabId&&0!=this.wingTalentTabId,0==this.wingTalentTabId||!this.wingTalentTabId)return 0;this.txtWingTalentTabName.string=IS(T).GetPlanName(this.wingTalentTabId);for(var t=IS(T).GetTalentAttrList(this.wingTalentTabId),i=0,e=0;e<Math.max(t.length,this.wingTalentAttrItems.length);e++){var o=this.wingTalentAttrItems[e];if(!o){var a=r(this.wingTalentAttrItems[0].node);a.parent=this.wingTalentAttrItems[0].node.parent,o={node:a,txtAttr:c.findChildComponent(a,"txtEffect",n)},this.wingTalentAttrItems.push(o)}var l=t[e];if(null!=l)if(i+=1,o.node.active=!0,l.attr_id){var s=configAttribute.getDataByKey(l.attr_id),d=(null==s?void 0:s.desc)||"",h="",u=l.value;2==s.num_type&&(h="%"),o.txtAttr.string=d+"+"+u+h}else{var m=configSkill.getDataByKey(l.skill_id);o.txtAttr.string=m.name}else o.node.active=!1}var f=Math.floor((i+1)/2);if(f<=0)return this.utWingTalentRoot.height=80,80;var I=41*f+20*(f-1);return this.utWingTalentRoot.height=I+80,80+I},i.showRelicInfo=function(){if(!IS(_).CheckFuncOpen(b.FUNC_LEGACY))return this.nodeRelicRoot.active=!1,0;if(this.nodeRelicRoot.active=0!=this.relicTabId,0==this.relicTabId)return 0;this.txtRelicTabName.string=IS(w).getTabName(this.relicTabId);for(var t=IS(w).getTabInfo(this.relicTabId),i=t?t.pos_info:[],e={},n=0;n<i.length;n++)e[i[n].k]=i[n].v;for(var o=0;o<this.relicItems.length;o++){var a=this.relicItems[o],l=a.type,s=IS(w).checkRelicTypeUnlock(l),d=e[l],h=null!=d?IS(w).getRelicInfoByCfgId(d):null,r=!I.isEmpty(h);a.nodeLock.active=!s,a.nodeAdd.active=s&&!r,a.imgIcon.node.active=r,a.txtLevel.node.active=r;var u=s?E[l]:"yw_ui_yiwukuang08";if(this.view.loadIcon(a.imgBg,"relic",u),r){a.txtLevel.string=m.formatStr("Lv.##1",h.lv);var c=configRelic.getDataByKeys("id",h.cfg_id,"level",h.lv);this.view.loadIcon(a.imgIcon,"icon_relic",c.icon,null,f.ICON_SPRITE)}}return 323},i.showOtherInfo=function(){var t=null==this.mountSkillId||0==this.mountSkillId||-1==this.mountSkillId;if(this.nodeMountSkillEmpty.active=t,this.mountSkillItem.node.active=!t,!t){var i=configMount_skin.getDataByKeys("mount_id",this.mountSkillId,"skin_level",IS(C).getSkinLevelByID(this.mountSkillId));0==i.skin_skill.length&&(i=configMount_skin.getDataByKeys("mount_id",this.mountSkillId,"skin_level",IS(C).getSkinLevelByID(this.mountSkillId)+1));var e=configSkill.getDataByKey(i.skin_skill[0][0]);this.view.loadIcon(this.mountSkillItem.imgFrame,"icon_skill",l.formatStr("common_ICON_jinengkuang0%s",e.quality)),this.view.loadIcon(this.mountSkillItem.imgIcon,"icon_skill",e.icon,null,f.ICON_SPRITE),this.mountSkillItem.txtLevel.string=m.formatStr("Lv.##1",IS(C).getSkinLevelByID(this.mountSkillId))}var n=null==this.artifactSkillId||0==this.artifactSkillId||-1==this.artifactSkillId;if(this.nodeArtifactSkillEmpty.active=n,this.artifactSkillItem.node.active=!n,!n){var o=configArtifact_skin.getDataByKeys("artifact_id",this.artifactSkillId,"skin_level",IS(v).getSkinLevelByID(this.artifactSkillId));0==o.skin_skill.length&&(o=configArtifact_skin.getDataByKeys("artifact_id",this.artifactSkillId,"skin_level",IS(v).getSkinLevelByID(this.artifactSkillId)+1));var a=configSkill.getDataByKey(o.skin_skill[0][0]);this.view.loadIcon(this.artifactSkillItem.imgFrame,"icon_skill",l.formatStr("common_ICON_jinengkuang0%s",a.quality)),this.view.loadIcon(this.artifactSkillItem.imgIcon,"icon_skill",a.icon,null,f.ICON_SPRITE),this.artifactSkillItem.txtLevel.string=m.formatStr("Lv.##1",IS(v).getSkinLevelByID(this.artifactSkillId))}var s=null==this.wingSkillId||0==this.wingSkillId||-1==this.wingSkillId;if(this.nodeWingSkillEmpty.active=s,this.wingSkillItem.node.active=!s,!s){var d=configBack_skin.getDataByKeys("back_id",this.wingSkillId,"skin_level",IS(T).getSkinLevelByID(this.wingSkillId));0==d.skin_skill.length&&(d=configBack_skin.getDataByKeys("back_id",this.wingSkillId,"skin_level",IS(T).getSkinLevelByID(this.wingSkillId)+1));var h=configSkill.getDataByKey(d.skin_skill[0][0]);this.view.loadIcon(this.wingSkillItem.imgFrame,"icon_skill",l.formatStr("common_ICON_jinengkuang0%s",h.quality)),this.view.loadIcon(this.wingSkillItem.imgIcon,"icon_skill",h.icon,null,f.ICON_SPRITE),this.wingSkillItem.txtLevel.string=m.formatStr("Lv.##1",IS(T).getSkinLevelByID(this.wingSkillId))}return 180.26},i.showFlyPetInfo=function(){var t=c.findChild(this.node,"flyPetRoot/wearParent/BEquipItem/item"),i=c.findChildComponent(this.node,"flyPetRoot/wearParent/BEquipItem/item/icon",s),e=c.findChildComponent(this.node,"flyPetRoot/wearParent/BEquipItem/item/frame",s);if(null!=this.flyPetId&&0!=this.flyPetId&&-1!=this.flyPetId){var n=configFly.getDataByKey(IS(p).GetPetInfoById(this.flyPetId).config_id);t.active=!0,this.view.loadIcon(e,"icon_equip",k[n.quality]),this.view.loadIcon(i,"icon_flypet",n.icon)}else t.active=!1;return 180.26},i.tryUpdateTabSkill=function(t){t==this.skillTabId&&this.updateTabSkill()},i.tryUpdateTabPet=function(t){t==this.petTabId&&this.updateTabSkill()},t}());i._RF.pop()}}}));

