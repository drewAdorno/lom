System.register("chunks:///_virtual/GvGNoticeView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TranslateTips.ts","./NodeUtil.ts","./BaseView.ts","./GuildDataCache.ts","./GuildDefine.ts","./GvGControl.ts"],(function(t){"use strict";var i,n,e,o,s,a,d,c,r,l,u,h,f;return{setters:[function(t){i=t.inheritsLoose},function(t){n=t.cclegacy,e=t.Button,o=t.sys,s=t.Sprite,a=t.Label},function(t){d=t.TranslateTips},function(t){c=t.default},function(t){r=t.BaseView},function(t){l=t.default},function(t){u=t.GuildEventDefine,h=t.PermissionType},function(t){f=t.default}],execute:function(){n._RF.push({},"b191az/vvJCyoSk59p0daHg","GvGNoticeView",void 0);t("default",function(t){function n(){var i;return(i=t.call(this)||this).btnEdit=void 0,i.txtContent=void 0,i.nodeEditRed=void 0,i.translateTips=void 0,i.notice=void 0,i.name="GvGNoticeView",i.url="ui/module/gvg/GvGNoticeView",i}i(n,t);var r=n.prototype;return r.onInit=function(){var t=this,i=this.findChild("imgMask");this.addComponentCallbackListener(i,e.EventType.CLICK,(function(){t.onMaskClick()})),this.btnEdit=this.findChild("node/bg/btnEdit"),this.addComponentCallbackListener(this.btnEdit,e.EventType.CLICK,(function(){uiMgr.openView("GvGNoticeEditView")})),o.uiMirror&&this.loadIcon(this.btnEdit.getComponent(s),"gvg_map","grxx_ui_xiugai"),this.nodeEditRed=this.findChild("node/bg/btnEdit/point"),this.txtContent=this.findChildComponent("node/content",a),this.translateTips=new d(this,c.findChild(this.node,"node/translateBtn"),(function(){t.txtContent.string=""==t.notice?GetLanguage(204711):t.translateTips.GetShowContent()}))},r.registerUpdateHandler=function(){this.addEvent(u.GUILD_INFO_UPDATE,this.updateNotice,this),this.translateTips.AddTranslateEvent()},r.onMaskClick=function(){this.close()},r.onAfterOpen=function(){this.updateNotice(),IS(f).reqGvGCancelRedPoint(6)},r.updateNotice=function(){var t=IS(l).GetGuildInfo().gvg_notice;this.notice!=t&&(this.translateTips.ClearInfo(),this.notice=t,this.translateTips.SetTranslateInfo("GvGNoticeView","gvg_notice",t),this.txtContent.string=""==t?GetLanguage(204711):this.translateTips.GetShowContent());var i=t&&""!=t||!1;this.nodeEditRed.active=!i&&IS(l).CheckPermissioByType(h.GVGNotice),this.btnEdit.active=IS(l).CheckPermissioByType(h.GVGNotice)},r.onBeforeClose=function(){this.translateTips.ClearInfo()},r.onDestroy=function(){},n}(r));n._RF.pop()}}}));

