System.register("chunks:///_virtual/FateBreakTipsView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIList.ts","./NodeUtil.ts","./StringUtil.ts","./index57.ts","./ConfigGlobal.ts","./FateDefine.ts","./BasePopupView.ts"],(function(t){"use strict";var e,i,n,o,s,r,l,a,c,u,d,h,p;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,n=t.UITransform,o=t.ScrollView,s=t.Vec3,r=t.Label},function(t){l=t.SelectedType,a=t.ListItem},function(t){c=t.default},function(t){u=t.default},null,function(t){d=t.ConfigGlobal},function(t){h=t.FateEventDefine},function(t){p=t.BasePopupView}],execute:function(){i._RF.push({},"7f8d1wi6xNF2KOjT0jMek1U","FateBreakTipsView",void 0);t("default",function(t){function i(){var e;return(e=t.call(this)||this).scrollView=void 0,e.list=void 0,e.utNode=void 0,e.nodeScroll=void 0,e.utScroll=void 0,e.curType=0,e.name="FateBreakTipsView",e.url="ui/module/fate/FateBreakTipsView",e}e(i,t);var r=i.prototype;return r.onInit=function(){this.utNode=this.node.getComponent(n),this.scrollView=this.findChildComponent("list",o),this.list=this.addUIList(this.scrollView,f),this.list.selectedMode=l.SINGLE,this.nodeScroll=this.scrollView.node,this.utScroll=this.nodeScroll.getComponent(n)},r.registerUpdateHandler=function(){},r.onAfterOpen=function(){t.prototype.onAfterOpen.call(this),this.curType=this.openArgs[1];var e=[[0,GetLanguage(200274)]],i=d.fate_quality;for(var o in i)if(i.hasOwnProperty(o)){var r=i[o];r[0]<5&&(e[r[0]]=r)}this.list.datas=e,this.list.scrollTo(this.curType,0);var l=this.openArgs[0],a=l.parent.getComponent(n).convertToWorldSpaceAR(l.position),c=this.utNode.convertToNodeSpaceAR(a),u=l.getComponent(n).height;this.nodeScroll.position=new s(c.x,c.y+u/2+this.utScroll.height,c.z)},r.onDestroy=function(){},i}(p));var f=function(t){function i(){for(var e,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))||this).txtName=void 0,e.nodeSelect=void 0,e}e(i,t);var n=i.prototype;return n.onInit=function(){this.txtName=c.findChildComponent(this.node,"txtName",r),this.nodeSelect=c.findChild(this.node,"imgSelected")},n.onRender=function(t,e){0==t[0]?this.txtName.string=t[1]:this.txtName.string=u.formatStrWithMirrorDeal(GetLanguage(200271),GetLanguage(t[1])),this.nodeSelect.active=this.view.curType==t[0]},n.onItemClick=function(){normalEvent.emit(h.FateSelectBreak,this.data[0]),this.view.close()},i}(a);i._RF.pop()}}}));

