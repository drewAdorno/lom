System.register("chunks:///_virtual/BattleChapterSeasonPvpPanel.ts",["cc","./BattleData.ts","./NodeUtil.ts","./TimeUtil.ts","./ChapterControl.ts","./ChapterDataCache.ts","./ChapterDefine.ts"],(function(t){"use strict";var e,i,a,n,h,o,r,s,p;return{setters:[function(t){e=t.cclegacy,i=t.ProgressBar,a=t.Label},function(t){n=t.ChapterType},function(t){h=t.default},function(t){o=t.default},function(t){r=t.default},function(t){s=t.ChapterDataCache},function(t){p=t.ChapterEventDefine}],execute:function(){e._RF.push({},"57a9eOwH6JMXoCh79tfGzPz","BattleChapterSeasonPvpPanel",void 0);t("BattleChapterSeasonPvpPanel",function(){function t(t,e,i){this.view=void 0,this.node=void 0,this.bottomY=100,this.nodeTime=void 0,this.pbTime=void 0,this.txtTime=void 0,this.txtChapter=void 0,this.title=void 0,this.chapterTime=0,this.node=e,this.view=t,this.title=i,this.onInit()}var e=t.prototype;return e.reset=function(){this.updateTime(),this.txtChapter&&(this.txtChapter.string=this.title)},e.onInit=function(){this.nodeTime=h.findChild(this.node,"time"),this.pbTime=h.findChildComponent(this.nodeTime,"pbTime",i),this.txtTime=h.findChildComponent(this.nodeTime,"txtTime",a),this.txtChapter=h.findChildComponent(this.node,"txtChapter",a)},e.updateTime=function(){this.chapterTime!=Math.floor(battleMain.chapter.chapterTime)&&(this.chapterTime=Math.floor(battleMain.chapter.chapterTime),this.txtTime.string=o.formatTimeForSecond(this.chapterTime)),this.pbTime.progress=battleMain.chapter.chapterTime/battleMain.chapter.maxChapterTime},e.onUpdate=function(t){battleMain.chapter.timeModel&&this.updateTime()},e.exitBattle=function(){3==battleMain.data.battleCheckout?(IS(r).reqEnterChapter(0),battleMain.enterChapter(),normalEvent.emit(p.BATTLE_STATE,n.SeasonPvp,!1),battleMain.runningToPart=!1):(battleMain.stopChapter(),battleMain.runningToPart=!1,IS(s).chapterType=n.Main)},t}());e._RF.pop()}}}));

