System.register("chunks:///_virtual/BuffAddBuffTrigger.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ObjectPool.ts","./Buff.ts","./EnumDefine.ts"],(function(t){"use strict";var r,i,e,f,u;return{setters:[function(t){r=t.inheritsLoose},function(t){i=t.cclegacy},function(t){e=t.ObjectPool},function(t){f=t.Buff},function(t){u=t.SpBuffState}],execute:function(){i._RF.push({},"e86a9sZRYlBJ6XfWXbFKXLA","BuffAddBuffTrigger",void 0);var n=t("BuffAddBuffTrigger",function(t){function i(){for(var r,i=arguments.length,e=new Array(i),f=0;f<i;f++)e[f]=arguments[f];return(r=t.call.apply(t,[this].concat(e))||this)._trigerbuffid=void 0,r._triggercount=void 0,r._addlasttime=void 0,r._addbufflist=void 0,r._currentTriggerValue=0,r}r(i,t);var e=i.prototype;return e.onBegin=function(){this.owner.data.AddBuffState(u.AddBuffTrigger,1)},e.onDestroy=function(){this.owner.data.AddBuffState(u.AddBuffTrigger,-1),i._pool.free(this)},e.onAddBuffTrigger=function(t,r,i){if(r==this._trigerbuffid&&(this._currentTriggerValue++,this._currentTriggerValue>=this._triggercount)){this._currentTriggerValue=0;for(var e=0;e<this._addbufflist.length;e++)0==this._addlasttime?this.runner.addBuff(t,this._addbufflist[e],i,this.skillPar):this.runner.addBuff(t,this._addbufflist[e],this._addlasttime,this.skillPar)}},i.alloc=function(t){var r=i._pool.alloc();return r.config=t,r._trigerbuffid=t.param1,r._triggercount=t.param2,r._addlasttime=t.param3,r._addbufflist=t.param5,r._currentTriggerValue=0,r},i}(f));n._pool=new e(n,10),i._RF.pop()}}}));

