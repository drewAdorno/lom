System.register("chunks:///_virtual/ChapterSoloCC.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BattleData.ts","./index94.ts","./EventDefine.ts","./AudioMgr.ts","./CameraMgr.ts","./ChapterDefine.ts","./DungeonControl.ts","./MessageView.ts","./ChapterSolo.ts"],(function(t){"use strict";var e,n,o,a,i,u,r,s,l,c,h;return{setters:[function(t){e=t.inheritsLoose,n=t.regeneratorRuntime},function(t){o=t.cclegacy},function(t){a=t.ChapterType},null,function(t){i=t.EventDefine},function(t){u=t.audioMgr},function(t){r=t.cameraMgr},function(t){s=t.ChapterEventDefine},function(t){l=t.default},function(t){c=t.default},function(t){h=t.ChapterSolo}],execute:function(){o._RF.push({},"e86f32nIfZL6KV5X63TcsTH","ChapterSoloCC",void 0);t("ChapterSoloCC",function(t){function o(){return t.apply(this,arguments)||this}e(o,t);var h=o.prototype;return h.init=function(){battleEvent.on(i.UnitHpNumChange,this.onUnitHpNumChange,this),r.battleCamera.enabled=!0},h.start=function(){t.prototype.start.call(this),u.playMusic("bgm_lieyanshandong")},h.destroy=function(){battleEvent.off(i.UnitHpNumChange,this.onUnitHpNumChange,this)},h.endResult=n().mark((function t(e,o,i){var r;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,coroutine.wait(1);case 2:u.playMusic("battle"),battleMain.enterChapter(),0==o&&battleMain.checkCheat()&&(o=1,c.showBoxTip({tip:GetLanguage(200998),btnCnt:1,func:function(t){},ensure:GetLanguage(200129)})),r=this,battleMain.curRecord&&battleMain.curRecord.manual?IS(l).reqDungeonBattleResult(a.Solo,e,o,1,battleMain.curRecord.collects,[{k:1,v:r.bossUnit.hpNum},{k:2,v:r.bossUnit.hurtNum}]):IS(l).reqDungeonBattleResult(a.Solo,e,o,0,null,[{k:1,v:r.bossUnit.hpNum},{k:2,v:r.bossUnit.hurtNum}]),normalEvent.emit(s.BATTLE_STATE,a.Solo,!1),battleMain.toResult(e,a.Solo,o,i);case 9:case"end":return t.stop()}}),t,this)})),h.toResult=function(t,e){void 0===e&&(e=!1);this.battleMain;var n=this.config;coroutine.start(this.endResult(n.id,t,e),"battle")},o}(h));o._RF.pop()}}}));

