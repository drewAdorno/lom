System.register("chunks:///_virtual/SeasonShipEquipTempBagView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIList.ts","./NodeUtil.ts","./StringUtil.ts","./BaseView.ts","./ItemIcon.ts","./MessageView.ts","./SeasonControl.ts","./SeasonDefine.ts","./SeasonShipModel.ts"],(function(i){"use strict";var t,e,n,o,s,u,l,c,p,a,h,d,r,f,S,I,m,q;return{setters:[function(i){t=i.inheritsLoose},function(i){e=i.cclegacy,n=i.math,o=i.Button,s=i.ScrollView,u=i.Label,l=i.Sprite,c=i.sys},function(i){p=i.SelectedType,a=i.ListItem},function(i){h=i.default},function(i){d=i.default},function(i){r=i.BaseView},function(i){f=i.IconAseetType},function(i){S=i.default},function(i){I=i.default},function(i){m=i.SeasonShipEventDefind},function(i){q=i.SeasonShipModel}],execute:function(){e._RF.push({},"c0b0e+sM0lPfL/Ms8RIRsO9","SeasonShipEquipTempBagView",void 0);n.Vec3,n.Vec2,i("default",function(i){function e(){var t;return(t=i.call(this)||this).scrollEquipList=void 0,t.typeStr=void 0,t.equipList=void 0,t.name="SeasonShipEquipTempBagView",t.url="ui/module/season/SeasonShipEquipTempBagView",t}t(e,i);var n=e.prototype;return n.onInit=function(){var i=this,t=this.findChild("imgMask");this.addComponentCallbackListener(t,o.EventType.CLICK,(function(){i.onMaskClick()}));var e=this.findChild("content/btnSold");this.addComponentCallbackListener(e,o.EventType.CLICK,(function(){i.onSoldClick()}));var n=this.findChildComponent("content/scrollEquipList",s);this.scrollEquipList=this.addUIList(n,L),this.scrollEquipList.selectedMode=p.SINGLE},n.registerUpdateHandler=function(){this.addEvent(m.SHIP_EQUIP_LIST_UPDATE,this.onEquipListUpdate,this)},n.onAfterOpen=function(){this.showEquipList()},n.showEquipList=function(){this.equipList=IS(q).getEmptyEquipIdList(!0,0),null==this.equipList||this.equipList.length<=0?this.close():this.scrollEquipList.datas=this.equipList},n.onBeforeClose=function(){},n.onDestroy=function(){},n.onEquipListUpdate=function(){this.showEquipList()},n.onMaskClick=function(){this.close()},n.onSoldClick=function(){var i=this;if(!IS(q).checkHasEmptyBetterEquip())return IS(I).reqShipEquipSell(this.equipList),void this.close();S.showBoxTip({tip:GetLanguage(200273),title:GetLanguage(200048),func:function(t){"type_yes"==t&&(IS(I).reqShipEquipSell(i.equipList),i.close())}})},e}(r));var L=function(i){function e(){for(var t,e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return(t=i.call.apply(i,[this].concat(n))||this).txtLevel=void 0,t.imgFrame=void 0,t.imgIcon=void 0,t.equipId=void 0,t.nodeUp=void 0,t}t(e,i);var n=e.prototype;return n.onInit=function(){this.txtLevel=h.findChildComponent(this.node,"txtLevel",u),this.imgFrame=h.findChildComponent(this.node,"imgFrame",l),this.imgIcon=h.findChildComponent(this.node,"imgIcon",l),this.nodeUp=h.findChild(this.node,"imgUp"),c.uiMirror&&this.view.loadIcon(this.nodeUp.getComponent(l),"common","common_ui_tisheng")},n.onRender=function(i,t){this.equipId=i;var e=IS(q).getEquipInfoByEquipId(this.equipId),n=configSeason_equipment.getDataByKey(null==e?void 0:e.config_id);null!=n&&(this.view.loadIcon(this.imgIcon,n.atlas,n.icon,null,f.ICON_SPRITE),this.view.loadIcon(this.imgFrame,"icon_equip",configColor.getDataByKey(n.quality).path),this.txtLevel.string=d.formatStr(c.uiMirror?"##1.Lv":"Lv.##1",e.equip_lv),this.nodeUp.active=IS(q).checkIsBetterEquip(this.equipId))},n.onItemClick=function(){IS(q).tryOpenEquipEditView(this.equipId)},e}(a);e._RF.pop()}}}));

