System.register("chunks:///_virtual/BuffTrap.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ObjectPool.ts","./FixMath.ts","./Buff.ts","./Trap.ts"],(function(t){"use strict";var r,i,e,n,o,s;return{setters:[function(t){r=t.inheritsLoose},function(t){i=t.cclegacy},function(t){e=t.ObjectPool},function(t){n=t.FixMath},function(t){o=t.Buff},function(t){s=t.Trap}],execute:function(){i._RF.push({},"ef8a82CtIZAz4//nm+zemXq","BuffTrap",void 0);var a=t("BuffTrap",function(t){function i(){for(var r,i=arguments.length,e=new Array(i),n=0;n<i;n++)e[n]=arguments[n];return(r=t.call.apply(t,[this].concat(e))||this).triggerList=[],r.trapConfig=void 0,r.trapCurTime=0,r.triggerfirst=!0,r}r(i,t);var e=i.prototype;return e.onBegin=function(){this.triggerfirst&&s.trigger(this,this.owner.position),this.trapCurTime=0},e.onDestroy=function(){i._pool.free(this),this.triggerList.length=0},e.onUpdate=function(t){this.trapCurTime>=this.trapConfig.execute[0]&&(s.trigger(this,this.owner.position),this.trapCurTime=n.round(this.trapCurTime-this.trapConfig.execute[0])),this.trapCurTime=n.round(this.trapCurTime+t)},i.alloc=function(t){var r=i._pool.alloc();return r.config=t,r.trapConfig=configTrap.getDataByKey(t.param1),1==t.param3?r.triggerfirst=!1:r.triggerfirst=!0,r},i}(o));a._pool=new e(a,10),i._RF.pop()}}}));

