System.register("chunks:///_virtual/SeasonSceneDetailMonsterView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ItemGrid.ts","./UIList.ts","./NodeUtil.ts","./StringUtil.ts","./index57.ts","./SeasonDefine.ts","./SeasonSceneControl.ts","./BaseView.ts"],(function(t){"use strict";var e,i,n,o,s,r,d,a,h,c,f,l,p,u,m;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,n=t.Button,o=t.ScrollView,s=t.Label,r=t.Sprite,d=t.ProgressBar,a=t.Vec2},function(t){h=t.ItemGrid},function(t){c=t.ListItem},function(t){f=t.default},function(t){l=t.default},null,function(t){p=t.SeasonEventDefine},function(t){u=t.default},function(t){m=t.BaseView}],execute:function(){i._RF.push({},"599421nGiBH4IDRc3lSStcc","SeasonSceneDetailMonsterView",void 0);t("default",function(t){function i(){var e;return(e=t.call(this)||this).txtName=void 0,e.txtDefInfo=void 0,e.txtDefInfo1=void 0,e.defList=void 0,e.rewardList=void 0,e.pos=new a,e.txtTips=void 0,e.txtTips2=void 0,e.name="SeasonSceneDetailMonsterView",e.url="ui/module/season/scene-view/SeasonSceneDetailMonsterView",e}e(i,t);var r=i.prototype;return r.onInit=function(){var t=this,e=this.findChild("content/btnClose");this.addComponentCallbackListener(e,n.EventType.CLICK,(function(){t.close()}));var i=this.findChild("imgMask");this.addComponentCallbackListener(i,n.EventType.CLICK,(function(){t.close()}));var r=this.findChildComponent("content/box/defList",o);this.defList=this.addUIList(r,v);var d=this.findChildComponent("content/reward/rewardScroll",o);this.rewardList=this.addUIList(d,g),this.rewardList.lackCenter=!0,this.txtTips=this.findChildComponent("content/txtTip",s),this.txtTips2=this.findChildComponent("content/txtTip2",s)},r.registerUpdateHandler=function(){this.addEvent(p.SEASON_SCENE_DEF_DETAIL_INFO,this.onDefInfo,this)},r.onAfterOpen=function(){var t=this.openArgs[0],e=this.openArgs[1],i=configSeason_building_plot.getDataByKey(t),n=configSeason_mapevent_reward.getDataByKey(i.event_reward_id);this.rewardList.datas=n.reward,this.pos.set(e),IS(u).reqMonsterInfo({x:e.x,y:e.y})},r.onBeforeClose=function(){},r.onDestroy=function(){},r.onDefInfo=function(t){this.defList.datas=t.list,this.txtTips.string=l.formatStrWithMirrorDeal(GetLanguage(204690),t.monster_atk_times),this.txtTips2.string=GetLanguage(204732)},i}(m));var v=function(t){function i(){for(var e,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))||this).txtName=void 0,e.txtFightPower=void 0,e.imgHead=void 0,e.pbHp=void 0,e.pbHpRed=void 0,e}e(i,t);var n=i.prototype;return n.onInit=function(){this.txtName=f.findChildComponent(this.node,"txtName",s),this.txtFightPower=f.findChildComponent(this.node,"txtFightPower",s),this.imgHead=f.findChildComponent(this.node,"head",r),this.pbHp=f.findChildComponent(this.node,"hp",d),this.pbHpRed=f.findChildComponent(this.node,"hpRed",d)},n.onRender=function(t,e){this.txtFightPower.string=l.GetNumString(t.power),this.txtName.string=l.format_p_lang_info("",t.name),this.view.loadRemoteIcon(t.head.url,this.imgHead),this.pbHpRed.node.active=!0,this.pbHpRed.progress=t.hp/1e4},i}(c),g=function(t){function i(){for(var e,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))||this).itemGridNode=void 0,e.itemGrid=void 0,e}e(i,t);var n=i.prototype;return n.onInit=function(){this.itemGridNode=f.findChild(this.node,"itemGrid"),this.itemGrid=new h(this.view,this.itemGridNode)},n.onRender=function(t,e){this.itemGrid.SetItemId(t[0],t[1])},i}(c);i._RF.pop()}}}));

