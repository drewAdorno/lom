System.register("chunks:///_virtual/ChapterTowerDefCC.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BattleData.ts","./ChapterTowerDef.ts","./AudioMgr.ts","./ActivityReverseControl.ts","./ChapterControl.ts","./ChapterDefine.ts","./MessageView.ts"],(function(t){"use strict";var e,n,r,i,o,a,s,u,c,f;return{setters:[function(t){e=t.inheritsLoose,n=t.regeneratorRuntime},function(t){r=t.cclegacy},function(t){i=t.ChapterType},function(t){o=t.ChapterTowerDef},function(t){a=t.audioMgr},function(t){s=t.default},function(t){u=t.default},function(t){c=t.ChapterEventDefine},function(t){f=t.default}],execute:function(){r._RF.push({},"843080pUARDp72sY5T4dGLX","ChapterTowerDefCC",void 0);t("ChapterTowerDefCC",function(t){function r(){return t.apply(this,arguments)||this}e(r,t);var o=r.prototype;return o.start=function(){t.prototype.start.call(this),battleMain.timeScale=1,a.playMusic("nizhuan_bgm")},o.endResult=n().mark((function t(e,r,o){var f;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,coroutine.wait(1);case 2:a.playMusic("battle"),(f=this.battleMain).enterChapter(),IS(s).send_24_111(this.config.id,3-this.curDef),IS(u).reqEnterChapter(0),normalEvent.emit(c.BATTLE_STATE,i.TowerDef,!1),f.toResult(this.config.id,i.TowerDef,r,o);case 9:case"end":return t.stop()}}),t,this)})),o.toResult=function(t,e){void 0===e&&(e=!1),this.curDef<3&&(t=0);this.config;0==t&&battleMain.checkCheat()&&(t=1,f.showBoxTip({tip:GetLanguage(200998),btnCnt:1,func:function(t){},ensure:GetLanguage(200129)})),coroutine.start(this.endResult(0,t,e),"battle")},r}(o));r._RF.pop()}}}));

