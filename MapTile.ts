System.register("chunks:///_virtual/MapTile.ts",["./rollupPluginModLoBabelHelpers.js","cc","./V2.ts","./UIEffectAsset.ts"],(function(t){"use strict";var e,i,s,o;return{setters:[function(t){e=t.createForOfIteratorHelperLoose},function(t){i=t.cclegacy},function(t){s=t.V2},function(t){o=t.UIEffectAsset}],execute:function(){i._RF.push({},"a4ea5CbGAlNmKTSRer7Ah7L","MapTile",void 0);t("MapTile",function(){function t(t){this.map=void 0,this.tileX=0,this.tileY=0,this.tileId=0,this.tileData=void 0,this.isPool=!1,this.mapTileMgr=void 0,this._gameObjectDic=new Map,this.map=t,this.mapTileMgr=t.mapTileMgr}var i=t.prototype;return i.pushObjToPool=function(){var t=this;this.isPool=!0,this._gameObjectDic.forEach((function(e,i){t.mapTileMgr.removeObj(t.tileId,i)})),this._gameObjectDic.clear()},i.loadObject=function(){this.isPool=!1;for(var t,i=this.tileData.objs,s=e(i);!(t=s()).done;){var o=t.value;this._loadObject(o)}},i.getTileObj=function(t,e){void 0===e&&(e=!0);var i=this.mapTileMgr.getTileObj(t,e);return null==i||this._gameObjectDic.has(t)||(this._gameObjectDic.set(t,i),i.addTile(this.tileId)),i},i.removeTileObj=function(t){this._gameObjectDic.has(t)&&(this._gameObjectDic.delete(t),this.mapTileMgr.removeObj(this.tileId,t))},i._loadObject=function(t){if(1!=t.type||this.map.showBossId.has(t.bossId)){var e=this.getTileObj(t.uid,!1);if(null!=e)return e;var i=o.alloc(t.url,this.map.root,-1);(e=this.getTileObj(t.uid)).url=t.url,e.go=i,e.mapObjectData=t,e.addTile(this.tileId),i.position=new s(t.x,t.y),i.scale=1}},t}());i._RF.pop()}}}));

