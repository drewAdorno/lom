System.register("chunks:///_virtual/ActivityFrogEggSelectView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ItemGrid.ts","./UIList.ts","./NodeUtil.ts","./index57.ts","./ActivityControl.ts","./ActivityDataCache.ts","./BaseView.ts"],(function(t){"use strict";var e,i,o,d,n,s,c,r,l,a;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,o=t.Button,d=t.ScrollView},function(t){n=t.ItemGrid},function(t){s=t.ListItem},function(t){c=t.default},null,function(t){r=t.default},function(t){l=t.default},function(t){a=t.BaseView}],execute:function(){i._RF.push({},"265bcj9GBBBJ5ImJOrbJ0go","ActivityFrogEggSelectView",void 0);t("default",function(t){function i(){var e;return(e=t.call(this)||this).rewardScroll=void 0,e.curGoodsId=void 0,e.nodeSelectNoGoods=void 0,e.nodeSelectAdd=void 0,e.nodeSelectItemGrid=void 0,e.itemGridSelect=void 0,e.curGoodsNum=void 0,e.actType=void 0,e.name="ActivityFrogEggSelectView",e.url="ui/module/activityFrog/ActivityFrogEggSelectView",e}e(i,t);var s=i.prototype;return s.onInit=function(){var t=this,e=this.findChild("imgMask");this.addComponentCallbackListener(e,o.EventType.CLICK,(function(){t.close()}));var i=this.findChild("btnClose");this.addComponentCallbackListener(i,o.EventType.CLICK,(function(){t.close()}));var s=this.findChild("view/btnConfirm");this.addComponentCallbackListener(s,o.EventType.CLICK,(function(){null!=t.curGoodsId&&(IS(r).send_egg_choose(t.actType,t.curGoodsId),t.close())})),this.nodeSelectNoGoods=this.findChild("view/selected/imgNoFrame"),this.nodeSelectAdd=this.findChild("view/selected/btnWear"),this.nodeSelectItemGrid=this.findChild("view/selected/itemGrid"),this.itemGridSelect=new n(this,this.nodeSelectItemGrid);var c=this.findChildComponent("view/rewardScroll",d);this.rewardScroll=this.addUIList(c,u)},s.registerUpdateHandler=function(){},s.onAfterOpen=function(){var t;this.actType=this.openArgs[0];var e=IS(l).getEggInfo(this.actType);e||this.close();var i=e.choose_goods;this.curGoodsId=i.gtid||0,this.curGoodsNum=i.num||0;var o=null!=(t=e.choose_list)?t:[];this.rewardScroll.datas=o,this.updateSelect()},s.updateSelect=function(){this.rewardScroll.updateAll(),this.nodeSelectNoGoods.active=0==this.curGoodsId,this.nodeSelectAdd.active=0==this.curGoodsId,this.nodeSelectItemGrid.active=0!=this.curGoodsId,0!=this.curGoodsId&&this.itemGridSelect.SetItemId(this.curGoodsId,this.curGoodsNum)},s.onBeforeClose=function(){},s.onDestroy=function(){},i}(a));var u=function(t){function i(){for(var e,i=arguments.length,o=new Array(i),d=0;d<i;d++)o[d]=arguments[d];return(e=t.call.apply(t,[this].concat(o))||this).itemGridNode=void 0,e.itemGrid=void 0,e.select=void 0,e}e(i,t);var d=i.prototype;return d.onInit=function(){var t=this;this.itemGridNode=c.findChild(this.node,"itemGrid"),this.itemGrid=new n(this.view,this.itemGridNode),this.select=c.findChild(this.node,"imgSelect"),this.view.addComponentCallbackListener(this.node,o.EventType.CLICK,(function(){t.view.curGoodsId=t.data.gtid,t.view.curGoodsNum=t.data.num,t.view.updateSelect()}))},d.onRender=function(t,e){this.itemGrid.SetItemId(t.gtid,t.num),this.SetSelect()},d.SetSelect=function(){this.select.active=this.view.curGoodsId==this.data.gtid},i}(s);i._RF.pop()}}}));

