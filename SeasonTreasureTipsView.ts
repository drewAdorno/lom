System.register("chunks:///_virtual/SeasonTreasureTipsView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ItemGrid.ts","./UIList.ts","./NodeUtil.ts","./StringUtil.ts","./index57.ts","./BaseView.ts"],(function(t){"use strict";var e,i,n,o,r,a,s,l,d,u,c,h;return{setters:[function(t){e=t.inheritsLoose,i=t.createForOfIteratorHelperLoose},function(t){n=t.cclegacy,o=t.Button,r=t.ScrollView,a=t.Label,s=t.UITransform},function(t){l=t.ItemGrid},function(t){d=t.ListItem},function(t){u=t.default},function(t){c=t.default},null,function(t){h=t.BaseView}],execute:function(){n._RF.push({},"49cb0Dwq1dIK7X+Gmb1q2Sg","SeasonTreasureTipsView",void 0);t("default",function(t){function n(){var e;return(e=t.call(this)||this).Scroll=void 0,e.name="SeasonTreasureTipsView",e.url="ui/module/season/SeasonTreasureTipsView",e}e(n,t);var a=n.prototype;return a.onInit=function(){var t=this,e=this.findChild("content/content/btnClose");this.addComponentCallbackListener(e,o.EventType.CLICK,(function(){t.close()}));var i=u.findChildComponent(this.node,"content/scroll",r);this.Scroll=this.addUIList(i,f)},a.registerUpdateHandler=function(){},a.onAfterOpen=function(){for(var t,e=configSeason_treasure_draw.getDatas(),n=[],o=[],r=[],a=[],s=i(e);!(t=s()).done;){var l=t.value;1==l.type&&(1==l.quality?o.push(l):2==l.quality?r.push(l):3==l.quality&&a.push(l))}for(var d,u=0,c=i(e);!(d=c()).done;){var h=d.value;1==h.type&&(u+=h.weight)}n.push({total:u,title:204605,data:a}),n.push({total:u,title:204604,data:r}),n.push({total:u,title:204603,data:o}),this.Scroll.datas=n},a.onBeforeClose=function(){},a.onDestroy=function(){},n}(h));var f=function(t){function n(){for(var e,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))||this).rewardScroll=void 0,e.txtTitle=void 0,e.txtFullNum=void 0,e.txtSpiltNum=void 0,e}e(n,t);var o=n.prototype;return o.onInit=function(){this.adaptiveSize=!0,this.txtTitle=u.findChildComponent(this.node,"title/txtFilter",a),this.txtFullNum=u.findChildComponent(this.node,"nodeDesc/desc/num1",a),this.txtSpiltNum=u.findChildComponent(this.node,"nodeDesc/desc/num2",a);var t=u.findChildComponent(this.node,"nodeDesc/rewardScroll",r);this.rewardScroll=this.view.addUIList(t,p,!1),this.rewardScroll.touchEvent=!1},o.onRender=function(t,e){this.txtTitle.string=GetLanguage(t.title);for(var n,o=0,r=0,a=i(t.data);!(n=a()).done;){var l=n.value;0==l.fragment?o+=l.weight:r+=l.weight}this.txtFullNum.string=c.formatStr("##1%",(o/t.total*100).toFixed(2)),this.txtSpiltNum.string=c.formatStr("##1%",(r/t.total*100).toFixed(2)),this.rewardScroll.node.getComponent(s).height=95*Math.ceil(t.data.length/6),this.rewardScroll.datas=t.data},o.onItemClick=function(){},n}(d),p=function(t){function i(){for(var e,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))||this).itemGridNode=void 0,e.itemGrid=void 0,e}e(i,t);var n=i.prototype;return n.onInit=function(){this.itemGridNode=u.findChild(this.node,"itemGrid"),this.itemGrid=new l(this.view,this.itemGridNode)},n.onRender=function(t,e){this.itemGrid.SetItemId(t.reward[0],t.reward[1])},i}(d);n._RF.pop()}}}));

