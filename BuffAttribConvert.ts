System.register("chunks:///_virtual/BuffAttribConvert.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ObjectPool.ts","./FixMath.ts","./Buff.ts"],(function(t){"use strict";var a,e,r,i,n;return{setters:[function(t){a=t.inheritsLoose},function(t){e=t.cclegacy},function(t){r=t.ObjectPool},function(t){i=t.FixMath},function(t){n=t.Buff}],execute:function(){e._RF.push({},"57684mlUJpJ1aOfqjRtIUTh","BuffAttribConvert",void 0);var o=t("BuffAttribConvert",function(t){function e(){for(var a,e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return(a=t.call.apply(t,[this].concat(r))||this)._calType=void 0,a._attribId=void 0,a._tagAttribId=void 0,a._lastValue=void 0,a}a(e,t);var r=e.prototype;return r.onBegin=function(){var t=this._calValue(),a=this.owner.data.getAttribMeta(this._tagAttribId);this._lastValue=t,a.addValue(this._lastValue)},r._calValue=function(){var t=this.owner,a=0;switch(this._calType){case 0:var e=t.data.getAttribMeta(this._attribId);2==e.config.num_type&&(a=i.roundInt(1e4*e.value));break;case 1:a=t.data.currenHp}return a=i.roundInt(a*this.skillPar)},r.onDestroy=function(){var t=this.owner.data.getAttribMeta(this._tagAttribId);this._lastValue&&t.addValue(-this._lastValue),e._pool.free(this)},e.alloc=function(t){var a=e._pool.alloc();return a.config=t,a._calType=t.param1,a._attribId=t.param2,a._tagAttribId=t.param3,a},e}(n));o._pool=new r(o,30),e._RF.pop()}}}));

