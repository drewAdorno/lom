System.register("chunks:///_virtual/RoleAttrDetailView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIList.ts","./NodeUtil.ts","./StringUtil.ts","./index57.ts","./ConfigGlobal.ts","./RoleControl.ts","./RoleDefine.ts","./BaseView.ts"],(function(t){"use strict";var e,n,i,o,r,a,l,s,u,d,h,c,f,p,g;return{setters:[function(t){e=t.inheritsLoose,n=t.createForOfIteratorHelperLoose},function(t){i=t.cclegacy,o=t.Button,r=t.ScrollView,a=t.js,l=t.Label,s=t.Sprite},function(t){u=t.ListItem},function(t){d=t.default},function(t){h=t.default},null,function(t){c=t.ConfigGlobal},function(t){f=t.default},function(t){p=t.RoleEventDefine},function(t){g=t.BaseView}],execute:function(){i._RF.push({},"12d86l8M5JFIqKTRSF5GZj6","RoleAttrDetailView",void 0);t("default",function(t){function i(){var e;return(e=t.call(this)||this).attrList=void 0,e.attrIdToValue={},e.name="RoleAttrDetailView",e.url="ui/module/role/RoleAttrDetailView",e}e(i,t);var l=i.prototype;return l.onInit=function(){var t=this,e=this.findChild("node/btnClose");this.addComponentCallbackListener(e,o.EventType.CLICK,(function(){t.onCloseClick()}));var n=this.findChild("imgMask");this.addComponentCallbackListener(n,o.EventType.CLICK,(function(){t.onCloseClick()}));var i=this.findChild("node/btnTips");this.addComponentCallbackListener(i,o.EventType.CLICK,(function(){uiMgr.openView("CommonScrollTipsView",GetLanguage(999100416))}));var a=this.findChildComponent("node/attrList",r);this.attrList=this.addUIList(a,v)},l.onCloseClick=function(){this.close()},l.registerUpdateHandler=function(){this.addEvent(p.ROLE_ATTR_LIST_UPDATE_VIRTUAL,this.updateInfo,this)},l.onAfterOpen=function(){IS(f).send_3_7(1)},l.onBeforeClose=function(){},l.onDestroy=function(){},l.updateInfo=function(t){for(var e,i=n(t);!(e=i()).done;){var o=e.value;this.attrIdToValue[o.k]=o.v}var r=[GetLanguage(200103),c.base_attr],a=[GetLanguage(200104),c.advanced_attr],l=[GetLanguage(200105),c.finally_attr],s=[];s.push(r),s.push(a),s.push(l),this.attrList.datas=s},l.getRoleAttrById=function(t){var e=this.attrIdToValue[t];return null==e?0:e},l.getAttrValue=function(t){var e=configAttribute.getDataByKey(t),n=this.getRoleAttrById(t);if(0==n&&3==e.type&&null!=e.group){var i=this.getRoleAttrById(e.group-1e3),o=this.getRoleAttrById(e.group),r=1;2==e.show_type&&(r=1e4),n=(i-o)/o*r}return 2==e.show_type?a.formatStr("%s%",h.GetNumString(n/100)):3==e.show_type?h.GetNumString(Math.floor(n/100)/100):h.GetNumString(n)},i}(g));var v=function(t){function n(){for(var e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))||this).txtTitle=void 0,e.scroll=void 0,e}e(n,t);var i=n.prototype;return i.onInit=function(){this.adaptiveSize=!0,this.txtTitle=d.findChildComponent(this.node,"title/Label",l);var t=d.findChildComponent(this.node,"scroll",r);this.scroll=this.view.addUIList(t,C,!1),this.scroll.touchEvent=!1;var e=d.findChildComponent(this.node,"title/img1",s);this.view.loadIcon(e,"common","common_ui_yezi")},i.onRender=function(t,e){this.txtTitle.string=t[0];var n=45*t[1].length+15+10+.01;this.scroll.height=n,this.scroll.datas=t[1],this.ut.height=42+n},n}(u),C=function(t){function n(){for(var e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))||this).txtName=void 0,e.txtValue=void 0,e}e(n,t);var i=n.prototype;return i.onInit=function(){this.txtName=d.findChildComponent(this.node,"txtAttrName",l),this.txtValue=d.findChildComponent(this.node,"txtAttrValue",l)},i.onRender=function(t,e){var n=configAttribute.getDataByKey(t);this.txtName.string=n.name,this.txtValue.string=this.view.getAttrValue(t)},n}(u);i._RF.pop()}}}));

