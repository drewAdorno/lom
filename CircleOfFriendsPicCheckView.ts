System.register("chunks:///_virtual/CircleOfFriendsPicCheckView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index57.ts","./BaseView.ts"],(function(i){"use strict";var e,t,n,c,o,s,l,r,h,a;return{setters:[function(i){e=i.inheritsLoose},function(i){t=i.cclegacy,n=i.Button,c=i.Sprite,o=i.UITransform,s=i.ScrollView,l=i.Node,r=i.Vec3,h=i.Size},null,function(i){a=i.BaseView}],execute:function(){t._RF.push({},"a96a9Kq5lVBJabAk5KVzYBf","CircleOfFriendsPicCheckView",void 0);i("default",function(i){function t(){var e;return(e=i.call(this)||this).picIcon=void 0,e.pic=void 0,e.scrollView=void 0,e.scrollViewRect=void 0,e.picTrans=void 0,e.contentRect=void 0,e.clickNum=0,e.preClickTime=0,e.sizeState=0,e.clickTimer=void 0,e.name="CircleOfFriendsPicCheckView",e.url="ui/module/CircleOfFriends/CircleOfFriendsPicCheckView",e}e(t,i);var a=t.prototype;return a.onInit=function(){var i=this,e=this.findChild("imgMask");this.addComponentCallbackListener(e,n.EventType.CLICK,(function(){i.close()}));var t=this.findChild("btnClose");this.addComponentCallbackListener(t,n.EventType.CLICK,(function(){i.close()})),this.picIcon=this.findChildComponent("ScrollView/view/content/pic/picMask/pic",c),this.pic=this.findChildComponent("ScrollView/view/content/pic",o),this.contentRect=this.findChildComponent("ScrollView/view/content",o),this.addComponentCallbackListener(this.contentRect.node,n.EventType.CLICK,(function(){i.close()})),this.scrollView=this.findChildComponent("ScrollView",s),this.scrollViewRect=this.findChildComponent("ScrollView",o),this.clickNum=0,this.addComponentCallbackListener(this.pic.node,l.EventType.TOUCH_END,(function(e){if(i.clickTimer){i.clickTimer&&(i.removeTimer(i.clickTimer),i.clickTimer=null),i.sizeState=0==i.sizeState?1:0;var t=0==i.sizeState?1:1.5;i.pic.node.scale=new r(t,t,t);var n=i.picIcon.spriteFrame.rect.width*t,c=i.picIcon.spriteFrame.rect.height*t,o=i.scrollViewRect.contentSize,s=o.width,l=o.height;if(n>o.width?(i.scrollView.horizontal=!0,s=n):i.scrollView.horizontal=!1,c>o.height?(i.scrollView.vertical=!0,l=c):i.scrollView.vertical=!1,i.contentRect.setContentSize(new h(s,l)),1==i.sizeState)i.contentRect.node.position=r.ZERO;else{var a=o.width/2-s/2,d=s/2-o.height/2,p=o.height/2-l/2,w=l/2-o.height/2,C=i.contentRect.node.position,u=0,m=0;s>o.width&&(u=C.x,C.x<a&&(u=a),C.x>d&&(u=d)),l>o.height&&(m=C.y,C.y<p&&(m=p),C.y>w&&(m=w)),i.contentRect.node.position=new r(u,m,0)}}else i.clickTimer=i.addTimer(.2,1,(function(){i.clickTimer=null}))}))},a.registerUpdateHandler=function(){},a.onAfterOpen=function(){this.clickNum=0,this.sizeState=0;var i=this.openArgs[0];this.picIcon.spriteFrame=i;var e=this.picIcon.spriteFrame.rect.width,t=this.picIcon.spriteFrame.rect.height,n=this.scrollViewRect.contentSize;this.pic.setContentSize(new h(e,t));var c=n.width,o=n.height;this.pic.node.scale=new r(1,1,1),e>n.width?(this.scrollView.horizontal=!0,c=e):this.scrollView.horizontal=!1,t>n.height?(this.scrollView.vertical=!0,o=t):this.scrollView.vertical=!1,this.contentRect.setContentSize(new h(c,o)),this.contentRect.node.position=new r(0,n.height/2-o/2,1)},a.onBeforeClose=function(){this.clickTimer&&(this.removeTimer(this.clickTimer),this.clickTimer=null)},a.onDestroy=function(){},t}(a));t._RF.pop()}}}));

