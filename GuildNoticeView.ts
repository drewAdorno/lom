System.register("chunks:///_virtual/GuildNoticeView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PlatformUtil.ts","./StringUtil.ts","./index57.ts","./ConfigGlobal.ts","./MessageView.ts","./GuildControl.ts","./GuildDataCache.ts","./BaseView.ts"],(function(t){"use strict";var i,n,e,o,l,s,a,u,d,c,r;return{setters:[function(t){i=t.inheritsLoose},function(t){n=t.cclegacy,e=t.Button,o=t.EditBox},function(t){l=t.PlatformUtil},function(t){s=t.default},null,function(t){a=t.ConfigGlobal},function(t){u=t.default},function(t){d=t.default},function(t){c=t.default},function(t){r=t.BaseView}],execute:function(){n._RF.push({},"5ccc8aK79xC855WinaVvedo","GuildNoticeView",void 0);t("default",function(t){function n(){var i;return(i=t.call(this)||this).editBox=void 0,i.limit=void 0,i.name="GuildNoticeView",i.url="ui/module/guild/GuildNoticeView",i}i(n,t);var r=n.prototype;return r.onInit=function(){var t=this,i=this.findChild("imgMask");this.addComponentCallbackListener(i,e.EventType.CLICK,(function(){t.close()}));var n=this.findChild("btnCancel");this.addComponentCallbackListener(n,e.EventType.CLICK,(function(){t.close()}));var s=this.findChild("btnConfirm");this.addComponentCallbackListener(s,e.EventType.CLICK,(function(){t.onClick()})),this.editBox=this.findChildComponent("EditBox",o),this.addComponentCallbackListener(this.editBox.node,o.EventType.EDITING_DID_BEGAN,(function(){l.UpdateCurrentEditBox(t.editBox)}))},r.onClick=function(){var t=this,i=this.editBox.string,n=s.getStrLength(i);0==n||n<this.limit[0]||n>this.limit[1]?u.showFlyTip(GetLanguage(200070)):i==IS(c).GetGuildInfo().notice?u.showFlyTip(GetLanguage(200353)):isNaN(Number(i))?GlobalDefine.ENABLE_SDK?sdkControl.checkStr(i,(function(i,n){1==n&&IS(d).send_29_6(2,null,i),t.close()})):(IS(d).send_29_6(2,null,i),this.close()):u.showFlyTip(GetLanguage(200354))},r.registerUpdateHandler=function(){},r.onAfterOpen=function(){this.limit=a.guild_notice_length,this.editBox.maxLength=this.limit[1],this.editBox.placeholderLabel.string=s.formatStrWithMirrorDeal(GetLanguage(200328),this.limit[1])},r.onBeforeClose=function(){l.ClearCurrentEditBox(this.editBox),this.editBox.string=""},r.onDestroy=function(){},n}(r));n._RF.pop()}}}));

