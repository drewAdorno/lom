System.register("chunks:///_virtual/ActivitySevenDataCache.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ActivityDataCache.ts","./ActivityDefine.ts","./PayDataCache.ts","./PayDefine.ts","./BagDefine.ts","./BagModel.ts","./StorageUtil.ts"],(function(t){"use strict";var e,i,n,a,r,o,f,c,s,u,v,d,y;return{setters:[function(t){e=t.createForOfIteratorHelperLoose,i=t.createClass},function(t){n=t.cclegacy},function(t){a=t.default},function(t){r=t.ActivityTaskState,o=t.ActivityType,f=t.ActivityEventDefine},function(t){c=t.default},function(t){s=t.GiftType,u=t.PayEventDefine},function(t){v=t.BagEventDefine},function(t){d=t.BagModel},function(t){y=t.default}],execute:function(){n._RF.push({},"88deaBypKBKQbMqfQSXlTOR","ActivitySevenDataCache",void 0);var p="sevenShotGuide";t("default",function(){var t=n.prototype;function n(){this.sevenChapterIdList=[],this._is_claim=0,this._is_claim_2=0,normalEvent.on(u.PAY_INFO_UPDATE,this.OnPayGiftInfoUpdate,this),normalEvent.on(v.GOODS_INFO_UPDATE,this.onBagUpdate,this)}return t.clear=function(){},t.checkChapterUnlock=function(t){for(var e=0;e<this.sevenChapterIdList.length;e++)if(this.sevenChapterIdList[e]==t)return!0;return!1},t.canGetLastReward=function(){for(var t,e=((t={})[1]=56,t[2]=57,t[3]=58,t[4]=59,t[5]=60,t[6]=61,t[7]=62,t),i=1;i<=7;i++){var n=IS(a).GetActivityInfo(e[i]);if(!n)return!1;var o=n.group_task_list;for(var f in o){if(o.hasOwnProperty(f))if(o[f].state!=r.HadGet)return!1}}return 0==this._is_claim},t.canGetReward=function(){for(var t,i=((t={})[1]=56,t[2]=57,t[3]=58,t[4]=59,t[5]=60,t[6]=61,t[7]=62,t),n=1;n<=7;n++){var o=IS(a).GetActivityInfo(i[n]);if(o)for(var f,u=IS(c).GetAcivityGift(s.Activity,o.type,o.round),v=e(u);!(f=v()).done;){var d=f.value;if(0==d.price){var y=IS(c).GetPayGiftInfo(d.id);if(!y||2!=y.rewardState)return!0}}}for(var p=1;p<=7;p++){var l=IS(a).GetActivityInfo(i[p]);if(!l)return!1;var _=l.group_task_list;for(var h in _){if(_.hasOwnProperty(h))if(_[h].state!=r.HadGet)return!1}}return 0==this._is_claim},t.canGetLastReward2=function(){for(var t,e=((t={})[1]=84,t[2]=85,t[3]=86,t[4]=87,t[5]=88,t[6]=89,t[7]=90,t),i=1;i<=7;i++){var n=IS(a).GetActivityInfo(e[i]);if(!n)return!1;var o=n.group_task_list;for(var f in o){if(o.hasOwnProperty(f))if(o[f].state!=r.HadGet)return!1}}return 0==this._is_claim_2},t.canGetReward2=function(){for(var t,i=((t={})[1]=84,t[2]=85,t[3]=86,t[4]=87,t[5]=88,t[6]=89,t[7]=90,t),n=1;n<=7;n++){var o=IS(a).GetActivityInfo(i[n]);if(o)for(var f,u=IS(c).GetAcivityGift(s.Activity,o.type,o.round),v=e(u);!(f=v()).done;){var d=f.value;if(0==d.price){var y=IS(c).GetPayGiftInfo(d.id);if(!y||2!=y.rewardState)return!0}}}for(var p=1;p<=7;p++){var l=IS(a).GetActivityInfo(i[p]);if(!l)return!1;var _=l.group_task_list;for(var h in _){if(_.hasOwnProperty(h))if(_[h].state!=r.HadGet)return!1}}return 0==this._is_claim_2},t.getBossRed=function(){var t=0;return IS(d).getGoodsCountByGoodsGtid(1081)>0&&t++,t},t.onBagUpdate=function(t,e){1081==e&&IS(a).UpdateMainRedByActType(o.Seven2)},t.OnPayGiftInfoUpdate=function(){IS(a).UpdateMainRedByActType(o.Seven),IS(a).UpdateMainRedByActType(o.Seven2)},t.checkHasOpenGuide=function(){var t=y.get(p);return null!=t&&""!=t},t.setOpenGuide=function(){y.set(p,1)},i(n,[{key:"is_claim",get:function(){return this._is_claim},set:function(t){this._is_claim=t,normalEvent.emit(f.OnActivitySevenInfoUpdate),IS(a).UpdateMainRedByActType(56)}},{key:"is_claim_2",get:function(){return this._is_claim_2},set:function(t){this._is_claim_2=t,normalEvent.emit(f.OnActivitySevenInfoUpdate),IS(a).UpdateMainRedByActType(84)}}]),n}());n._RF.pop()}}}));

