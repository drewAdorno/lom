System.register("chunks:///_virtual/NodeInstantiate.ts",["cc"],(function(n){"use strict";var t,i,e;return{setters:[function(n){t=n.cclegacy,i=n.instantiate,e=n.sys}],execute:function(){t._RF.push({},"70431nG0WxKtrWoCWkho0iI","NodeInstantiate",void 0);var r=function(){this.id=void 0,this.prefab=void 0,this.beginTime=void 0,this.onFinish=void 0},a=1,s=[],o=[];function u(n){n.prefab=null,n.onFinish=null,s.push(n)}n("NodeInstantiate",function(){var n=t.prototype;function t(){_G("nodeInstantiate",this)}return n.clear=function(){a=1,o.splice(0,o.length),s.splice(0,s.length)},n.instantiate=function(n){return null==n?(printLogWarn("prefab is null!"),null):i(n)},n.instantiateAsync=function(n,t){if(null==n)return printLogWarn("prefab is null!"),null;var i=s.length>0?s.shift():new r;return i.id=a++,i.beginTime=e.now(),i.prefab=n,i.onFinish=t,o.push(i),i.id},n.remove=function(n){var t=o.length;if(0==t)return!1;for(var i=0;i<t;i++){var e=o[i];if(e.id==n)return u(e),o.splice(i,1),!0}return!1},n.update=function(n){var t=o.length;if(0!=t){ftime.beginFTime(ftime.NodeInstantiate);for(var e=0;e<t;e++){var r=o[e];if(ftime.checkPass(ftime.NodeInstantiate))break;var a=i(r.prefab);if(null!=r.onFinish)try{r.onFinish(r.id,a)}catch(n){printLogException(n)}u(r),o.splice(e,1),t--,e--}}},t}());t._RF.pop()}}}));

