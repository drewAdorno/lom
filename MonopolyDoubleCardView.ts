System.register("chunks:///_virtual/MonopolyDoubleCardView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./StringUtil.ts","./index57.ts","./PayDataCache.ts","./MonopolyControl.ts","./MonopolyDataCache.ts","./MonopolyDefine.ts","./BaseView.ts"],(function(t){"use strict";var n,o,e,i,a,l,r,s,c,u,f,d;return{setters:[function(t){n=t.inheritsLoose},function(t){o=t.cclegacy,e=t.Button,i=t.Label,a=t.RichText,l=t.js},function(t){r=t.default},null,function(t){s=t.default},function(t){c=t.default},function(t){u=t.MonopolyDataCache},function(t){f=t.MonopolyEventDefine},function(t){d=t.BaseView}],execute:function(){o._RF.push({},"bb2f4aUrzpHNrHelwy5PnQ6","MonopolyDoubleCardView",void 0);t("default",function(t){function o(){var n;return(n=t.call(this)||this).txtPrice=void 0,n.txtContent=void 0,n.name="MonopolyDoubleCardView",n.url="ui/module/activity/MonopolyDoubleCardView",n}n(o,t);var d=o.prototype;return d.onInit=function(){var t=this,n=this.findChild("root/imgMask");this.addComponentCallbackListener(n,e.EventType.CLICK,(function(){t.onMaskClick()}));var o=this.findChild("root/content/btnBuy");this.addComponentCallbackListener(o,e.EventType.CLICK,(function(){IS(s).Pay(19015)})),this.txtPrice=this.findChildComponent("root/content/btnBuy/Label",i),this.txtContent=this.findChildComponent("root/content/ScrollView/view/content/txtContent",a);var l=this.findChild("root/content/btnClose");this.addComponentCallbackListener(l,e.EventType.CLICK,(function(){t.close()}))},d.registerUpdateHandler=function(){this.addEvent(f.MONO_DOUBLE_INFO_BACK,this.onMonoDoubleInfoBack,this),this.addEvent(f.MONO_INFO_BACK,this.onMonoInfoBack,this)},d.onMaskClick=function(){this.close()},d.onMonoInfoBack=function(){1==IS(u).monopolyInfo.double_card_open&&this.close()},d.onAfterOpen=function(){var t=configPay_mall.getDataByKey(19015);this.txtPrice.string=IS(s).GetPriceString(t.cost_level),IS(c).reqMonopolyDouble()},d.onMonoDoubleInfoBack=function(t){for(var n=0,o=t.reward_list||[],e=0;e<o.length;e++)if(1401==o[e].gtid){n=o[e].num;break}var i=r.formatStr(GetLanguage(700000336),t.grid_level),a=configGoods.getDataByKey(1401),s=l.formatStr("%s*%s,%s",a.name,n,i);this.txtContent.string=r.formatStr(GetLanguage(700000013),s)},d.onBeforeClose=function(){},d.onDestroy=function(){},o}(d));o._RF.pop()}}}));

