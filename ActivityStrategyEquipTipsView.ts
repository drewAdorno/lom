System.register("chunks:///_virtual/ActivityStrategyEquipTipsView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index57.ts","./UIList.ts","./NodeUtil.ts","./ActivityStrategyDataCache.ts","./BasePopupView.ts"],(function(t){"use strict";var e,i,o,n,r,s,a,c,l,u,d,p;return{setters:[function(t){e=t.inheritsLoose,i=t.createForOfIteratorHelperLoose},function(t){o=t.cclegacy,n=t.UITransform,r=t.ScrollView,s=t.Vec3,a=t.Label},null,function(t){c=t.SelectedType,l=t.ListItem},function(t){u=t.default},function(t){d=t.default},function(t){p=t.BasePopupView}],execute:function(){o._RF.push({},"a7b78H6/rdPEKo3VYE5OEwZ","ActivityStrategyEquipTipsView",void 0);t("default",function(t){function o(){var e;return(e=t.call(this)||this).scrollView=void 0,e.list=void 0,e.utNode=void 0,e.nodeScroll=void 0,e.utScroll=void 0,e.name="ActivityStrategyEquipTipsView",e.url="ui/module/ActivityStrategy/ActivityStrategyEquipTipsView",e}e(o,t);var a=o.prototype;return a.onInit=function(){this.utNode=this.node.getComponent(n),this.scrollView=this.findChildComponent("list",r),this.list=this.addUIList(this.scrollView,h),this.list.selectedMode=c.SINGLE,this.nodeScroll=this.scrollView.node,this.utScroll=this.nodeScroll.getComponent(n)},a.registerUpdateHandler=function(){},a.onAfterOpen=function(){t.prototype.onAfterOpen.call(this);for(var e,o=IS(d).getEquipByLocation(this.openArgs[1]),r=configEquipment.getDataByKey(o.config_id),a=configEquipment_attr.getDatas().filter((function(t){return t.group_id==r.advanced}))||[],c=[],l=i(a);!(e=l()).done;){var u=e.value;u.id!=this.openArgs[3]&&c.push(u)}this.list.datas=c;var p=this.openArgs[0],h=p.parent.getComponent(n).convertToWorldSpaceAR(p.position),f=this.utNode.convertToNodeSpaceAR(h),g=p.getComponent(n).height;this.nodeScroll.position=new s(f.x,f.y+g/2+this.utScroll.height,f.z)},a.onDestroy=function(){},o}(p));var h=function(t){function i(){for(var e,i=arguments.length,o=new Array(i),n=0;n<i;n++)o[n]=arguments[n];return(e=t.call.apply(t,[this].concat(o))||this).txtName=void 0,e.nodeSelect=void 0,e}e(i,t);var o=i.prototype;return o.onInit=function(){this.txtName=u.findChildComponent(this.node,"txtName",a),this.nodeSelect=u.findChild(this.node,"imgSelected")},o.onRender=function(t,e){var i=t.attr_id,o=configAttribute.getDataByKey(i);this.txtName.string=o.name,this.nodeSelect.active=this.view.openArgs[2]==t.id},o.onItemClick=function(){var t=uiMgr.getOpenView("ActivityStrategyEquipAttrView");t&&(0==this.view.openArgs[4]?t.tar1=this.data.id:1==this.view.openArgs[4]&&(t.tar2=this.data.id),t.updateAttr()),this.view.close()},i}(l);o._RF.pop()}}}));

