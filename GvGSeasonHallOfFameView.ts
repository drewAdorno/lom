System.register("chunks:///_virtual/GvGSeasonHallOfFameView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIList.ts","./NodeUtil.ts","./StringUtil.ts","./BaseView.ts","./GvGControl.ts","./GvGDefine.ts"],(function(t){"use strict";var i,n,e,o,a,s,r,l,d,h,c,f,u;return{setters:[function(t){i=t.inheritsLoose},function(t){n=t.cclegacy,e=t.Button,o=t.ScrollView,a=t.Label,s=t.Sprite,r=t.js},function(t){l=t.ListItem},function(t){d=t.default},function(t){h=t.default},function(t){c=t.BaseView},function(t){f=t.default},function(t){u=t.GvGEventDefine}],execute:function(){n._RF.push({},"44890xKxeRG5Lnp67KeD1OO","GvGSeasonHallOfFameView",void 0);t("default",function(t){function n(){var i;return(i=t.call(this)||this).infoScroll=void 0,i.curList=void 0,i.nodeEmpty=void 0,i.name="GvGSeasonHallOfFameView",i.url="ui/module/gvg/GvGSeasonHallOfFameView",i}i(n,t);var a=n.prototype;return a.onInit=function(){var t=this,i=this.findChild("imgMask");this.addComponentCallbackListener(i,e.EventType.CLICK,(function(){t.onMaskClick()}));var n=this.findChild("content/btnClose");this.addComponentCallbackListener(n,e.EventType.CLICK,(function(){t.close()}));var a=this.findChildComponent("content/ScrollView",o);this.infoScroll=this.addUIList(a,m),this.nodeEmpty=this.findChild("content/empty")},a.registerUpdateHandler=function(){this.addEvent(u.GVG_HALL_OF_FAME_INFO_BACK,this.onGvGHallOfFameInfoBack,this)},a.onMaskClick=function(){this.close()},a.onAfterOpen=function(){IS(f).reqGvGHallOfFame()},a.updateInfo=function(){this.infoScroll.datas=this.curList,this.nodeEmpty.active=null==this.curList||this.curList.length<=0||!1},a.onBeforeClose=function(){this.curList=null},a.onDestroy=function(){},a.onGvGHallOfFameInfoBack=function(t){this.curList=t.hall_list,this.updateInfo()},n}(c));var m=function(t){function n(){for(var i,n=arguments.length,e=new Array(n),o=0;o<n;o++)e[o]=arguments[o];return(i=t.call.apply(t,[this].concat(e))||this).txtRound=void 0,i.imgHeadFrame=void 0,i.imgHead=void 0,i.txtName=void 0,i.txtFightPower=void 0,i.txtPoint=void 0,i}i(n,t);var e=n.prototype;return e.onInit=function(){this.txtRound=d.findChildComponent(this.node,"title/txtDesc",a),this.txtName=d.findChildComponent(this.node,"txtName",a),this.imgHead=d.findChildComponent(this.node,"head",s),this.imgHeadFrame=d.findChildComponent(this.node,"imgHeadFrame",s),this.txtFightPower=d.findChildComponent(this.node,"txtFightPower",a),this.txtPoint=d.findChildComponent(this.node,"txtPoint",a)},e.onRender=function(t,i){var n=h.formatStrWithMirrorDeal(GetLanguage(201569),t.round);this.txtRound.string=r.formatStr("S%s-%s",t.season,n);var e=t.role;this.txtName.string=e.name;var o=e.extra,a=0;if(o)for(var s=0;s<o.length;s++)12==o[s].k&&(a=o[s].v);this.txtFightPower.string=h.GetNumString(a),this.view.loadRemoteIcon(e.head.url,this.imgHead);var l=e.head.frame_id;if(l>0){this.imgHeadFrame.node.active=!0;var d=configAvatar_frame.getDataByKey(l);this.view.loadIcon(this.imgHeadFrame,"icon_frame",d.icon)}else this.imgHeadFrame.node.active=!1;this.txtPoint.string=e.score},n}(l);n._RF.pop()}}}));

