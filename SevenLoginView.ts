System.register("chunks:///_virtual/SevenLoginView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NodeUtil.ts","./BaseView.ts","./BagModel.ts","./SevenLoginControl.ts","./SevenLoginDataCache.ts","./SevenLoginDefine.ts"],(function(n){"use strict";var o,e,t,i,a,c,d,r,s,l,u,f;return{setters:[function(n){o=n.inheritsLoose},function(n){e=n.cclegacy,t=n.Button,i=n.js,a=n.Sprite,c=n.Label},function(n){d=n.default},function(n){r=n.BaseView},function(n){s=n.BagModel},function(n){l=n.default},function(n){u=n.SevenLoginDataCache},function(n){f=n.SevenLoginDefine}],execute:function(){e._RF.push({},"70cc4WT4mxJRYYhEu46u0Az","SevenLoginView",void 0);n("default",function(n){function e(){var o;return(o=n.call(this)||this).name="SevenLoginView",o.url="ui/module/sevenlogin/SevenLoginView",o.poolTime=3e3,o}o(e,n);var r=e.prototype;return r.onInit=function(){var n=this,o=this.findChild("root/btnClose");this.addComponentCallbackListener(o,t.EventType.CLICK,(function(){n.onCloseClick()}));var e=this.findChild("imgMask");this.addComponentCallbackListener(e,t.EventType.CLICK,(function(){n.onMaskClick()}));for(var c=1;c<=7;c++){var d=this.findChildComponent(i.formatStr("root/content/nodeItem/imgCheck%s",c),a);this.loadIcon(d,"player","grxx_ui_gouxuan")}},r.onAfterOpen=function(){this.onItemUpdate(),this.onInfoUpdate()},r.registerUpdateHandler=function(){this.addEvent(f.SEVEN_LOGIN_INFO_UPDATE,this.onInfoUpdate,this),this.addEvent(f.SEVEN_LOGIN_REWARDLIST_UPDATE,this.onInfoUpdate,this)},r.onInfoUpdate=function(){for(var n=this,o=IS(u),e=function(e){var i=n.findChild("root/content/nodeRP/imgRP"+e);i.active=!1;var a=n.findChildComponent("root/content/boxDay"+e,t);n.addComponentCallbackListener(a.node,t.EventType.CLICK,(function(){n.onNodeDayClick(a,e)})),a.enabled=!1;var c=7*o.getCurShowGroup()+e,d=n.findChild("root/content/nodeShow/btnShow"+e);return n.addComponentCallbackListener(d,t.EventType.CLICK,(function(){var n=configSevenlogin.getDataByKey(c).goods[0];IS(s).OpenItemTips(n[0],d)})),d.active=!0,c>o.day?"continue":o.getDayMax.includes(c)?(n.findChild("root/content/nodeItem/imgCheck"+e).active=!0,"continue"):(a.enabled=!0,i.active=!0,void(d.active=!1))},i=1;i<=7;i++)e(i)},r.onItemUpdate=function(){for(var n=1;n<8;n++){var o=7*IS(u).getCurShowGroup()+n,e=configSevenlogin.getDataByKey(o),t=e.goods[0],i=this.findChild("root/content/boxDay"+n),r=configGoods.getDataByKey(t[0]),s=configColor.getDataByKey(r.quality),l=d.findChildComponent(i,"imgItemBG",a),f=d.findChildComponent(i,"imgIcon",a),C=d.findChildComponent(i,"txtCount",c),h=d.findChildComponent(i,"txtName",c);C.string=t[1],h.string=r.name,this.loadIcon(l,"icon_equip",s.path),e.big_pic?this.loadIcon(f,"qd",e.big_pic):this.loadIcon(f,r.icon_group,r.icon)}},r.onNodeDayClick=function(n,o){var e=7*IS(u).getCurShowGroup()+o;IS(l).reqSevenLoginReward(e),n.enabled=!1},r.onCloseClick=function(){this.close()},r.onMaskClick=function(){this.close()},r.onBeforeClose=function(){},r.onDestroy=function(){},e}(r));e._RF.pop()}}}));

