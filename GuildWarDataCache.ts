System.register("chunks:///_virtual/GuildWarDataCache.ts",["./rollupPluginModLoBabelHelpers.js","cc","./RedPointMgr.ts","./GuildDataCache.ts","./GuildWarDefine.ts"],(function(t){"use strict";var i,e,o,n,s;return{setters:[function(t){i=t.createForOfIteratorHelperLoose},function(t){e=t.cclegacy},function(t){o=t.RedPointMgr},function(t){n=t.default},function(t){s=t.GuildBossEventDefine}],execute:function(){e._RF.push({},"7d631OysXBP8ovgOTPNiCBY","GuildWarDataCache",void 0);t("GuildWarDataCache",function(){function t(){this.stage=void 0,this.end_time=void 0,this.level=void 0,this.num=void 0,this.is_join=void 0,this.is_today=void 0,this.memberList=[],this.collectCombat=!1,this.sratBattleTime=0,this.endBattleTime=0,this.bossCurHp=0,this.bossIndex=0,this.boxInfo={},this.recordList=void 0,this.canget=void 0,this.in_sec=0,this.popTips=!1}var e=t.prototype;return e.clear=function(){},e.initBoxInfo=function(t){this.recordList=t.record_list,this.canget=t.reward_status,this.updateBoxList(t.box_list),normalEvent.emit(s.TYPE_SOLO_BOX_INFO_UPDATE)},e.updateBoxList=function(t){for(var e,o=i(t);!(e=o()).done;){var n=e.value;this.boxInfo[n.type]=n}0==t.length&&(this.boxInfo={}),this.getBoxRedPoint(),normalEvent.emit(s.TYPE_SOLO_BOX_INFO_UPDATE)},e.getBoxRedPoint=function(){if(1!=this.canget)return IS(o).changeValue("guild_single_boss_box",0),0;var t=configLeague_solo_chapter_chest.getDataByKey(IS(n).GetGuildInfo().level||1),i=0,e=this.boxInfo[1];e&&e.count>0&&e.count>e.got_count&&e.got_count<t.normal_chest_limit&&(i+=1);var s=this.boxInfo[2];return s&&s.count>0&&s.count>s.got_count&&s.got_count<t.rare_chest_limit&&(i+=1),i=Math.min(1,i),IS(o).changeValue("guild_single_boss_box",i),i},t}());e._RF.pop()}}}));

