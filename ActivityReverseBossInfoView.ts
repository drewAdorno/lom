System.register("chunks:///_virtual/ActivityReverseBossInfoView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./V2.ts","./index57.ts","./ActivityDefine.ts","./BaseView.ts"],(function(t){"use strict";var i,e,s,n,o,a,h;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy,s=t.Button,n=t.Label},function(t){o=t.V2},null,function(t){a=t.ActivityEventDefine},function(t){h=t.BaseView}],execute:function(){e._RF.push({},"58d75r3ycpAiLXbkghcSkOB","ActivityReverseBossInfoView",void 0);t("default",function(t){function e(){var i;return(i=t.call(this)||this).nodeModel=void 0,i.txtName=void 0,i.btnLeft=void 0,i.btnRight=void 0,i.attrs=[],i.txtSkill=void 0,i.bossList=[],i.maxPage=0,i.curPage=0,i.model=void 0,i.name="ActivityReverseBossInfoView",i.url="ui/module/reverse/ActivityReverseBossInfoView",i}i(e,t);var h=e.prototype;return h.onInit=function(){var t=this,i=this.findChild("btnClose");this.addComponentCallbackListener(i,s.EventType.CLICK,(function(){t.close()})),this.nodeModel=this.findChild("view/modelRoot"),this.txtName=this.findChildComponent("view/bgName/txtName",n),this.txtSkill=this.findChildComponent("view/skill/desc",n);for(var e=1;e<=5;e++){var o=this.findChildComponent("view/attr/attr"+e+"/txtValue",n);this.attrs.push(o)}this.btnLeft=this.findChild("view/btnLeft"),this.addComponentCallbackListener(this.btnLeft,s.EventType.CLICK,(function(){t.switchPage(-1)})),this.btnRight=this.findChild("view/btnRight"),this.addComponentCallbackListener(this.btnRight,s.EventType.CLICK,(function(){t.switchPage(1)}))},h.registerUpdateHandler=function(){this.addEvent(a.OnActivityReverseUpdate,this.updateInfo,this)},h.onAfterOpen=function(){var t=this.openArgs[0],i=configReversion_war_chapter.getDataByKey(t);this.bossList=i.bossList,this.maxPage=this.bossList.length;var e=this.openArgs[1];this.setPage(e)},h.onBeforeClose=function(){this.curPage=0,this.maxPage=0,this.bossList=[]},h.onDestroy=function(){},h.setPage=function(t){this.curPage!=t&&(this.curPage=t,this.updateSwitchBtn(),this.updateInfo())},h.updateSwitchBtn=function(){this.maxPage>1?(this.btnLeft.active=this.curPage>1,this.btnRight.active=this.curPage<this.maxPage):(this.btnLeft.active=!1,this.btnRight.active=!1)},h.switchPage=function(t){if(t>0){if(this.curPage>=this.maxPage)return}else if(this.curPage<=1)return;var i=this.curPage+t;this.setPage(i)},h.updateInfo=function(){var t=configReversion_war_boss.getDataByKey(this.bossList[this.curPage-1]);this.txtName.string=t.name,this.txtSkill.string=t.desc;var i=configUnit.getDataByKey(t.unitId),e=configUnitModel.getDataByKey(i.model);this.model&&this.removeUIEffect(this.model),this.model=this.addUIEffect(e.path,this.nodeModel,-1,new o(0,0),e.scale/100*1.5),this.attrs[0].string=i.hp,this.attrs[1].string=String(Math.floor(i.att_speed/100)/100),this.attrs[2].string=i.att,this.attrs[3].string=t.range},e}(h));e._RF.pop()}}}));

