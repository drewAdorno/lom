System.register("chunks:///_virtual/GvGRoadEnemyView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIList.ts","./NodeUtil.ts","./StringUtil.ts","./BaseView.ts","./GvGControl.ts","./GvGDefine.ts"],(function(t){"use strict";var e,i,n,o,a,s,d,r,h,l,c,f,u,m;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,n=t.Button,o=t.Label,a=t.ScrollView,s=t.Sprite,d=t.js},function(t){r=t.SelectedType,h=t.ListItem},function(t){l=t.default},function(t){c=t.default},function(t){f=t.BaseView},function(t){u=t.default},function(t){m=t.GvGEventDefine}],execute:function(){i._RF.push({},"718f79r//FA4q3KakoNkOXg","GvGRoadEnemyView",void 0);t("default",function(t){function i(){var e;return(e=t.call(this)||this).txtTitle=void 0,e.itemList=void 0,e.road=void 0,e.dataList=void 0,e.enemyPlayerList=void 0,e.name="GvGRoadEnemyView",e.url="ui/module/gvg/GvGRoadEnemyView",e}e(i,t);var s=i.prototype;return s.onInit=function(){var t=this,e=this.findChild("root/imgMask");this.addComponentCallbackListener(e,n.EventType.CLICK,(function(){t.onMaskClick()}));var i=this.findChild("root/content/btnClose");this.addComponentCallbackListener(i,n.EventType.CLICK,(function(){t.onMaskClick()})),this.txtTitle=this.findChildComponent("root/content/title/txtTitle",o);var s=this.findChildComponent("root/content/ScrollView",a);this.itemList=this.addUIList(s,v),this.itemList.selectedMode=r.SINGLE},s.registerUpdateHandler=function(){this.addEvent(m.GVG_ROAD_INFO_BACK,this.onGvGRoadInfoBack,this)},s.onMaskClick=function(){this.close()},s.onAfterOpen=function(){this.road=this.openArgs[0];var t="";switch(this.road){case 1:t=GetLanguage(200403);break;case 2:t=GetLanguage(200404);break;case 3:t=GetLanguage(200405)}this.txtTitle.string=t,IS(u).reqGvGRoadInfo(2,this.road),this.refreshList()},s.refreshList=function(){if(null!=this.enemyPlayerList){if(this.dataList=this.enemyPlayerList,this.dataList.length<3)for(var t=this.dataList.length;t<3;t++)this.dataList.push({order:t+1});this.itemList.datas=this.dataList}},s.onBeforeClose=function(){this.enemyPlayerList=null},s.onDestroy=function(){},s.onGvGRoadInfoBack=function(t,e,i){2==t&&e==this.road&&(this.enemyPlayerList=i||[],this.refreshList())},i}(f));var v=function(t){function i(){for(var e,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))||this).txtIndex=void 0,e.txtName=void 0,e.imgHead=void 0,e.txtFightPower=void 0,e.nodeHeadDefault=void 0,e.imgHeadFrame=void 0,e}e(i,t);var n=i.prototype;return n.onInit=function(){this.txtIndex=l.findChildComponent(this.node,"txtIndex",o),this.txtName=l.findChildComponent(this.node,"txtName",o),this.imgHead=l.findChildComponent(this.node,"head",s),this.imgHeadFrame=l.findChildComponent(this.node,"imgHeadFrame",s),this.nodeHeadDefault=l.findChild(this.node,"headDefault"),this.txtFightPower=l.findChildComponent(this.node,"txtFightPower",o)},n.onRender=function(t,e){if(this.txtIndex.string=String(t.order),this.txtName.string=t.order>3?t.name:"??????",this.txtFightPower.string=d.formatStr("%s%s",GetLanguage_UI(999000196),t.order>3?c.GetNumString(t.power):"??????"),t.order>3){this.nodeHeadDefault.active=!1,this.imgHead.node.active=!0,this.view.loadRemoteIcon(t.head.url,this.imgHead);var i=t.head.frame_id;if(i>0){this.imgHeadFrame.node.active=!0;var n=configAvatar_frame.getDataByKey(i);this.view.loadIcon(this.imgHeadFrame,"icon_frame",n.icon)}else this.imgHeadFrame.node.active=!1}else this.nodeHeadDefault.active=!0,this.imgHeadFrame.node.active=!1,this.imgHead.node.active=!1},i}(h);i._RF.pop()}}}));

