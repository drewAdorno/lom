System.register("chunks:///_virtual/RoleControl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CommonDefine.ts","./GameSetting.ts","./MessageView.ts","./PayDataCache.ts","./NativeToJs.ts","./RoleAttrDataCache.ts","./RoleDataCache.ts","./RoleDefine.ts"],(function(e){"use strict";var n,t,_,a,o,s,r,i,l;return{setters:[function(e){n=e.createForOfIteratorHelperLoose},function(e){t=e.cclegacy},function(e){_=e.CommonEventDefine},function(e){a=e.default},function(e){o=e.default},null,null,function(e){s=e.RoleAttrDataCache},function(e){r=e.RoleDataCache},function(e){i=e.RoleEventDefine,l=e.PlayerAttr}],execute:function(){t._RF.push({},"447baXHtKdH54r3XNSZFpL7","RoleControl",void 0);e("default",function(){var e=t.prototype;function t(){netManager.addEventListener("role.role_info_s2c",this.update_3_1,this),netManager.addEventListener("role.role_resource_change_s2c",this.update_3_2,this),netManager.addEventListener("role.role_info_change_s2c",this.update_3_4,this),netManager.addEventListener("role.role_open_function_s2c",this.update_3_5,this),netManager.addEventListener("role.role_total_sp_info_s2c",this.update_3_7,this),netManager.addEventListener("role.role_total_sp_update_s2c",this.update_3_8,this),netManager.addEventListener("role.role_rename_s2c",this.update_3_11,this),netManager.addEventListener("role.role_setting_info_s2c",this.update_3_13,this),netManager.addEventListener("role.role_set_setting_s2c",this.update_3_14,this),netManager.addEventListener("role.role_change_gender_s2c",this.update_3_15,this),netManager.addEventListener("role.role_skin_list_s2c",this.update_3_16,this),netManager.addEventListener("role.role_change_skin_s2c",this.update_3_17,this),netManager.addEventListener("role.role_used_skin_list_s2c",this.update_3_18,this),netManager.addEventListener("role.role_guide_s2c",this.update_3_25,this),netManager.addEventListener("role.role_preview_s2c",this.update_3_27,this),netManager.addEventListener("role.role_preview_reward_s2c",this.update_3_28,this),netManager.addEventListener("role.client_data_s2c",this.update_3_29,this),netManager.addEventListener("role.role_client_log_s2c",this.update_3_30,this),netManager.addEventListener("role.role_show_control_s2c",this.update_3_31,this),netManager.addEventListener("role.role_goods_refresh_list_s2c",this.update_3_34,this),netManager.addEventListener("role.role_power_info_s2c",this.update_3_36,this),netManager.addEventListener("role.role_skin_upgrade_lv_s2c",this.update_3_37,this),netManager.addEventListener("role.role_red_point_s2c",this.on_role_red_point_s2c,this),netManager.addEventListener("role.role_red_point_change_s2c",this.on_role_red_point_change_s2c,this),netManager.addEventListener("role.role_appeal_s2c",this.on_role_appeal_s2c,this),netManager.addEventListener("role.role_complaint_s2c",this.on_role_complaint_s2c,this),netManager.addEventListener("role.role_complaint_check_s2c",this.on_role_complaint_check_s2c,this),netManager.addEventListener("jobs_wakeup.jobs_wakeup_info_s2c",this.update_37_1,this),netManager.addEventListener("jobs_wakeup.jobs_wakeup_wakeup_s2c",this.update_37_2,this),netManager.addEventListener("jobs_wakeup.jobs_wakeup_upgrade_s2c",this.update_37_3,this),netManager.addEventListener("role.role_plan_info_s2c",this.on_role_plan_info_s2c,this),netManager.addEventListener("role.role_choose_plan_s2c",this.on_role_choose_plan_s2c,this),netManager.addEventListener("role.role_change_plan_name_s2c",this.on_role_change_plan_name_s2c,this),netManager.addEventListener("role.role_update_plan_s2c",this.on_role_update_plan_s2c,this),netManager.addEventListener("role.role_default_plan_info_s2c",this.on_role_default_plan_info_s2c,this),netManager.addEventListener("role.role_sp_cmp_s2c",this.on_role_sp_cmp_s2c,this),_G("roleControl",this)}return e.clear=function(){_G("roleControl",null)},e.send_3_1=function(){netManager.send("role.role_info_c2s",{})},e.update_3_1=function(e){IS(r).initRoleInfo(e),console.log("init 3_1")},e.update_3_2=function(e){IS(r).roleResChange(e)},e.send_role_sp=function(e,n){var t={target_id:e,source:n};netManager.send("role.role_sp_cmp_c2s",t)},e.on_role_sp_cmp_s2c=function(e){normalEvent.emit(i.ROLE_ATTR_LIST_UPDATE_COMPARE,e)},e.send_3_4=function(e){var n={type_list:e};netManager.send("role.role_info_change_c2s",n)},e.update_3_4=function(e){IS(r).UpdateChangeInfo(e)},e.update_3_5=function(e){IS(r).UpdateFuncOpenList(e)},e.send_3_6=function(e){var n={job:e};netManager.send("role.role_change_job_c2s",n)},e.send_3_7=function(e){var n={type:e};netManager.send("role.role_total_sp_info_c2s",n)},e.update_3_7=function(e){0==e.type?IS(s).updateRoleAttrByList(e.list):1==e.type&&normalEvent.emit(i.ROLE_ATTR_LIST_UPDATE_VIRTUAL,e.list),IS(s).updateRoleAttrObj(e.attr_obj)},e.update_3_8=function(e){IS(s).updateRoleAttrByList(e.list),IS(s).updateRoleAttrObj(e.attr_obj)},e.send_3_9=function(e){netManager.send("role.role_job_figure_c2s",{job:e})},e.send_3_11=function(e){var n={name:e};netManager.send("role.role_rename_c2s",n)},e.update_3_11=function(e){IS(r).UpdateRename(e)},e.send_3_13=function(){netManager.send("role.role_setting_info_c2s",{})},e.update_3_13=function(e){IS(a).UpdateSettingList(e.list)},e.send_3_14=function(e,n){var t={type:e,value:n};netManager.send("role.role_set_setting_c2s",t)},e.update_3_14=function(e){IS(a).UpdateSettingValue(e.type,e.value)},e.send_3_15=function(e){var n={gender:e};netManager.send("role.role_change_gender_c2s",n)},e.update_3_15=function(e){IS(r).UpdateGender(e)},e.send_3_16=function(){netManager.send("role.role_skin_list_c2s",{})},e.update_3_16=function(e){IS(r).UpdateSkin(e.skin_list)},e.send_3_17=function(e){netManager.send("role.role_change_skin_c2s",{id:e})},e.update_3_17=function(e){IS(r).UpdateSkinChange(e)},e.send_3_18=function(){netManager.send("role.role_used_skin_list_c2s",{})},e.update_3_18=function(e){IS(r).UpdateUsedSkin(e.figure_list)},e.send_3_19=function(e,n,t,_){netManager.send("role.role_common_speed_c2s",{type:e,goods_id:n,use_num:t,args1:_})},e.send_3_22=function(e){var n={info:e};netManager.send("role.role_change_req_c2s",n)},e.send_3_25=function(e){netManager.send("role.role_guide_c2s",{id:e})},e.update_3_25=function(e){IS(r).guideId=e.id,printLogErr("aaaaaaaaaaaaaaaaaaa",e.id)},e.update_3_27=function(e){IS(r).ModifyRolePreviewData(e)},e.send_3_28=function(e){netManager.send("role.role_preview_reward_c2s",{config_id:e})},e.update_3_28=function(e){IS(r).UpdayeRolePreviewData(e)},e.send_3_29=function(e,n,t,_){var a=[{k:String(t),s:String(_)}];netManager.send("role.client_data_c2s",{sys_id:e,update:n,data:a})},e.send_3_29_All=function(e,n,t){var _=t;netManager.send("role.client_data_c2s",{sys_id:e,update:n,data:_})},e.update_3_29=function(e){IS(r).updateClientData(e.list)},e.send_3_30=function(e,n,t){netManager.send("role.role_client_log_c2s",{type:e,sub_type:n,args:t})},e.update_3_30=function(e){},e.update_3_31=function(e){IS(r).UpdateHideList(e)},e.update_3_34=function(e){IS(r).updateGoodsFefreshInfo(e.goods_refresh_list)},e.send_3_35=function(e){netManager.send("role.role_unlock_skin_c2s",{skin_id:e})},e.update_3_36=function(e){IS(r).rolePowerChange(e.power_info),IS(r).updateRoleAttr(l.ROLE_ATTR_POWER_INFO,e.power_info,null),normalEvent.emit(i.ROLE_ATTR_POWER_INFO)},e.send_3_37=function(e){netManager.send("role.role_skin_upgrade_lv_c2s",{skin_id:e})},e.update_3_37=function(e){IS(r).UpdateSkinLevel(e)},e.on_role_red_point_s2c=function(e){IS(r).systemToRedInfos={};var n=e.red_point_list;if(null!=n){for(var t=0;t<n.length;t++){var _=n[t],a=_.system;null==IS(r).systemToRedInfos[a]&&(IS(r).systemToRedInfos[a]={});for(var o=_.detail_list,s=0;s<o.length;s++){var l=o[s];IS(r).systemToRedInfos[a][l.module]=l.num}}normalEvent.emit(i.ROLE_RED_POINT_LIST_UPDATE)}},e.on_role_red_point_change_s2c=function(e){var n=e.red_point_info;if(null!=n){var t=n.system;null==IS(r).systemToRedInfos[t]&&(IS(r).systemToRedInfos[t]={});for(var _=n.detail_list,a=0;a<_.length;a++){var o=_[a];IS(r).systemToRedInfos[t][o.module]=o.num}normalEvent.emit(i.ROLE_RED_DETAIL_UPDATE,t)}},e.send_37_1=function(){netManager.send("jobs_wakeup.jobs_wakeup_info_c2s",{})},e.update_37_1=function(e){IS(r).updateAwakeList(e)},e.send_37_2=function(){netManager.send("jobs_wakeup.jobs_wakeup_wakeup_c2s",{})},e.update_37_2=function(e){IS(r).updateAwakeInfo(e)},e.send_37_3=function(e,n){netManager.send("jobs_wakeup.jobs_wakeup_upgrade_c2s",{id:e,upgrade_lv:n})},e.update_37_3=function(e){IS(r).updateAwakeInfo(e)},e.send_37_5=function(e){netManager.send("jobs_wakeup.jobs_wakeup_item_transform_c2s",{num:e})},e.send_role_complaint_c2s=function(e,n,t){netManager.send("role.role_complaint_c2s",{role_id:e,type:n,content:t})},e.on_role_complaint_s2c=function(e){uiMgr.close("InformView"),o.showFlyTip(GetLanguage(200576))},e.send_role_appeal_c2s=function(e,n){void 0===n&&(n=""),netManager.send("role.role_appeal_c2s",{type:e,content:n})},e.on_role_appeal_s2c=function(e){normalEvent.emit(_.UPDATE_APPEAL_RESULT,e)},e.send_role_complaint_check_c2s=function(e){netManager.send("role.role_complaint_check_c2s",{role_id:e})},e.on_role_complaint_check_s2c=function(e){normalEvent.emit(_.COMPLAINT_CHECK,e.role_id)},e.send_role_plan_info_c2s=function(){netManager.send("role.role_plan_info_c2s",{})},e.on_role_plan_info_s2c=function(e){IS(r).curPlan=e.plan_id;var n=e.plan_list||[];IS(r).planIdToInfo={};for(var t=0;t<n.length;t++)IS(r).planIdToInfo[n[t].plan_id]=n[t];normalEvent.emit(i.PLAN_INFO_BACK)},e.send_role_choose_plan_c2s=function(e){netManager.send("role.role_choose_plan_c2s",{plan_id:e})},e.on_role_choose_plan_s2c=function(e){IS(r).curPlan=e.plan_id,normalEvent.emit(i.PLAN_SELECT_CHANGE)},e.send_role_change_plan_name_c2s=function(e,n){netManager.send("role.role_change_plan_name_c2s",{plan_id:e,name:n})},e.on_role_change_plan_name_s2c=function(e){var n=e.plan_id;null!=n&&null!=IS(r).planIdToInfo[n]&&(IS(r).planIdToInfo[n].name=e.name,o.showFlyTip(GetLanguage(200577)),uiMgr.close("TabRenameView"),normalEvent.emit(i.PLAN_NAME_CHANGE,n))},e.send_role_update_plan_c2s=function(e,n){netManager.send("role.role_update_plan_c2s",{plan_id:e,update_detail:n})},e.on_role_update_plan_s2c=function(e){var n=e.new_plan;null!=n&&(IS(r).planIdToInfo[n.plan_id]=n,normalEvent.emit(i.PLAN_INFO_UPDATE,n.plan_id))},e.send_role_change_mbti_c2s=function(e){netManager.send("role.role_change_mbti_c2s",{mbti:e})},e.send_role_default_plan_info_c2s=function(){netManager.send("role.role_default_plan_info_c2s",{})},e.on_role_default_plan_info_s2c=function(e){for(var t,_=[],a=[],o=n(e.default_plans);!(t=o()).done;){var s=t.value;_[s.k]=s.v,a[s.k]=s.v}IS(r).presetList=_,IS(r).curPresetList=a,normalEvent.emit(i.PLAN_PRESET_UPDATE)},e.send_role_change_default_plan_c2s=function(e){netManager.send("role.role_change_default_plan_c2s",{change_list:e})},e.send_role_quick_set_double_chapter_plan=function(){netManager.send("role.role_quick_set_double_chapter_plan_c2s",{})},t}());t._RF.pop()}}}));

