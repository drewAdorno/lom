System.register("chunks:///_virtual/ChapterDoubleLadderCC.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BattleData.ts","./ChapterDoubleLadder.ts","./V2.ts","./ChapterDefine.ts","./DungeonControl.ts","./index85.ts","./Effect.ts"],(function(t){"use strict";var e,a,n,r,o,i,l,u,s,c;return{setters:[function(t){e=t.inheritsLoose,a=t.createForOfIteratorHelperLoose,n=t.regeneratorRuntime},function(t){r=t.cclegacy},function(t){o=t.ChapterType},function(t){i=t.ChapterDoubleLadder},function(t){l=t.V2},function(t){u=t.ChapterEventDefine},function(t){s=t.default},null,function(t){c=t.Effect}],execute:function(){r._RF.push({},"4dfaa6sunZOW4ZC69IjxN+R","ChapterDoubleLadderCC",void 0);t("ChapterDoubleLadderCC",function(t){function r(){return t.apply(this,arguments)||this}e(r,t);var i=r.prototype;return i.loadData=function(e){if(t.prototype.loadData.call(this,e),battleMain.data.dummy){var n=c.alloc(40031,battleMain.shipRoot,-1),r=configChapter_type.getDataByKey(o.DoubleLadder).player_points;n.aniName="idle2",n.position=new l(e+r[0][0],r[0][1]);var i=c.alloc(40031,battleMain.effectTopRoot,-1);i.aniName="idle",i.position=new l(e+r[0][0],r[0][1])}for(var u,s=a(battleMain.playerCtrs);!(u=s()).done;){var d=u.value;if(d.playerData.id==battleMain.roleId){battleMain.mainCtr=d,battleMain.showMainCtr=battleMain.mainCtr;break}}},i.start=function(){t.prototype.start.call(this),battleMain.timeScale=1},i.endResult=n().mark((function t(e,a,r){var i,l;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,coroutine.wait(1);case 2:i=this.battleMain,l=this.config,i.enterChapter(),i.curRecord&&i.curRecord.manual?IS(s).reqDungeonBattleResult(o.DoubleLadder,e,a,1,i.curRecord.collects):IS(s).reqDungeonBattleResult(o.DoubleLadder,e,a,0,null),normalEvent.emit(u.BATTLE_STATE,o.DoubleLadder,!1),i.toResult(l.id,o.DoubleLadder,a,r);case 8:case"end":return t.stop()}}),t,this)})),i.toResult=function(e,a){if(void 0===a&&(a=!1),t.prototype.toResult.call(this,e,a))return!0;var n=this.config;coroutine.start(this.endResult(n.id,e,a),"battle")},r}(i));r._RF.pop()}}}));

