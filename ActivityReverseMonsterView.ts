System.register("chunks:///_virtual/ActivityReverseMonsterView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIList.ts","./NodeUtil.ts","./StringUtil.ts","./index57.ts","./ItemIcon.ts","./BagDefine.ts","./ResItems.ts","./ActivityDefine.ts","./ActivityReverseDataCache.ts","./BaseView.ts"],(function(t){"use strict";var e,i,n,o,s,c,a,d,r,h,l,v,u,f,p;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,n=t.Button,o=t.ScrollView,s=t.Sprite,c=t.Label},function(t){a=t.ListItem},function(t){d=t.default},function(t){r=t.default},null,function(t){h=t.IconAseetType},function(t){l=t.BagEventDefine},function(t){v=t.ResItems},function(t){u=t.ActivityEventDefine},function(t){f=t.default},function(t){p=t.BaseView}],execute:function(){i._RF.push({},"60a79purGpHPJfye+AiLTE2","ActivityReverseMonsterView",void 0);var m=[1086],C=(t("default",function(t){function i(){var e;return(e=t.call(this)||this).scroll=void 0,e.openDay=0,e.resItems=void 0,e.name="ActivityReverseMonsterView",e.url="ui/module/reverse/ActivityReverseMonsterView",e}e(i,t);var s=i.prototype;return s.onInit=function(){var t=this,e=this.findChild("view/btnClose");this.addComponentCallbackListener(e,n.EventType.CLICK,(function(){t.close()})),this.resItems=new v(this),this.resItems.init(m);var i=this.findChildComponent("view/scroll",o);this.scroll=this.addUIList(i,C)},s.registerUpdateHandler=function(){this.addEvent(u.OnActivityReverseUpdate,this.updateInfo,this),this.addEvent(l.GOODS_INFO_UPDATE,this.updateResShow,this)},s.onAfterOpen=function(){this.updateResShow(),IS(f).setMonsterRed(),this.openDay=IS(f).getOpenDay(),this.scroll.datas=IS(f).getMonsterList()},s.onBeforeClose=function(){},s.onDestroy=function(){},s.updateResShow=function(){this.resItems.update()},s.updateInfo=function(){this.scroll.datas=IS(f).getMonsterList()},i}(p)),function(t){function i(){for(var e,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))||this).imgFrame=void 0,e.imgIcon=void 0,e.nodeMask=void 0,e.nodeLock=void 0,e.nodeCost=void 0,e.txtCost=void 0,e.imgCost=void 0,e.txtDesc=void 0,e}e(i,t);var o=i.prototype;return o.onInit=function(){var t=this;this.imgFrame=d.findChildComponent(this.node,"imgFrame",s),this.imgIcon=d.findChildComponent(this.node,"imgIcon",s),this.nodeMask=d.findChild(this.node,"imgMask"),this.nodeLock=d.findChild(this.node,"imgLock"),this.nodeCost=d.findChild(this.node,"cost"),this.imgCost=d.findChildComponent(this.node,"cost/imgIcon",s),this.txtCost=d.findChildComponent(this.node,"cost/txtNum",c),this.txtDesc=d.findChildComponent(this.node,"txtDesc",c),this.view.addComponentCallbackListener(this.node,n.EventType.CLICK,(function(){uiMgr.openView("ActivityReverseMonsterInfoView",t.data.id,1)}))},o.onRender=function(t,e){var i=configColor.getDataByKey(t.quality);this.view.loadIcon(this.imgFrame,"icon_equip",i.path),this.view.loadIcon(this.imgIcon,"icon_reversion_war",t.icon,null,h.ICON_SPRITE);var n=1==IS(f).getInfo().monster_list[t.id];if(t.unlock_day-this.view.openDay>0)this.nodeMask.active=!0,this.nodeLock.active=!0,this.nodeCost.active=!1,this.txtDesc.node.active=!0,this.txtDesc.string=r.formatStrWithMirrorDeal(GetLanguage(202019),t.unlock_day-this.view.openDay);else if(n)this.nodeMask.active=!1,this.nodeLock.active=!1,this.nodeCost.active=!1,this.txtDesc.node.active=!1;else if(this.nodeMask.active=!0,this.nodeLock.active=!0,this.nodeCost.active=!0,this.txtDesc.node.active=!1,t.spend.length>0){var o=configGoods.getDataByKey(t.spend[0][0]);this.view.loadIcon(this.imgCost,o.icon_group,o.icon),this.txtCost.string=t.spend[0][1]}},i}(a));i._RF.pop()}}}));

