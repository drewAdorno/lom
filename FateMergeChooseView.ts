System.register("chunks:///_virtual/FateMergeChooseView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NodeUtil.ts","./StringUtil.ts","./index57.ts","./ItemIcon.ts","./MessageView.ts","./FateControl.ts","./BaseView.ts"],(function(t){"use strict";var i,e,n,o,s,l,a,c,r,h,d,u,f,g;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy,n=t.Button,o=t.Sprite,s=t.Label,l=t.sys,a=t.RichText,c=t.js},function(t){r=t.default},function(t){h=t.default},null,function(t){d=t.IconAseetType},function(t){u=t.default},function(t){f=t.default},function(t){g=t.BaseView}],execute:function(){e._RF.push({},"054e1dDu6BMA4cS+4Puj4V2","FateMergeChooseView",void 0);t("default",function(t){function e(){var i;return(i=t.call(this)||this).items={},i.name="FateMergeChooseView",i.url="ui/module/fate/FateMergeChooseView",i}i(e,t);var o=e.prototype;return o.onInit=function(){var t=this.findChild("content/oprate/btn1");this.addComponentCallbackListener(t,n.EventType.CLICK,(function(){u.showBoxTip({tip:GetLanguage(200288),title:GetLanguage(200048),ensure:GetLanguage(200053),cancel:GetLanguage(200054),func:function(t){"type_yes"==t&&IS(f).send_35_13(0)}})}));var i=this.findChild("content/oprate/btn2");this.addComponentCallbackListener(i,n.EventType.CLICK,(function(){u.showBoxTip({tip:GetLanguage(200289),title:GetLanguage(200048),ensure:GetLanguage(200053),cancel:GetLanguage(200054),func:function(t){"type_yes"==t&&IS(f).send_35_13(1)}})}));for(var e=1;e<=2;e++){var o=new m;o.init(this.findChild("content/item"+e),this),this.items[e]=o}},o.registerUpdateHandler=function(){},o.onAfterOpen=function(){var t=this.openArgs[0];this.items[1].show(t.old_fate),this.items[2].show(t.new_fate)},o.onBeforeClose=function(){},o.onDestroy=function(){},e}(g));var m=function(){function t(){this.view=void 0,this.node=void 0,this.txtName=void 0,this.imgIcon=void 0,this.txtLev=void 0,this.skillNode=void 0,this.skillName=void 0,this.skillDesc=void 0,this.skillQuality=void 0}var i=t.prototype;return i.init=function(t,i){this.view=i,this.node=t,this.onInit()},i.onInit=function(){this.imgIcon=r.findChildComponent(this.node,"imgIcon",o),this.txtName=r.findChildComponent(this.node,"imgIcon/txtName",s),this.txtLev=r.findChildComponent(this.node,"imgIcon/txtLev",s),l.uiMirror&&(this.txtName.node.setScale(1,1,1),this.txtLev.node.setScale(1,1,1)),this.skillNode=r.findChild(this.node,"skill"),this.skillName=r.findChildComponent(this.node,"skill/txtName",s),this.skillDesc=r.findChildComponent(this.node,"skill/txtDesc",a),this.skillQuality=r.findChildComponent(this.node,"skill/txtQuality",a)},i.show=function(t){var i=t,e=configFate.getDataByKey(t.cfg_id);if(this.view.loadIcon(this.imgIcon,"icon_fate",e.icon,null,d.ICON_SPRITE),this.txtName.string=e.name,this.txtLev.string="Lv."+i.lv,i.skill){this.imgIcon.node.setPosition(-190,25);var n=configSkill.getDataByKey(i.skill.skill_id),o=configSkill_level.getDataByKeys("id",n.id,"level",i.skill.skill_lv),s=configColor.getDataByKey(n.quality),l=s.color2,a=h.formatStr.apply(h,[o.desc].concat(o.desc_parm)).replace(/%s/g,l);this.skillName.string=n.name,this.skillQuality.string=c.formatStr("<b><color=%s>%s</color></b>",l,s.name),this.skillDesc.string=c.formatStr("<b><color=#544231>%s</color></b>",a)}else this.skillNode.active=!1,this.imgIcon.node.setPosition(0,25)},t}();e._RF.pop()}}}));

