System.register("chunks:///_virtual/RedBagSendView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index57.ts","./ChatControl.ts","./BaseView.ts"],(function(i){"use strict";var e,t,n,s,d,o,l,a,r,h,u,c,m;return{setters:[function(i){e=i.inheritsLoose},function(i){t=i.cclegacy,n=i.Button,s=i.Sprite,d=i.Label,o=i.sys,l=i.Widget,a=i.Slider,r=i.UITransform,h=i.Vec3,u=i.js},null,function(i){c=i.default},function(i){m=i.BaseView}],execute:function(){t._RF.push({},"b1ea2ocfydAWIsNro5/6LMV","RedBagSendView",void 0);i("RedBagSendView",function(i){function t(){var e,t,n,s;return(s=i.call(this)||this).redBagInfo=void 0,s.minValue=void 0,s.maxValue=void 0,s.redBagName=void 0,s.redNum=void 0,s.desc=void 0,s.channel=void 0,s.slider=void 0,s.selectNum=void 0,s.curNum=void 0,s.maxNum=void 0,s.minNum=void 0,s.star=void 0,s.bg=void 0,s.line=void 0,s.closeBg=void 0,s.redBagImg=((e={})[1]="redpacket_ui_hb2_3",e[2]="redpacket_ui_hb2_2",e[3]="redpacket_ui_hb2_1",e),s.redBagCloseImg=((t={})[1]="redpacket_ui_close01",t[2]="redpacket_ui_close02",t[3]="redpacket_ui_close03",t),s.redBagBgPosY=((n={})[1]=-20,n[2]=-20,n[3]=-37,n),s.name="RedBagSendView",s.url="ui/module/Chat/RedBagSendView",s.poolTime=3e3,s}e(t,i);var m=t.prototype;return m.onInit=function(){var i=this;if(this.addComponentCallbackListener(this.findChild("imgMask"),n.EventType.CLICK,(function(){i.close()})),this.addComponentCallbackListener(this.findChild("btnClose"),n.EventType.CLICK,(function(){i.close()})),this.star=this.findChild("star"),this.bg=this.findChildComponent("bg",s),this.closeBg=this.findChildComponent("btnClose",s),this.addComponentCallbackListener(this.findChild("sendBtn"),n.EventType.CLICK,(function(){IS(c).send_red_send_c2s(i.redBagInfo.id,i.curNum),i.close()})),this.redBagName=this.findChildComponent("name",d),this.desc=this.findChildComponent("desc",d),this.channel=this.findChildComponent("channel/Label",d),this.redNum=this.findChildComponent("num",d),o.uiMirror){var e=this.findChildComponent("num/item",l);e.alignFlags=32,e.right=-67.633}this.slider=this.findChildComponent("select/Slider",a),this.line=this.findChildComponent("select/Slider/line",r),this.addComponentCallbackListener(this.slider.node,"slide",(function(){i.curNum=i.minValue+Math.floor((i.maxValue-i.minValue)*i.slider.progress),i.selectNum.string=i.curNum,i.line.width=389*i.slider.progress})),this.selectNum=this.findChildComponent("select/Slider/Handle/num/Label",d),this.minNum=this.findChildComponent("select/left",d),this.maxNum=this.findChildComponent("select/right",d)},m.onAfterOpen=function(){this.redBagInfo=this.openArgs[0],this.minValue=this.redBagInfo.min,this.maxValue=this.redBagInfo.max,this.minNum.string=this.minValue,this.maxNum.string=this.maxValue,this.curNum=this.minValue,this.slider.progress=0,this.line.width=0,this.selectNum.string=this.curNum;var i=configRed_packet.getDataByKey(this.redBagInfo.cfg_id);i&&(this.redBagName.string=i.tiny_title,this.desc.string=i.title,this.loadIcon(this.bg,"red_bag",this.redBagImg[i.quality]),this.loadIcon(this.closeBg,"red_bag",this.redBagCloseImg[i.quality]),this.bg.node.position=new h(0,this.redBagBgPosY[i.quality],0),this.redNum.string=u.formatStr("X%s",i.amount[1]))},m.registerUpdateHandler=function(){},m.onBeforeClose=function(){},m.onDestroy=function(){},t}(m));t._RF.pop()}}}));

