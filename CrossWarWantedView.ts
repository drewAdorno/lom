System.register("chunks:///_virtual/CrossWarWantedView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIList.ts","./NodeUtil.ts","./StringUtil.ts","./TimeUtil.ts","./BaseView.ts","./MessageView.ts","./CrossWarControl.ts","./CrossWarDefine.ts","./CrossWarSceneControl.ts","./CrossWarSceneDataCache.ts"],(function(t){"use strict";var e,n,i,o,s,a,r,l,d,c,u,h,f,C,m,v,p;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,i=t.Button,o=t.ScrollView,s=t.Label,a=t.Sprite},function(t){r=t.SelectedType,l=t.ListItem},function(t){d=t.default},function(t){c=t.default},function(t){u=t.default},function(t){h=t.BaseView},function(t){f=t.default},function(t){C=t.default},function(t){m=t.CrossWarEventDefine},function(t){v=t.default},function(t){p=t.CrossWarSceneDataCache}],execute:function(){n._RF.push({},"a60eaK3R5JNqrTqL5J/2/iB","CrossWarWantedView",void 0);t("default",function(t){function n(){var e;return(e=t.call(this)||this).itemList=void 0,e.txtNull=void 0,e.name="CrossWarWantedView",e.url="ui/module/crosswar/CrossWarWantedView",e}e(n,t);var s=n.prototype;return s.onInit=function(){var t=this,e=this.findChild("root/imgMask");this.addComponentCallbackListener(e,i.EventType.CLICK,(function(){t.onMaskClick()}));var n=this.findChild("root/content/btnClose");this.addComponentCallbackListener(n,i.EventType.CLICK,(function(){t.onMaskClick()}));var s=this.findChildComponent("root/content/ScrollView",o);this.itemList=this.addUIList(s,L),this.itemList.selectedMode=r.SINGLE,this.txtNull=this.findChild("root/content/txtNull")},s.registerUpdateHandler=function(){this.addEvent(m.CROSS_WAR_WANTED_LIST,this.onWantedList,this)},s.onMaskClick=function(){this.close()},s.onAfterOpen=function(){IS(C).reqKillList()},s.onBeforeClose=function(){},s.onDestroy=function(){},s.onWantedList=function(t){this.itemList.datas=t,this.txtNull.active=null==t||t.length<=0},n}(h));var L=function(t){function n(){for(var e,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))||this).txtName=void 0,e.imgHead=void 0,e.txtMap=void 0,e.txtKill=void 0,e}e(n,t);var o=n.prototype;return o.onInit=function(){var t=this;this.txtName=d.findChildComponent(this.node,"txtName",s),this.imgHead=d.findChildComponent(this.node,"head",a),this.txtMap=d.findChildComponent(this.node,"txtMap",s),this.txtKill=d.findChildComponent(this.node,"txtKill",s);var e=d.findChild(this.node,"btnGo");this.view.addComponentCallbackListener(e,i.EventType.CLICK,(function(){t.data&&(IS(p).transferCdTime>u.serverTime?f.showFlyTip(GetLanguage(201383)):(IS(C).reqCrossWarSceneTransfer(t.data.scene_base,{x:0,y:0}),IS(v).leaveScene(1,!0)))}))},o.onRender=function(t,e){var n=configScene.getDataByKey(t.scene_base);this.txtName.string="[s"+t.serv_id+"]"+t.name,this.txtMap.string=c.formatStrWithMirrorDeal(GetLanguage(201304),null==n?void 0:n.name),this.txtKill.string=c.formatStrWithMirrorDeal(GetLanguage(201305),t.kill_num),this.view.loadRemoteIcon(t.head.url,this.imgHead)},n}(l);n._RF.pop()}}}));

