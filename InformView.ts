System.register("chunks:///_virtual/InformView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIList.ts","./NodeUtil.ts","./BaseView.ts","./RoleControl.ts","./MessageView.ts"],(function(t){"use strict";var e,i,n,o,s,l,d,a,c,r,h,u,f,v;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,n=t.Button,o=t.Label,s=t.ScrollView,l=t.EditBox,d=t.sys,a=t.HorizontalTextAlignment,c=t.Sprite},function(t){r=t.ListItem},function(t){h=t.default},function(t){u=t.BaseView},function(t){f=t.default},function(t){v=t.default}],execute:function(){i._RF.push({},"4156fdP6F9Krb0Gz0ylSyTq","InformView",void 0);t("default",function(t){function i(){var e;return(e=t.call(this)||this).playerName=void 0,e.scroll=void 0,e.editBox=void 0,e.evidence=void 0,e.data=void 0,e.selectId={},e.name="InformView",e.url="ui/module/common/InformView",e}e(i,t);var c=i.prototype;return c.registerUpdateHandler=function(){},c.onInit=function(){var t=this;this.InitPlayer(),this.InitDesSel(),this.InitDetail(),this.InitEvidence(),this.addComponentCallbackListener(this.findChild("imgMask"),n.EventType.CLICK,(function(){t.close()})),this.addComponentCallbackListener(this.findChild("node/btnClose"),n.EventType.CLICK,(function(){t.close()})),this.addComponentCallbackListener(this.findChild("node/btnCommit"),n.EventType.CLICK,(function(){var e=[];for(var i in t.selectId)if(1==t.selectId[i]){var n=configComplaint.getDataByKey(Number(i));e.push(n.complaint_type)}0!=e.length?0!=t.editBox.string.length?t.editBox.string.length>100?v.showFlyTip(GetLanguage(200214)):IS(f).send_role_complaint_c2s(t.data.id,e,t.editBox.string+"EVIï¼š"+t.evidence.string):v.showFlyTip(GetLanguage(200213)):v.showFlyTip(GetLanguage(200212))}))},c.InitPlayer=function(){this.playerName=this.findChildComponent("node/ScrollView/view/content/Player/name/Text",o)},c.InitDesSel=function(){var t=this.findChildComponent("node/ScrollView/view/content/DescSel/ScrollView",s);this.scroll=this.addUIList(t,g,!1),this.scroll.touchEvent=!1},c.InitDetail=function(){(this.editBox=this.findChildComponent("node/ScrollView/view/content/DetailNode/EditBox",l),d.uiMirror)&&(this.findChildComponent("node/ScrollView/view/content/DetailNode/EditBox/TEXT_LABEL-001/TEXT_LABEL-002",o).horizontalAlign=a.RIGHT);this.editBox.placeholder=GetLanguage_UI(100924),this.editBox.string=""},c.InitEvidence=function(){(this.evidence=this.findChildComponent("node/ScrollView/view/content/Evidence/EditBox",l),d.uiMirror)&&(this.findChildComponent("node/ScrollView/view/content/Evidence/EditBox/TEXT_LABEL-001/TEXT_LABEL-002",o).horizontalAlign=a.RIGHT);this.evidence.placeholder="",this.evidence.string=""},c.onAfterOpen=function(){var t;this.data=this.openArgs[0],this.editBox.placeholder=GetLanguage_UI(100924),this.editBox.string="",this.selectId={};this.data.id;var e=this.data.name;this.playerName.string=e,this.evidence.string=null!=(t=this.data.evidence)?t:"",this.scroll.datas=configComplaint.getDatas()},c.onBeforeClose=function(){},c.onDestroy=function(){},i}(u));var g=function(t){function i(){for(var e,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))||this).txtName=void 0,e.gou=void 0,e}e(i,t);var s=i.prototype;return s.onInit=function(){var t=this;this.txtName=h.findChildComponent(this.node,"name",o),this.gou=h.findChild(this.node,"kuang/gou"),this.view.loadIcon(h.findChildComponent(this.node,"kuang/gou",c),"common","common_ui_dagou"),this.view.addComponentCallbackListener(h.findChild(this.node,""),n.EventType.CLICK,(function(){var e=t.data.id,i=t.view.selectId[e];t.view.selectId={},t.view.selectId[e]=!i,t.gou.active=t.view.selectId[e],t.view.scroll.updateAll()}))},s.onRender=function(t,e){this.txtName.string=t.desc,this.gou.active=!!this.view.selectId[t.id]},i}(r);i._RF.pop()}}}));

