System.register("chunks:///_virtual/ChapterDiamondCC.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BattleData.ts","./index94.ts","./AudioMgr.ts","./ChapterDefine.ts","./DungeonControl.ts","./MessageView.ts","./ChapterNormal.ts"],(function(t){"use strict";var e,n,a,i,o,r,u,c,l;return{setters:[function(t){e=t.inheritsLoose,n=t.regeneratorRuntime},function(t){a=t.cclegacy},function(t){i=t.ChapterType},null,function(t){o=t.audioMgr},function(t){r=t.ChapterEventDefine},function(t){u=t.default},function(t){c=t.default},function(t){l=t.ChapterNormal}],execute:function(){a._RF.push({},"25450sLXl5Ni7ltw3od+kyW","ChapterDiamondCC",void 0);t("ChapterDiamondCC",function(t){function a(){return t.apply(this,arguments)||this}e(a,t);var l=a.prototype;return l.getConfig=function(t){return configDiamond_chapter.getDataByKey(t)},l.start=function(){t.prototype.start.call(this),o.playMusic("bgm_bingchaolongxue")},l.endResult=n().mark((function t(e,a,l){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,coroutine.wait(1);case 2:o.playMusic("battle"),battleMain.enterChapter(),0==a&&battleMain.checkCheat()&&(a=1,c.showBoxTip({tip:GetLanguage(200998),btnCnt:1,func:function(t){},ensure:GetLanguage(200129)})),battleMain.curRecord&&battleMain.curRecord.manual?IS(u).reqDungeonBattleResult(i.Diamond,e,a,1,battleMain.curRecord.collects):IS(u).reqDungeonBattleResult(i.Diamond,e,a),normalEvent.emit(r.BATTLE_STATE,i.Diamond,!1),battleMain.toResult(e,i.Diamond,a,l);case 8:case"end":return t.stop()}}),t)})),l.toResult=function(t,e){void 0===e&&(e=!1);var n=this.battleMain,a=this.config,i=configDiamond_chapter.getDataByKey(a.next_part);if(0==t&&null!=i&&i.level==a.level)return n.data.chapterId=i.id,void n.startNextPart(i);coroutine.start(this.endResult(a.id,t,e),"battle")},a}(l));a._RF.pop()}}}));

