System.register("chunks:///_virtual/CommonPopTipsView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index57.ts","./BasePopupView.ts"],(function(t){"use strict";var e,i,o,n,s,r,h;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,o=t.UITransform,n=t.Label,s=t.Node,r=t.Widget},null,function(t){h=t.BasePopupView}],execute:function(){i._RF.push({},"2aef89BvJNHgIKlntCU+J+r","CommonPopTipsView",void 0);t("default",function(t){function i(){var e;return(e=t.call(this)||this).txtDesc=void 0,e.bgNode=void 0,e.bgUT=void 0,e.arrUT=void 0,e.viewContainerNode=void 0,e.arrNode=void 0,e.targetNode=void 0,e.widgetDesc=void 0,e.name="CommonPopTipsView",e.url="ui/module/common/CommonPopTipsView",e}e(i,t);var h=i.prototype;return h.onInit=function(){var t=this;this.viewContainerNode=this.findChild("view"),this.bgNode=this.findChild("view/imgBg"),this.bgUT=this.bgNode.getComponent(o),this.arrNode=this.findChild("view/imgBg/imgArr"),this.arrUT=this.arrNode.getComponent(o),this.txtDesc=this.findChildComponent("view/imgBg/txtDesc",n),this.addComponentCallbackListener(this.txtDesc.node,s.EventType.SIZE_CHANGED,(function(){t.txtDesc.scheduleOnce((function(){var e=t.txtDesc.node.getComponent(o).height+90;t.bgUT.height=e,t.arrUT.height=e,t.UpdateAlign()}))})),this.widgetDesc=this.txtDesc.node.getComponent(r)},h.registerUpdateHandler=function(){},h.onAfterOpen=function(){t.prototype.onAfterOpen.call(this);var e=this.openArgs[0];this.targetNode=this.openArgs[1],this.txtDesc.string=e;var i=this.txtDesc.node.getComponent(o).height+90;this.bgUT.height=i,this.arrUT.height=i,this.UpdateAlign()},h.onDestroy=function(){},h.UpdateAlign=function(){var t=this.GetAlignCenter(),e=t.posX,i=t.posY,o=t.angleX,n=t.angleY;this.viewContainerNode.setPosition(e,i),this.arrNode.setRotationFromEuler(o,n,0),this.widgetDesc.top=0==o?16.712:32.712},h.GetAlignCenter=function(){var t=this.targetNode.worldPosition,e=this.targetNode.getComponent(o),i=this.node.getComponent(o).convertToNodeSpaceAR(t),n=i.x-this.bgUT.width/2,s=i.x+this.bgUT.width/2,r=0,h=0,g=0,d=0,a=0;if((r=i.x)>=0){var p=s-360;p>0&&(a=p-12,d=0)}else{var c=n- -360;c<0&&(d=180,a=c-12)}return r=r-a-24,i.y<0?(h=i.y+e.height/2+this.bgUT.height/2-12,g=0):(h=i.y-e.height/2-this.bgUT.height/2-24,g=180),{posX:r,posY:h,angleX:g,angleY:d}},i}(h));i._RF.pop()}}}));

