System.register("chunks:///_virtual/GvGNoticeEditView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PlatformUtil.ts","./StringUtil.ts","./index57.ts","./ConfigGlobal.ts","./MessageView.ts","./GuildControl.ts","./GuildDataCache.ts","./BaseView.ts"],(function(t){"use strict";var i,n,e,o,l,s,a,d,u,r,c;return{setters:[function(t){i=t.inheritsLoose},function(t){n=t.cclegacy,e=t.Button,o=t.EditBox},function(t){l=t.PlatformUtil},function(t){s=t.default},null,function(t){a=t.ConfigGlobal},function(t){d=t.default},function(t){u=t.default},function(t){r=t.default},function(t){c=t.BaseView}],execute:function(){n._RF.push({},"4b4fd1YRBlHLodEfs9prLNg","GvGNoticeEditView",void 0);t("default",function(t){function n(){var i;return(i=t.call(this)||this).editBox=void 0,i.limit=void 0,i.name="GvGNoticeEditView",i.url="ui/module/gvg/GvGNoticeEditView",i}i(n,t);var c=n.prototype;return c.onInit=function(){var t=this,i=this.findChild("imgMask");this.addComponentCallbackListener(i,e.EventType.CLICK,(function(){t.close()}));var n=this.findChild("btnCancel");this.addComponentCallbackListener(n,e.EventType.CLICK,(function(){t.close()}));var s=this.findChild("btnConfirm");this.addComponentCallbackListener(s,e.EventType.CLICK,(function(){t.onClick()})),this.editBox=this.findChildComponent("EditBox",o),this.addComponentCallbackListener(this.editBox.node,o.EventType.EDITING_DID_BEGAN,(function(){l.UpdateCurrentEditBox(t.editBox)}))},c.onClick=function(){var t=this,i=this.editBox.string,n=i.length;0==n||n<this.limit[0]||n>this.limit[1]?d.showFlyTip(GetLanguage(200070)):i==IS(r).GetGuildInfo().notice?d.showFlyTip(GetLanguage(200353)):isNaN(Number(i))?GlobalDefine.ENABLE_SDK?sdkControl.checkStr(i,(function(i,n){1==n&&IS(u).send_29_6(7,null,i),t.close()})):(IS(u).send_29_6(7,null,i),this.close()):d.showFlyTip(GetLanguage(200354))},c.registerUpdateHandler=function(){},c.onAfterOpen=function(){this.limit=a.guild_notice_length,this.editBox.maxLength=this.limit[1],this.editBox.placeholderLabel.string=s.formatStrWithMirrorDeal(GetLanguage(200328),this.limit[1])},c.onBeforeClose=function(){l.ClearCurrentEditBox(this.editBox),this.editBox.string=""},c.onDestroy=function(){},n}(c));n._RF.pop()}}}));

