System.register("chunks:///_virtual/ThiefGetView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIList.ts","./NodeUtil.ts","./BagModel.ts","./AudioMgr.ts","./index57.ts","./PrivilegeDataCache.ts","./PrivilegeDefine.ts","./BasePopupView.ts"],(function(t){"use strict";var i,n,e,o,s,a,d,r,c,l,h,u,f,m,p;return{setters:[function(t){i=t.inheritsLoose},function(t){n=t.cclegacy,e=t.Button,o=t.ScrollView,s=t.Label,a=t.js,d=t.Sprite},function(t){r=t.SelectedType,c=t.ListItem},function(t){l=t.default},function(t){h=t.BagModel},function(t){u=t.audioMgr},null,function(t){f=t.PrivilegeDataCache},function(t){m=t.PrivilegeCardEffect},function(t){p=t.BasePopupView}],execute:function(){n._RF.push({},"e77daSQImFJCZ4G5uDg3hAX","ThiefGetView",void 0);t("default",function(t){function n(){var i;return(i=t.call(this)||this).txtAdd=void 0,i.itemList=void 0,i.scrollUIList=void 0,i.data=void 0,i.baseNode=void 0,i.name="ThiefGetView",i.url="ui/module/plant/ThiefGetView",i}i(n,t);var c=n.prototype;return c.onInit=function(){var t=this,i=this.findChild("root/content/btnClose");this.addComponentCallbackListener(i,e.EventType.CLICK,(function(){t.onMaskClick()}));var n=this.findChildComponent("root/content/scrollGoodsList",o);this.itemList=this.addUIList(n,g),this.itemList.selectedMode=r.SINGLE,this.txtAdd=this.findChildComponent("root/content/txtNum",s)},c.registerUpdateHandler=function(){},c.onMaskClick=function(){this.close()},c.onAfterOpen=function(){t.prototype.onAfterOpen.call(this),u.playSound("common_reward"),this.data=this.openArgs[0],this.findChild("root/content/content").active=this.data.length<5,this.findChild("root/content/scrollGoodsList").active=this.data.length>=5,this.data.length<5?(this.baseNode=this.findChild("root/content/content"),this.onUpdateSmallGrid(this.data)):this.itemList.datas=this.data;var i=IS(f).getPrivilegeCardValue(m.STEALINCOME);this.txtAdd.node.active=i>0,this.txtAdd.string=a.formatStr("+%s%",i)},c.onUpdateSmallGrid=function(t){var i=this.findChild("root/content/content/item");this.baseNode.removeAllChildren();for(var n=0;n<t.length;n++){this.onCopy(i,t[n]).setParent(this.baseNode)}},c.onCopy=function(t,i){var n=nodeInstantiate.instantiate(t);n.active=!0;var o=l.findChildComponent(n,"imgFrame",d),a=l.findChildComponent(n,"imgIcon",d);l.findChildComponent(n,"num",s).string=i.num+"";var r=configGoods.getDataByKey(i.gtid),c=configColor.getDataByKey(r.quality);return this.loadIcon(o,"icon_equip",c.path),this.loadIcon(a,r.icon_group,r.icon),this.addComponentCallbackListener(n,e.EventType.CLICK,(function(){IS(h).OpenItemTips(r.id,n)})),n},c.onDestroy=function(){},n}(p));var g=function(t){function n(){for(var i,n=arguments.length,e=new Array(n),o=0;o<n;o++)e[o]=arguments[o];return(i=t.call.apply(t,[this].concat(e))||this).imgFrame=void 0,i.imgIcon=void 0,i.txtNum=void 0,i}i(n,t);var o=n.prototype;return o.onInit=function(){this.imgFrame=l.findChildComponent(this.node,"imgFrame",d),this.imgIcon=l.findChildComponent(this.node,"imgIcon",d),this.txtNum=l.findChildComponent(this.node,"num",s)},o.onRender=function(t,i){var n=this;this.txtNum.string=t.num+"";var o=configGoods.getDataByKey(t.gtid),s=configColor.getDataByKey(o.quality);this.view.loadIcon(this.imgFrame,"icon_equip",s.path),this.view.loadIcon(this.imgIcon,o.icon_group,o.icon),this.view.addComponentCallbackListener(this.imgIcon.node,e.EventType.CLICK,(function(){IS(h).OpenItemTips(o.id,n.imgIcon.node)}))},o.onItemClick=function(){},n}(c);n._RF.pop()}}}));

