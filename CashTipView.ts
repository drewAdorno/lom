System.register("chunks:///_virtual/CashTipView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ItemGrid.ts","./UIList.ts","./NodeUtil.ts","./StringUtil.ts","./index57.ts","./BagModel.ts","./PayControl.ts","./PayDataCache.ts","./PayDefine.ts","./BaseView.ts"],(function(t){"use strict";var i,n,e,o,s,a,r,d,l,c,h,u,f,g;return{setters:[function(t){i=t.inheritsLoose},function(t){n=t.cclegacy,e=t.Label,o=t.ScrollView,s=t.Button},function(t){a=t.ItemGrid},function(t){r=t.ListItem},function(t){d=t.default},function(t){l=t.default},null,function(t){c=t.BagModel},function(t){h=t.default},function(t){u=t.default},function(t){f=t.GiftType},function(t){g=t.BaseView}],execute:function(){n._RF.push({},"b8f9fVWE6xIUq/4syoW0Z16","CashTipView",void 0);t("default",function(t){function n(){var i;return(i=t.call(this)||this).scroll=void 0,i.nothing=void 0,i.btnEnsure=void 0,i.btnCancel=void 0,i.txtContent=void 0,i.txtDiamond=void 0,i.title=void 0,i.cfgId=void 0,i.openType=void 0,i.name="CashTipView",i.url="ui/module/shop/CashTipView",i.poolTime=3e3,i}i(n,t);var a=n.prototype;return a.onInit=function(){var t=this;this.title=this.findChildComponent("dialog/title/txtTitle",e),this.txtContent=this.findChildComponent("dialog/content/txtContent",e),this.txtDiamond=this.findChildComponent("dialog/content/btnDiamond/txtDiamond",e),this.nothing=this.findChild("dialog/content/nothing");var i=this.findChildComponent("dialog/content/ScrollView",o);this.scroll=this.addUIList(i,p),this.scroll.lackCenter=!0,this.btnEnsure=this.findChild("dialog/content/buttons/btnEnsure"),this.addComponentCallbackListener(this.btnEnsure,s.EventType.CLICK,(function(){IS(h).send_19_5(t.cfgId),t.close()})),this.btnCancel=this.findChild("dialog/content/buttons/btnCancel"),this.addComponentCallbackListener(this.btnCancel,s.EventType.CLICK,(function(){t.close()}))},a.onAfterOpen=function(){var t;this.cfgId=null!=(t=this.openArgs[0])?t:1,this.Refresh()},a.registerUpdateHandler=function(){},a.Refresh=function(){var t=configPay_mall.getDataByKey(this.cfgId);if(t.type==f.Gem){this.nothing.active=!1;var i=configDiamond_mall.getDataByKey(this.cfgId),n=IS(u).GetPayGiftInfo(this.cfgId);null!=n&&n.bought_times>0?this.scroll.datas=[[2,i.recharge]]:this.scroll.datas=[[2,i.recharge+i.first_gift]]}else t.extra_reward&&t.extra_reward.length>0?this.scroll.datas=[].concat(t.reward,t.extra_reward):this.scroll.datas=t.reward,this.nothing.active=0==t.reward.length;this.updateResShow(),this.txtContent.string=l.formatStrWithMirrorDeal(GetLanguage(200475),t.price),this.title.string=t.name},a.updateInfo=function(){this.scroll.updateAll()},a.updateResShow=function(){this.txtDiamond.string=l.GetNumString(IS(c).getGoodsCountByGoodsGtid(999))},a.onBeforeClose=function(){},a.onDestroy=function(){},n}(g));var p=function(t){function n(){for(var i,n=arguments.length,e=new Array(n),o=0;o<n;o++)e[o]=arguments[o];return(i=t.call.apply(t,[this].concat(e))||this).itemGridNode=void 0,i.itemGrid=void 0,i}i(n,t);var e=n.prototype;return e.onInit=function(){this.itemGridNode=d.findChild(this.node,"itemGrid"),this.itemGrid=new a(this.view,this.itemGridNode)},e.onRender=function(t,i){this.itemGrid.SetItemId(t[0],t[1])},n}(r);n._RF.pop()}}}));

