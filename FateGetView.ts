System.register("chunks:///_virtual/FateGetView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index57.ts","./RedPointMgr.ts","./ChapterDataCache.ts","./BattleData.ts","./ChapterDefine.ts","./BaseSubView.ts"],(function(e){"use strict";var t,n,i,o,a,r,u,s,c,h;return{setters:[function(e){t=e.inheritsLoose,n=e.createForOfIteratorHelperLoose},function(e){i=e.cclegacy,o=e.Vec2,a=e.Button},null,function(e){r=e.RedPointMgr},function(e){u=e.ChapterDataCache},function(e){s=e.ChapterType},function(e){c=e.ChapterEventDefine},function(e){h=e.BaseSubView}],execute:function(){i._RF.push({},"27624k6WSdOToW1p/rImllg","FateGetView",void 0);e("default",function(e){function i(){var t;return(t=e.call(this)||this).name="FateGetView",t.url="ui/module/fate/FateGetView",t}t(i,e);var h=i.prototype;return h.onInit=function(){var e=this.findChild("view/btnFight");IS(r).addRedPoint("FateGetView/btnFight",e,new o(280,95)),this.addComponentCallbackListener(e,a.EventType.CLICK,(function(){uiMgr.openView("FateGungeonView")}));var t=this.findChild("view/btnLottery");this.addComponentCallbackListener(t,a.EventType.CLICK,(function(){uiMgr.openView("FateWishView")}))},h.registerUpdateHandler=function(){this.addEvent(c.DUNGEON_UPDATE,this.onDungeonUpdate,this)},h.onAfterOpen=function(){IS(r).changeValue("FateGetView/btnFight",this.getFightRed())},h.onBeforeClose=function(){},h.onDestroy=function(){},h.onDungeonUpdate=function(e){e.type==s.Fate&&IS(r).changeValue("FateGetView/btnFight",this.getFightRed())},h.getFightRed=function(){for(var e,t,i=0,o=null!=(e=IS(u).getDungeonInfoByID(s.Fate).ext)?e:[],a=n(o);!(t=a()).done;){var r=t.value;if(6==r.k&&0!=r.v){i+=1;break}}return i},i}(h));i._RF.pop()}}}));

