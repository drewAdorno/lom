System.register("chunks:///_virtual/MarryRingUpgradeResultView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIList.ts","./NodeUtil.ts","./StringUtil.ts","./index57.ts","./BaseView.ts"],(function(t){"use strict";var e,i,r,n,s,o,a,h,l,d;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,r=t.Button,n=t.ScrollView,s=t.Label,o=t.js},function(t){a=t.ListItem},function(t){h=t.default},function(t){l=t.default},null,function(t){d=t.BaseView}],execute:function(){i._RF.push({},"8e3af+QRGZPYp95USKEIyPx","MarryRingUpgradeResultView",void 0);t("default",function(t){function i(){var e;return(e=t.call(this)||this).curLevel=void 0,e.AttrlistItem=void 0,e.attrUIList=void 0,e.preLevel=0,e.favorAdd=0,e.lover_favor_lv=void 0,e.name="MarryRingUpgradeResultView",e.url="ui/module/marry/MarryRingUpgradeResultView",e.poolTime=3e3,e}e(i,t);var o=i.prototype;return o.onInit=function(){var t=this,e=this.findChild("imgMask");this.addComponentCallbackListener(e,r.EventType.CLICK,(function(){t.close()}));var i=this.findChildComponent("root/content/nodeChange/ScrollView",n);this.attrUIList=this.addUIList(i,f)},o.onAfterOpen=function(){if(this.preLevel=this.openArgs[0],this.curLevel=this.openArgs[1],this.favorAdd=0,this.openArgs[2]&&this.openArgs[2]>0){var t=configFavorability_level.getDataByKey(this.openArgs[2]);this.favorAdd=t.buff[2][1]}this.refreshShow()},o.refreshShow=function(){var t=this.findChildComponent("root/content/nodeChange/txtLevelBase",s),e=this.findChildComponent("root/content/nodeChange/txtLevelNext",s),i=configRing_level.getDataByKey(this.preLevel),r=configRing_level.getDataByKey(this.curLevel);if(this.AttrlistItem=[],null!=r){t.string=i.level.toString(),e.string=r.level.toString();for(var n=0;n<i.attr.length;n++){var o=configAttribute.getDataByKey(i.attr[n][0]),a={show_type:o.show_type,name:o.desc,base:i.attr[n][1],next:r.attr[n][1]};this.AttrlistItem.push(a)}this.attrUIList.datas=this.AttrlistItem}},o.registerUpdateHandler=function(){},o.onBeforeClose=function(){},o.onDestroy=function(){},i}(d));var f=function(t){function i(){for(var e,i=arguments.length,r=new Array(i),n=0;n<i;n++)r[n]=arguments[n];return(e=t.call.apply(t,[this].concat(r))||this).txtAttrName=void 0,e.txtAttrBase=void 0,e.txtAttrNext=void 0,e}e(i,t);var r=i.prototype;return r.onInit=function(){this.txtAttrName=h.findChildComponent(this.node,"txtAttrName",s),this.txtAttrBase=h.findChildComponent(this.node,"txtAttrBase",s),this.txtAttrNext=h.findChildComponent(this.node,"txtAttrNext",s)},r.onRender=function(t,e){this.txtAttrName.string=t.name,2==t.show_type?this.view.favorAdd&&this.view.favorAdd>0?(this.txtAttrBase.string=o.formatStr("%s%",l.GetNumString(t.base/100+Math.floor(t.base/100*(this.view.favorAdd/1e4)))),this.txtAttrNext.string=o.formatStr("%s%",l.GetNumString(t.next/100+Math.floor(t.next/100*(this.view.favorAdd/1e4))))):(this.txtAttrBase.string=o.formatStr("%s%",l.GetNumString(t.base/100)),this.txtAttrNext.string=o.formatStr("%s%",l.GetNumString(t.next/100))):3==t.show_type?this.view.favorAdd&&this.view.favorAdd>0?(this.txtAttrBase.string=l.GetNumString(Math.floor(t.base/100)/100+Math.floor(Math.floor(t.base/100)/100*(this.view.favorAdd/1e4))),this.txtAttrNext.string=l.GetNumString(Math.floor(t.next/100)/100+Math.floor(Math.floor(t.next/100)/100*(this.view.favorAdd/1e4)))):(this.txtAttrBase.string=l.GetNumString(Math.floor(t.base/100)/100),this.txtAttrNext.string=l.GetNumString(Math.floor(t.next/100)/100)):this.view.favorAdd&&this.view.favorAdd>0?(this.txtAttrBase.string=l.GetNumString(t.base+t.base*(this.view.favorAdd/1e4)),this.txtAttrNext.string=l.GetNumString(t.next+t.next*(this.view.favorAdd/1e4))):(this.txtAttrBase.string=l.GetNumString(t.base),this.txtAttrNext.string=l.GetNumString(t.next))},r.onItemClick=function(){},i}(a);i._RF.pop()}}}));

