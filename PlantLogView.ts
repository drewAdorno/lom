System.register("chunks:///_virtual/PlantLogView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseTabView.ts","./UIDefine.ts","./RoleDataCache.ts","./RoleDefine.ts"],(function(t){"use strict";var e,n,i,a,o,s,l,u;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,i=t.Button},function(t){a=t.BaseTabView},function(t){o=t.PanelTabType},function(t){s=t.RoleDataCache},function(t){l=t.RoleEventDefine,u=t.RoleRedPointSystemEnum}],execute:function(){n._RF.push({},"885b1G8huJOFJZg0SPVMqeG","PlantLogView",void 0);t("default",function(t){e(a,t);var n=a.prototype;function a(){var e;return(e=t.call(this)||this).isActive=!1,e.parentView=void 0,e.name="PlantLogView",e.url="ui/module/plant/PlantLogView",e.tabTypes=[o.Plant_DetailLog,o.Plant_BattleLog],e}return n.setActive=function(t){this.isActive!=t&&(this.isActive=t,t?this.open(null):this.close())},n.registerUpdateHandler=function(){this.addEvent(l.ROLE_RED_POINT_LIST_UPDATE,this.UpdateTabRed,this),this.addEvent(l.ROLE_RED_DETAIL_UPDATE,this.onRoleRedDetailUpdate,this)},n.onInit=function(){t.prototype.onInit.call(this);var e=this.findChild("imgMask");this.addComponentCallbackListener(e,i.EventType.CLICK,(function(){}))},n.UpdateTabRed=function(){this.setRedPoint(o.Plant_DetailLog,IS(s).getRedNumByModule(u.System_Farm,1)),this.setRedPoint(o.Plant_BattleLog,IS(s).getRedNumByModule(u.System_Farm,2))},n.onRoleRedDetailUpdate=function(t){t==u.System_Farm&&this.UpdateTabRed()},n.onAfterOpenTab=function(){this.trySetParent(),this.UpdateTabRed()},n.trySetParent=function(){var t=uiMgr.getOpenView("PlantMainView");t&&t.nodeSubRoot&&this.node.setParent(t.nodeSubRoot)},a}(a));n._RF.pop()}}}));

