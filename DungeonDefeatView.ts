System.register("chunks:///_virtual/DungeonDefeatView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BattleData.ts","./UIList.ts","./NodeUtil.ts","./index57.ts","./ActivityDataCache.ts","./ActivityDefine.ts","./GuideModel.ts","./MainViewModel.ts","./RoleDataCache.ts","./DungeonDefine.ts","./UIDefine.ts","./BasePopupView.ts"],(function(t){"use strict";var e,i,n,o,s,a,c,r,d,u,h,l,p,f,v,g,m,y,C;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,n=t.ScrollView,o=t.Button,s=t.Sprite,a=t.Label},function(t){c=t.ChapterType},function(t){r=t.SelectedType,d=t.ListItem},function(t){u=t.default},null,function(t){h=t.default},function(t){l=t.ActivityType,p=t.ActivityState},function(t){f=t.GuideModel},function(t){v=t.MainViewModel},function(t){g=t.RoleDataCache},function(t){m=t.DungeonEvent},function(t){y=t.ViewType},function(t){C=t.BasePopupView}],execute:function(){i._RF.push({},"9aa03A72SJCcaVGqa6dHnoA","DungeonDefeatView",void 0);t("DungeonDefeatView",function(t){function i(){var e;return(e=t.call(this)||this).strongerUIList=void 0,e.type=void 0,e.name="DungeonDefeatView",e.url="ui/module/dungeon/DungeonDefeatView",e}e(i,t);var s=i.prototype;return s.onInit=function(){var t=this;this.node.parent=uiMgr.pNodes[y.TopView];var e=this.findChildComponent("scrollView",n);this.strongerUIList=this.addUIList(e,D),this.strongerUIList.selectedMode=r.SINGLE;var i=this.findChild("btnClose");this.addComponentCallbackListener(i,o.EventType.CLICK,(function(){t.close()}));var s=this.findChild("imgMask");this.addComponentCallbackListener(s,o.EventType.CLICK,(function(){t.close()}))},s.onAfterOpen=function(){this.type=this.openArgs[0];var t=[];if(this.type!=c.StrategyActivity)for(var e=1;e<5;e++){var i=configFail_tips.getDataByKey(e);i.open_id?IS(g).CheckFuncOpen(i.open_id)&&t.push(e):t.push(e)}this.strongerUIList.clearData(),this.strongerUIList.datas=t},s.registerUpdateHandler=function(){this.addEvent(m.TYPE_JUMP_TO,this.close,this)},s.onBeforeClose=function(){if(this.type==c.StrategyActivity){var t=IS(h).GetActivityInfo(l.Strategy);t&&t.state==p.Open&&(uiMgr.openView("ActivityStrategyView"),uiMgr.openView("ActivityStrategyDungeonView"))}},s.onDestroy=function(){},i}(C));var D=function(t){function i(){for(var e,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))||this).imgIcon=void 0,e.txtDesc=void 0,e.txtName=void 0,e.id=void 0,e.btnGoto=void 0,e.jumpArgs=void 0,e.nodeRecommend=void 0,e}e(i,t);var n=i.prototype;return n.onInit=function(){var t=this;this.imgIcon=u.findChildComponent(this.node,"imgIcon",s),this.txtDesc=u.findChildComponent(this.node,"txtDesc",a),this.txtName=u.findChildComponent(this.node,"txtName",a),this.nodeRecommend=u.findChild(this.node,"recommend"),this.btnGoto=u.findChild(this.node,"btnGoto"),this.view.addComponentCallbackListener(this.btnGoto,o.EventType.CLICK,(function(){t.jumpArgs.length>0?IS(v).TryJumpToMainViewPanel(t.jumpArgs[1],t.jumpArgs[2]):1==t.id&&IS(f).openGuide(1003),normalEvent.emit(m.TYPE_JUMP_TO)}))},n.onRender=function(t,e){this.nodeRecommend.active=e<2,this.id=t;var i=configFail_tips.getDataByKey(t);this.view.loadIcon(this.imgIcon,i.icon[0],i.icon[1]),this.txtDesc.string=i.desc,this.txtName.string=i.name,this.jumpArgs=i.view},i}(d);i._RF.pop()}}}));

