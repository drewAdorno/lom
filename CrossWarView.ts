System.register("chunks:///_virtual/CrossWarView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioMgr.ts","./BaseTabView.ts","./UIDefine.ts","./ActivityDataCache.ts","./ActivityDefine.ts","./CommonDefine.ts","./MessageView.ts","./CrossWarDatacache.ts"],(function(t){"use strict";var e,s,i,n,a,o,r,c,u,h,f,l;return{setters:[function(t){e=t.inheritsLoose},function(t){s=t.cclegacy,i=t.Button},function(t){n=t.audioMgr},function(t){a=t.BaseTabView},function(t){o=t.PanelTabType},function(t){r=t.default},function(t){c=t.ActivityType,u=t.ActivityEventDefine},function(t){h=t.CommonEventDefine},function(t){f=t.default},function(t){l=t.CrossWarDataCache}],execute:function(){s._RF.push({},"e0b7buy6FxNA6IxNV72MeLF","CrossWarView",void 0);t("default",function(t){e(a,t);var s=a.prototype;function a(){var e;return(e=t.call(this)||this).isActive=!1,e.parentView=void 0,e.name="CrossWarView",e.url="ui/module/crosswar/CrossWarView",e.tabTypes=[o.Cross_War_Overview,o.Cross_War_Rank,o.Cross_War_Task,o.Cross_War_Shop],e.fullScreen=!0,e}return s.setActive=function(t){this.isActive!=t&&(this.isActive=t,t?(this.trySetOpenType()||this.trySetDefaultOpenTab(),this.open()):this.close())},s.onTabSelected=function(t,e){var s=IS(r).GetActivityInfo(c.CrossWar);t==o.Cross_War_Task&&s&&0==s.task_list.length?f.showFlyTip(GetLanguage(200234)):this.setIndex(t)},s.trySetDefaultOpenTab=function(){this.setIndex(o.Cross_War_Overview)},s.onAfterOpenTab=function(){var t=this;n.playSound("common_jiemian"),this.addEvent(h.JUMP_TO_MAIN_VIEW_SELECT_TYPE,this.close,this),this.addEvent(u.OnActivityTaskReward,(function(){t.setRedPoint(o.Cross_War_Task,IS(l).checkTaskRP())}),this),this.trySetDefaultOpenTab();var e=this.findChild("btnClose");this.addComponentCallbackListener(e,i.EventType.CLICK,(function(){t.close()})),this.setRedPoint(o.Cross_War_Overview,IS(l).checkOverviewRP()),this.setRedPoint(o.Cross_War_Rank,IS(l).checkRankRP()),this.setRedPoint(o.Cross_War_Task,IS(l).checkTaskRP()),this.setRedPoint(o.Cross_War_Shop,IS(l).checkShopRP()),this.addTimer(3,-1,(function(){uiMgr.getView("MainView").setIndex(0)}))},a}(a));s._RF.pop()}}}));

