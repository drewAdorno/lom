System.register("chunks:///_virtual/TFPlayerAI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./FixMath.ts","./IAIHandle.ts","./EnumDefine.ts","./V2.ts"],(function(t){"use strict";var i,n,e,r,a,u,o;return{setters:[function(t){i=t.inheritsLoose,n=t.createForOfIteratorHelperLoose},function(t){e=t.cclegacy},function(t){r=t.FixMath},function(t){a=t.IAIHandle},function(t){u=t.TargetFilter},function(t){o=t.V2}],execute:function(){e._RF.push({},"99173WXt5BAPL32vCbDIiGC","TFPlayerAI",void 0);new o,t("TFPlayerAI",function(t){function e(){return t.apply(this,arguments)||this}i(e,t);var a=e.prototype;return a.handleAction=function(){var t=this.getTarget();if(null==t)return this.cast.wantTarget=null,this.cast.curTarget=null,void this.startSkill();this.startSkill(),this.selectTarget(t)},a.getTarget=function(){for(var t,i=this.cast,e=i.hatredCtr.getHatredList(),a=n(e);!(t=a()).done;){var u=t.value;if(!u.unit.isDead&&u.unit.position.y==i.position.y)return u.unit}for(var o,s=n(e);!(o=s()).done;){var l=o.value;if(!l.unit.isDead&&l.unit.position.x>r.roundInt(i.position.x+100))return l.unit}return null},a.startSkill=function(){var t=this.cast;if(t.battleMain.playerAuto){var i=t.data.skillList;if(null==i||0==i.length)return!1;for(var e,r=n(i);!(e=r()).done;){var a=e.value;if(t.aiTime>=a.useDelay&&0==a.state){if(0==t.battleMain.unitMgr.findTarget(t,u.Enemy,a.config.autoDis,t.position).length)continue;t.addUnlimitSkill(a)}}}},e}(a));e._RF.pop()}}}));

