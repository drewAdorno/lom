System.register("chunks:///_virtual/PoolMgr.ts",["cc","./ObjectUtil.ts"],(function(t){"use strict";var i,s;return{setters:[function(t){i=t.cclegacy},function(t){s=t.default}],execute:function(){i._RF.push({},"735aeu93WFNXbdH6aEukqDb","PoolMgr",void 0);t("poolMgr",new(function(){function t(){this._pools=[],this._lastShrinkPassed=0,this.shrinkTimeSpan=5}var i=t.prototype;return i.add=function(t){this._pools.push(t)},i.remove=function(t){var i=this._pools.indexOf(t);-1!=i&&this._pools.splice(i,1)},i.tryShrink=function(){if(GlobalDefine.CLIENT_TYPE){ftime.beginFTime(ftime.PoolClear);for(var t=0;t<this._pools.length;t++){if(ftime.checkPass(ftime.PoolClear))break;this._pools[t].tryShrink()}}else for(var i=0;i<this._pools.length;i++)this._pools[i].tryShrink()},i.update=function(t){this._lastShrinkPassed+=t,this._lastShrinkPassed>this.shrinkTimeSpan&&(this.tryShrink(),this._lastShrinkPassed-=this.shrinkTimeSpan)},i.clear=function(){s.copyArray(this._pools).forEach((function(t,i){t.destroy()}))},t}()));i._RF.pop()}}}));

