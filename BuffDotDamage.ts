System.register("chunks:///_virtual/BuffDotDamage.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ObjectPool.ts","./FixMath.ts","./Buff.ts","./EnumDefine.ts"],(function(t){"use strict";var e,i,a,o,n,r;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy},function(t){a=t.ObjectPool},function(t){o=t.FixMath},function(t){n=t.Buff},function(t){r=t.HealthType}],execute:function(){i._RF.push({},"bfe87uYiOxMvryiTv4Pxhov","BuffDotDamage",void 0);var u=t("BuffDotDamage",function(t){function i(){for(var e,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))||this)._freqtime=void 0,e._damage=void 0,e._curtime=void 0,e._totalddamagevalue=0,e}e(i,t);var a=i.prototype;return a.onBegin=function(){this._totalddamagevalue=this.skillPar,this._damage=o.round(this._totalddamagevalue/(this.currenTime/this._freqtime))},a.onUpdate=function(t){if(this._curtime>=this._freqtime&&this._totalddamagevalue>0){this._totalddamagevalue=o.round(this._totalddamagevalue-this._damage);var e=o.roundInt(this._damage);this.owner.hit(null,e,r.Hurt_Share_Damage),this._curtime=0}this._curtime=o.round(this._curtime+t)},a.onDestroy=function(){console.error("删除"),i._pool.free(this)},i.alloc=function(t){var e=i._pool.alloc();return e.config=t,e._freqtime=t.param1,e._curtime=0,e},i}(n));u._pool=new a(u,30),i._RF.pop()}}}));

