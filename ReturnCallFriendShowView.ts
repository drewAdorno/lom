System.register("chunks:///_virtual/ReturnCallFriendShowView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIList.ts","./NodeUtil.ts","./StringUtil.ts","./index57.ts","./FriendControl.ts","./RoleDefine.ts","./ReturnControl.ts","./ReturnDefine.ts","./BaseView.ts"],(function(t){"use strict";var e,i,n,o,r,s,a,l,d,h,f,c,u,m,v;return{setters:[function(t){e=t.inheritsLoose,i=t.createForOfIteratorHelperLoose},function(t){n=t.cclegacy,o=t.Button,r=t.ScrollView,s=t.Label,a=t.Sprite},function(t){l=t.ListItem},function(t){d=t.default},function(t){h=t.default},null,function(t){f=t.default},function(t){c=t.PlayerAttr},function(t){u=t.default},function(t){m=t.ReturnEventDefine},function(t){v=t.BaseView}],execute:function(){n._RF.push({},"90e2a3cfrVA36ADsHy3KFCw","ReturnCallFriendShowView",void 0);t("ReturnCallFriendShowView",function(t){function i(){var e;return(e=t.call(this)||this).itemList=void 0,e.curWaitFarmInfoRoleId=void 0,e.empty=void 0,e.name="ReturnCallFriendShowView",e.url="ui/module/return/ReturnCallFriendShowView",e}e(i,t);var n=i.prototype;return n.onInit=function(){var t=this,e=this.findChild("imgMask");this.addComponentCallbackListener(e,o.EventType.CLICK,(function(){t.close()}));var i=this.findChildComponent("content/ScrollView",r);this.empty=this.findChild("content/empty"),this.itemList=this.addUIList(i,R)},n.registerUpdateHandler=function(){this.addEvent(m.UpdateReturnRoleList,this.UpdateList)},n.onAfterOpen=function(){IS(u).send_return_role_list_c2s(),this.itemList.clearData(),this.empty.active=!0},n.UpdateList=function(t){this.itemList.clearData(),t.role_list.length>0?(this.itemList.datas=t.role_list,this.empty.active=!1):(this.itemList.datas=[],this.empty.active=!0)},n.onBeforeClose=function(){},n.onDestroy=function(){},i}(v));var R=function(t){function n(){for(var e,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))||this).btnRoleInfo=void 0,e.imgIcon=void 0,e.imgHeadFrame=void 0,e.txtServer=void 0,e.txtName=void 0,e.txtPower=void 0,e.roleInfo={},e}e(n,t);var r=n.prototype;return r.onInit=function(){var t=this;this.btnRoleInfo=d.findChild(this.node,"imgFrame"),this.view.addComponentCallbackListener(this.btnRoleInfo,o.EventType.CLICK,(function(){t.data.role_id&&IS(f).reqOtherRoleNotice(t.data.role_id,1)})),this.txtPower=d.findChildComponent(this.node,"txtPower",s),this.imgIcon=d.findChildComponent(this.node,"imgFrame/imgIcon",a),this.imgHeadFrame=d.findChildComponent(this.node,"imgFrame/imgHeadFrame",a),this.txtServer=d.findChildComponent(this.node,"serverName",s),this.txtName=d.findChildComponent(this.node,"txtName",s)},r.onRender=function(t,e){var n=t.info_list.kv,o=t.info_list.ks;if(null!=n)for(var r,s=i(n);!(r=s()).done;){var a=r.value;this.roleInfo[a.k]=a.v}if(null!=o)for(var l,d=i(o);!(l=d()).done;){var f=l.value;this.roleInfo[f.k]=f.s}this.view.loadRemoteIcon(this.roleInfo[c.ROLE_ATTR_HEAD_URL],this.imgIcon),this.txtServer.string=h.formatStrWithMirrorDeal(GetLanguage(302046),h.GetServNameById(this.roleInfo[c.ROLE_ATTR_SERVER])),this.txtPower.string=h.GetNumString(this.roleInfo[c.ROLE_ATTR_POWER_SHOW]),this.txtName.string=this.roleInfo[c.ROLE_ATTR_NAME];var u=this.roleInfo[c.ROLE_ATTR_HEAD_FRAME_ID];if(u>0){var m=configAvatar_frame.getDataByKey(u);this.view.loadIcon(this.imgHeadFrame,"icon_frame",m.icon),this.imgHeadFrame.node.active=!0}else this.imgHeadFrame.node.active=!1},n}(l);n._RF.pop()}}}));

