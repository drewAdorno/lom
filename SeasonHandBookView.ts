System.register("chunks:///_virtual/SeasonHandBookView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./V2.ts","./UIList.ts","./NodeUtil.ts","./index57.ts","./BaseView.ts"],(function(t){"use strict";var i,o,n,e,s,d,r,l,a,c,h,u,f;return{setters:[function(t){i=t.inheritsLoose},function(t){o=t.cclegacy,n=t.Button,e=t.ScrollView,s=t.UITransform,d=t.Label,r=t.Node,l=t.sys,a=t.js},function(t){c=t.V2},function(t){h=t.ListItem},function(t){u=t.default},null,function(t){f=t.BaseView}],execute:function(){o._RF.push({},"6470aZycwpHAZDucLNQJ06l","SeasonHandBookView",void 0);t("default",function(t){function o(){var i;return(i=t.call(this)||this).scrollGoodsList1=void 0,i.scrollGoodsList2=void 0,i.scrollGoodsList3=void 0,i.scrollGoodsList4=void 0,i.curType=0,i.tabBtns=[],i.infoScrollList=[],i.name="SeasonHandBookView",i.url="ui/module/season/scene-view/SeasonHandBookView",i.poolTime=3e3,i}i(o,t);var s=o.prototype;return s.onInit=function(){var t=this,i=this.findChild("content/btnClose");this.addComponentCallbackListener(i,n.EventType.CLICK,(function(){t.close()}));for(var o=function(i){var o=u.findChild(t.node,a.formatStr("content/bottomBtn/item%s",i)),e={itemGo:o,normalGo:u.findChild(o,"normal"),selectedGo:u.findChild(o,"selected"),index:i};t.addComponentCallbackListener(o,n.EventType.CLICK,(function(){t.updateShow(e.index)})),t.tabBtns[i]=e},s=1;s<=4;s++)o(s);var d=this.findChildComponent("content/box/defList-001",e);this.scrollGoodsList1=this.addUIList(d,v),this.scrollGoodsList1.virtual=!1;var r=this.findChildComponent("content/box/defList",e);this.scrollGoodsList2=this.addUIList(r,p);var l=this.findChildComponent("content/box/defList-002",e);this.scrollGoodsList3=this.addUIList(l,p),this.scrollGoodsList3.virtual=!1;var c=this.findChildComponent("content/box/defList-003",e);this.scrollGoodsList4=this.addUIList(c,p),this.scrollGoodsList4.virtual=!1,this.infoScrollList.push(this.scrollGoodsList1,this.scrollGoodsList2,this.scrollGoodsList3,this.scrollGoodsList4)},s.registerUpdateHandler=function(){},s.onAfterOpen=function(){for(var t=0;t<4;t++){var i=configSeason_battle_guide.getDataByList("tab",t+1);this.infoScrollList[t].datas=i}this.updateShow(1)},s.updateShow=function(t){if(this.curType!=t){this.curType>0&&(this.tabBtns[this.curType].selectedGo.active=!1,this.tabBtns[this.curType].normalGo.active=!0),this.curType=t,this.tabBtns[this.curType].normalGo.active=!1,this.tabBtns[this.curType].selectedGo.active=!0;for(var i=0;i<4;i++)this.infoScrollList[i]&&(this.infoScrollList[i].node.active=i+1==t,this.infoScrollList[i].scrollTo(0))}},s.onBeforeClose=function(){},s.onDestroy=function(){},o}(f));var p=function(t){function o(){for(var i,o=arguments.length,n=new Array(o),e=0;e<o;e++)n[e]=arguments[e];return(i=t.call.apply(t,[this].concat(n))||this).node2=void 0,i.txtName2=void 0,i.txtDesc2=void 0,i.utNode=void 0,i}i(o,t);var n=o.prototype;return n.onInit=function(){var t=this;this.adaptiveSize=!0,this.node2=u.findChild(this.node,"type2"),this.utNode=u.findChildComponent(this.node,"",s),this.txtName2=u.findChildComponent(this.node2,"txtName",d),this.txtDesc2=u.findChildComponent(this.node2,"desc",d),this.view.addComponentCallbackListener(this.txtDesc2.node,r.EventType.SIZE_CHANGED,(function(){var i=t.txtDesc2.node.getComponent(s).height;t.utNode.height=i+90}))},n.onRender=function(t,i){this.txtName2.string=t.txt_title,this.txtDesc2.string=t.txt_rule},o}(h),v=function(t){function o(){for(var i,o=arguments.length,n=new Array(o),e=0;e<o;e++)n[e]=arguments[e];return(i=t.call.apply(t,[this].concat(n))||this).node1=void 0,i.txtName1=void 0,i.txtDesc1=void 0,i.txtTime1=void 0,i.txtTip=void 0,i.icon=void 0,i}i(o,t);var n=o.prototype;return n.onInit=function(){this.node1=u.findChild(this.node,"type1"),this.txtName1=u.findChildComponent(this.node1,"bg/txtName",d),this.txtDesc1=u.findChildComponent(this.node1,"desc",d),this.txtTime1=u.findChildComponent(this.node1,"bg/time",d),this.txtTip=u.findChildComponent(this.node1,"tips",d),this.icon=u.findChild(this.node1,"icon")},n.onRender=function(t,i){this.txtName1.string=t.txt_title,this.txtDesc1.string=t.txt_rule+"\n"+t.txt_number,this.txtTime1.string=t.txt_extra,this.txtTime1.node.active=Boolean(t.txt_extra),this.icon.removeAllChildren();var o=configSeason_building_plot.getDataByKey(t.type);this.view.addUIEffect("prefab/map/slgmap/"+o.prefab_name,this.icon,-1,new c(0,o.ui_scale[1]),o.ui_scale[0]/1e4,(function(t){l.uiMirror&&(t.dir=-1)}))},o}(h);o._RF.pop()}}}));

