System.register("chunks:///_virtual/SeasonSceneDetailRelicView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ItemGrid.ts","./UIList.ts","./NodeUtil.ts","./StringUtil.ts","./index57.ts","./SeasonDefine.ts","./SeasonSceneControl.ts","./BaseView.ts"],(function(t){"use strict";var i,e,n,o,s,r,a,c,d,l,h,u,f,p,m;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy,n=t.Button,o=t.ScrollView,s=t.Label,r=t.sys,a=t.js,c=t.Sprite},function(t){d=t.ItemGrid},function(t){l=t.ListItem},function(t){h=t.default},function(t){u=t.default},null,function(t){f=t.SeasonEventDefine},function(t){p=t.default},function(t){m=t.BaseView}],execute:function(){e._RF.push({},"90775LnEJRCOpECe80Am8Gh","SeasonSceneDetailRelicView",void 0);t("default",function(t){function e(){var i;return(i=t.call(this)||this).txtTips1=void 0,i.txtTips2=void 0,i.txtTips3=void 0,i.rewardList=void 0,i.relicDetailInfo={today_max_damage:0,today_rank:0,relic_times:0,is_relic_first:1},i.name="SeasonSceneDetailRelicView",i.url="ui/module/season/scene-view/SeasonSceneDetailRelicView",i}i(e,t);var c=e.prototype;return c.onInit=function(){var t=this,i=this.findChild("content/btnClose");this.addComponentCallbackListener(i,n.EventType.CLICK,(function(){t.close()}));var e=this.findChild("imgMask");this.addComponentCallbackListener(e,n.EventType.CLICK,(function(){t.close()}));var r=this.findChild("content/btnRank");this.addComponentCallbackListener(r,n.EventType.CLICK,(function(){uiMgr.openView("SeasonRelicRankView")}));var a=this.findChildComponent("content/reward/rewardScroll",o);this.rewardList=this.addUIList(a,v),this.rewardList.lackCenter=!0,this.txtTips1=this.findChildComponent("content/txtTip1",s),this.txtTips2=this.findChildComponent("content/txtTip2",s),this.txtTips3=this.findChildComponent("content/txtTip3",s)},c.registerUpdateHandler=function(){this.addEvent(f.SEASON_SCENE_RELIC_INFO,this.refreshInfo,this)},c.onAfterOpen=function(){var t=this.openArgs[0],i=(this.openArgs[1],configSeason_building_plot.getDataByKey(t)),e=configSeason_mapevent_reward.getDataByKey(i.event_reward_id[0]);this.rewardList.datas=e.reward,IS(p).reqRelicDetail()},c.refreshInfo=function(t){this.relicDetailInfo=t,this.txtTips1.string=(r.uiMirror?u:a).formatStr(GetLanguage(204691),u.GetNumString(t.today_max_damage)),this.txtTips2.string=(r.uiMirror?u:a).formatStr(GetLanguage(204692),u.GetNumString(t.today_rank)),this.txtTips3.string=(r.uiMirror?u:a).formatStr(GetLanguage(204693),u.GetNumString(t.relic_times)),this.rewardList.updateAll()},c.onBeforeClose=function(){},c.onDestroy=function(){},e}(m));var v=function(t){function e(){for(var i,e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return(i=t.call.apply(t,[this].concat(n))||this).itemGridNode=void 0,i.itemGrid=void 0,i.check=void 0,i}i(e,t);var n=e.prototype;return n.onInit=function(){this.itemGridNode=h.findChild(this.node,"itemGrid"),this.itemGrid=new d(this.view,this.itemGridNode),this.check=h.findChild(this.node,"check");var t=h.findChildComponent(this.node,"check/icon",c);this.view.loadIcon(t,"common","common_ui_dagou")},n.onRender=function(t,i){var e;this.itemGrid.SetItemId(t[0],t[1]),this.check.active=1==(null==(e=this.view.relicDetailInfo)?void 0:e.is_relic_first)},e}(l);e._RF.pop()}}}));

