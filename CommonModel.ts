System.register("chunks:///_virtual/CommonModel.ts",["cc","./V2.ts","./UIUnitModelObj.ts","./StorageUtil.ts","./RoleDataCache.ts"],(function(t){"use strict";var e,i,n,o,u;return{setters:[function(t){e=t.cclegacy},function(t){i=t.V2},function(t){n=t.UIUnitModelObj},function(t){o=t.default},function(t){u=t.RoleDataCache}],execute:function(){e._RF.push({},"7b326e/Yq5GGa2gTjBnoaQ2","CommonModel",void 0);t("CommonModel",function(){function t(){}var e=t.prototype;return e.clear=function(){},e.GetKvListByK=function(t,e){for(var i=0;i<t.length;i++)if(t[i].k==e+1)return t[i].v;return null==t[e]?0:t[e].v},e.AddRoleModel=function(t,e,n,o,u){void 0===o&&(o=i.ZERO),void 0===u&&(u=1);for(var r=e.hair_figure>0&&e.hair_figure||6,s=e.equip_list.length>0&&this.GetKvListByK(e.equip_list,0)||0,l=e.equip_list.length>1&&this.GetKvListByK(e.equip_list,1)||0,a=e.equip_list.length>2&&this.GetKvListByK(e.equip_list,2)||0,c=e.equip_list.length>0&&this.GetKvListByK(e.equip_list,4)||0,f=e.mount_figure||0,g=e.skin_list||[],_=0,d=0;d<g.length;d++)2==g[d].k&&(_=g[d].v);var h=e.gender||1,v=e.artifact_figure||0;return t.addUnitModel({job:e.job_figure,parent:n,dressId:_,gender:h,color:r,weapon:s,ornaments:l,face:a,mount:f,shenqi:v,wing:c},o,u)},e.createRoleModel=function(t,e,o,u){void 0===o&&(o=i.ZERO),void 0===u&&(u=1);for(var r=t.hair_figure>0&&t.hair_figure||6,s=t.equip_list.length>0&&this.GetKvListByK(t.equip_list,0)||0,l=t.equip_list.length>1&&this.GetKvListByK(t.equip_list,1)||0,a=t.equip_list.length>2&&this.GetKvListByK(t.equip_list,2)||0,c=t.equip_list.length>0&&this.GetKvListByK(t.equip_list,4)||0,f=t.mount_figure||0,g=t.skin_list||[],_=0,d=0;d<g.length;d++)2==g[d].k&&(_=g[d].v);var h=t.gender||1,v=t.artifact_figure||0,p=n.alloc(t.job_figure,_,h,e);return p.setSkin(r,s,l,a,v,0,c),p.mount=f,p.position=o,p.scale=u,p},e.checkCommonGuideView=function(t){var e=IS(u).GetRoleId();""==o.get("CommonGuideRecord"+t+e)&&(uiMgr.openView("CommonGuideView",t),o.set("CommonGuideRecord"+t+e,1))},t}());e._RF.pop()}}}));

