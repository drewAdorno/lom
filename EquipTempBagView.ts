System.register("chunks:///_virtual/EquipTempBagView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIList.ts","./NodeUtil.ts","./BaseView.ts","./ItemIcon.ts","./MessageView.ts","./EquipControl.ts","./EquipDefine.ts","./EquipModel.ts"],(function(i){"use strict";var t,e,n,o,s,u,l,c,p,d,a,r,h,f,q,E,I;return{setters:[function(i){t=i.inheritsLoose},function(i){e=i.cclegacy,n=i.math,o=i.Button,s=i.ScrollView,u=i.Label,l=i.Sprite,c=i.js},function(i){p=i.SelectedType,d=i.ListItem},function(i){a=i.default},function(i){r=i.BaseView},function(i){h=i.IconAseetType},function(i){f=i.default},function(i){q=i.default},function(i){E=i.EquipEventDefine},function(i){I=i.EquipModel}],execute:function(){e._RF.push({},"9d798lnMXNOk4QKvgtcyhZy","EquipTempBagView",void 0);n.Vec3,n.Vec2,i("default",function(i){function e(){var t;return(t=i.call(this)||this).scrollEquipList=void 0,t.typeStr=void 0,t.equipList=void 0,t.name="EquipTempBagView",t.url="ui/module/equip/EquipTempBagView",t}t(e,i);var n=e.prototype;return n.onInit=function(){var i=this,t=this.findChild("imgMask");this.addComponentCallbackListener(t,o.EventType.CLICK,(function(){i.onMaskClick()}));var e=this.findChild("content/btnSold");this.addComponentCallbackListener(e,o.EventType.CLICK,(function(){i.onSoldClick()}));var n=this.findChildComponent("content/scrollEquipList",s);this.scrollEquipList=this.addUIList(n,v),this.scrollEquipList.selectedMode=p.SINGLE},n.registerUpdateHandler=function(){this.addEvent(E.EQUIP_LIST_UPDATE,this.onEquipListUpdate,this)},n.onAfterOpen=function(){this.showEquipList()},n.showEquipList=function(){this.equipList=IS(I).getEmptyEquipIdList(!0,0),null==this.equipList||this.equipList.length<=0?this.close():this.scrollEquipList.datas=this.equipList},n.onBeforeClose=function(){},n.onDestroy=function(){},n.onEquipListUpdate=function(){this.showEquipList()},n.onMaskClick=function(){this.close()},n.onSoldClick=function(){var i=this;if(!IS(I).checkHasEmptyBetterEquip())return IS(q).reqSellEquip(this.equipList),void this.close();f.showBoxTip({tip:GetLanguage(200273),title:GetLanguage(200048),func:function(t){"type_yes"==t&&(IS(q).reqSellEquip(i.equipList),i.close())}})},e}(r));var v=function(i){function e(){for(var t,e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return(t=i.call.apply(i,[this].concat(n))||this).txtLevel=void 0,t.imgFrame=void 0,t.imgIcon=void 0,t.equipId=void 0,t.nodeUp=void 0,t}t(e,i);var n=e.prototype;return n.onInit=function(){this.txtLevel=a.findChildComponent(this.node,"txtLevel",u),this.imgFrame=a.findChildComponent(this.node,"imgFrame",l),this.imgIcon=a.findChildComponent(this.node,"imgIcon",l),this.nodeUp=a.findChild(this.node,"imgUp")},n.onRender=function(i,t){this.equipId=i;var e=IS(I).getEquipInfoByEquipId(this.equipId),n=configEquipment.getDataByKey(null==e?void 0:e.config_id);null!=n&&(this.view.loadIcon(this.imgIcon,n.atlas,n.icon,null,h.ICON_SPRITE),this.view.loadIcon(this.imgFrame,"icon_equip",configColor.getDataByKey(n.quality).path),this.txtLevel.string=c.formatStr("Lv.%s",e.equip_lv),this.nodeUp.active=IS(I).checkIsBetterEquip(this.equipId))},n.onItemClick=function(){IS(I).tryOpenEquipEditView(this.equipId)},e}(d);e._RF.pop()}}}));

