System.register("chunks:///_virtual/TowerGameMapSceneView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./StringUtil.ts","./index57.ts","./TowerGameMapScene.ts","./TowerGameDataCache.ts","./TowerGameDefine.ts","./BaseView.ts"],(function(t){"use strict";var e,n,i,o,s,r,d,a,u,c;return{setters:[function(t){e=t.inheritsLoose,n=t.assertThisInitialized},function(t){i=t.cclegacy,o=t.Button,s=t.Label},function(t){r=t.default},null,function(t){d=t.TowerGameMapScene},function(t){a=t.default},function(t){u=t.TowerGameEventDefine},function(t){c=t.BaseView}],execute:function(){i._RF.push({},"2a3b50rKA9DSbCpzrWVGMi4","TowerGameMapSceneView",void 0);t("default",function(t){function i(){var e;return(e=t.call(this)||this).mapScene=void 0,e.txtPoint=void 0,e.txtRound=void 0,e.txtMonsterNum=void 0,e.roundImg2=void 0,e.roundImg3=void 0,e.txtPower=void 0,e.txtSpeed=void 0,e.cost1=void 0,e.cost2=void 0,e.name="TowerGameMapSceneView",e.url="ui/module/towerGame/TowerGameMapSceneView",e.fullScreen=!0,e.mapScene=new d(n(e)),e}e(i,t);var c=i.prototype;return c.onInit=function(){var t=this,e=this.findChild("bottom/btnClose");this.addComponentCallbackListener(e,o.EventType.CLICK,(function(){t.destroy()}));var n=this.findChild("info/btn1");this.addComponentCallbackListener(n,o.EventType.CLICK,(function(){IS(a).upgrade(1)}));var i=this.findChild("info/btn2");this.addComponentCallbackListener(i,o.EventType.CLICK,(function(){IS(a).upgrade(2)})),this.txtPoint=this.findChildComponent("info/num",s),this.txtRound=this.findChildComponent("info/lev/round",s),this.txtMonsterNum=this.findChildComponent("info/lev/num",s),this.roundImg2=this.findChild("info/lev/schedule/2"),this.roundImg3=this.findChild("info/lev/schedule/3"),this.txtPower=this.findChildComponent("info/btn1/Label",s),this.txtSpeed=this.findChildComponent("info/btn2/Label",s),this.cost1=this.findChildComponent("info/btn1/cost/Label",s),this.cost2=this.findChildComponent("info/btn2/cost/Label",s)},c.registerUpdateHandler=function(){this.addEvent(u.TowerGameUpdateInfo,this.updateInfo,this)},c.onAfterOpen=function(){this.mapScene.open()},c.onBeforeClose=function(){this.mapScene.close()},c.onDestroy=function(){this.mapScene.destroy()},c.onUpdate=function(t){this.mapScene.onUpdate(t)},c.updateInfo=function(){var t=IS(a);this.roundImg2.active=t.curRound>=2,this.roundImg3.active=t.curRound>=3,this.txtRound.string=String(t.curRound),this.txtMonsterNum.string=String(t.monsterNum),this.txtPoint.string=String(t.role.skillPoint);var e=t.role.powerLev,n=configTowerdefence.getDataByKeys("id",1,"lev",e);this.txtPower.string=n.num,this.cost1.string=n.point;var i=t.role.speedLev,o=configTowerdefence.getDataByKeys("id",2,"lev",i);this.txtSpeed.string=r.formatStrWithMirrorDeal(GetLanguage(201448),o.num),this.cost2.string=o.point},i}(c));i._RF.pop()}}}));

