System.register("chunks:///_virtual/BattlePvpInfo.ts",["cc","./BattleData.ts","./EnumDefine.ts","./NodeUtil.ts","./ConfigGlobal.ts","./ChapterControl.ts","./ChapterDataCache.ts","./ChapterDefine.ts","./IBattleChapterPanel.ts"],(function(t){"use strict";var i,e,n,o,a,s,r,h,d,l,p,u,c,f,x,v;return{setters:[function(t){i=t.cclegacy,e=t.Button,n=t.Label,o=t.LabelOutline,a=t.Layout,s=t.Sprite,r=t.Color,h=t.sys},function(t){d=t.ChapterType},function(t){l=t.RunMode},function(t){p=t.default},function(t){u=t.ConfigGlobal},function(t){c=t.default},function(t){f=t.ChapterDataCache},function(t){x=t.ChapterEventDefine},function(t){v=t.BattleInfoType}],execute:function(){i._RF.push({},"0b701crTklIK5M4Gb8f3VZ3","BattlePvpInfo",void 0);t("BattlePvpInfo",function(){function t(t,i){this.view=void 0,this.node=void 0,this.type=void 0,this.btnExit=void 0,this.txtExit=void 0,this.outlineExitTxt=void 0,this.nodeTips=void 0,this.nodeWait=void 0,this.txtSubTitle=void 0,this.view=t,this.node=i,this.type=v.Pvp,this.onInit()}var i=t.prototype;return i.onInit=function(){var t=p.findChildComponent(this.node,"btnExit",e);this.view.addComponentCallbackListener(t.node,e.EventType.CLICK,(function(){var t=battleMain.data;normalEvent.emit(x.CHAPTER_BATTLE_RESUTL,t.chapterId,t.chapterType,0,t.recordType>0?l.Record:l.Main,0,t.source),IS(c).reqEnterChapter(0),battleMain.enterChapter(),normalEvent.emit(x.BATTLE_STATE,battleMain.data.chapterType,!1)})),this.btnExit=t,this.nodeTips=p.findChild(this.node,"tip"),this.txtExit=p.findChildComponent(t.node,"Label",n),this.outlineExitTxt=this.txtExit.node.getComponent(o),this.nodeWait=p.findChild(this.node,"nodeWait"),this.txtSubTitle=p.findChildComponent(this.node,"tipRoot/title-001",n),this.view.dealMirrorLayout(p.findChildComponent(this.node,"tipRoot",a))},i.onUpdate=function(t){},i.resetExitButton=function(){this.btnExit.getComponent(s).grayscale=!1,this.btnExit.enabled=!0,this.txtExit.string=GetLanguage(200132),this.outlineExitTxt.color=new r(107,49,49),this.nodeWait.active=!1},i.reset=function(){var t=this,i=IS(f).chapterType;if(i!=d.CrossWarPvp&&i!=d.CrossWarMonster)if(this.btnExit.node.active=!0,battleMain.runMode!=l.Record){this.btnExit.getComponent(s).grayscale=!0,this.btnExit.enabled=!1,this.nodeWait.active=!0,h.uiMirror&&this.txtSubTitle.node.setScale(1,1,1),this.txtSubTitle.string=i==d.RoleSolo?GetLanguage(200133):GetLanguage(200134);var e=u.pvp_skip_time;this.txtExit.string=e+"s",this.outlineExitTxt.color=new r(0,0,0),battleMain.battleTimer.start(1,u.pvp_skip_time,(function(){e--,t.txtExit.string=e+"s",e<=0&&t.resetExitButton()}))}else this.resetExitButton();else this.btnExit.node.active=!1},i.onLoad=function(){this.btnExit.enabled=!1},t}());i._RF.pop()}}}));

