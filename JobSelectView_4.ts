System.register("chunks:///_virtual/JobSelectView_4.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NodeUtil.ts","./index57.ts","./ItemIcon.ts","./ActivityDefine.ts","./ActivityStrategyDataCache.ts","./RoleDataCache.ts","./RoleDefine.ts","./BaseView.ts"],(function(t){"use strict";var i,e,o,n,s,h,a,c,r,l,d,b,u,f,g;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy,o=t.Button,n=t.js,s=t.Widget,h=t.Label,a=t.Sprite,c=t.sys},function(t){r=t.default},null,function(t){l=t.IconAseetType},function(t){d=t.ActivityType},function(t){b=t.default},function(t){u=t.RoleDataCache},function(t){f=t.PlayerAttr},function(t){g=t.BaseView}],execute:function(){e._RF.push({},"bf914pVJxtKM7bNIY4dkCqz","JobSelectView_4",void 0);t("default",function(t){function e(){var i;return(i=t.call(this)||this).jobItems=[],i.activityType=void 0,i.name="JobSelectView_4",i.url="ui/module/role/JobSelectView_4",i.fullScreen=!0,i}i(e,t);var s=e.prototype;return s.onInit=function(){var t=this,i=this.findChild("btnClose");this.addComponentCallbackListener(i,o.EventType.CLICK,(function(){t.close()}));for(var e=0;e<3;e++){var s=this.findChild(n.formatStr("view/job%s",e)),h=new v;h.init(s,this,e),this.jobItems.push(h)}},s.registerUpdateHandler=function(){},s.onAfterOpen=function(){this.activityType=this.openArgs[0];var t=IS(u).GetJob();this.activityType==d.Strategy&&(t=IS(b).job);for(var i=configJobs.getDataByKey(t),e=0;e<3;e++)this.jobItems[e].node.active=i.job_change.length>e;1==i.job_change.length?(this.jobItems[0].widget.horizontalCenter=0,this.jobItems[0].widget.bottom=360):2==i.job_change.length?(this.jobItems[0].widget.horizontalCenter=-200,this.jobItems[0].widget.bottom=360,this.jobItems[1].widget.horizontalCenter=200,this.jobItems[1].widget.bottom=360):3==i.job_change.length&&(this.jobItems[0].widget.horizontalCenter=0,this.jobItems[0].widget.bottom=150,this.jobItems[1].widget.horizontalCenter=-200,this.jobItems[1].widget.bottom=500,this.jobItems[2].widget.horizontalCenter=200,this.jobItems[2].widget.bottom=500);for(var o=0;o<i.job_change.length;o++)this.jobItems[o].show(i.job_change[o])},s.onBeforeClose=function(){},s.onDestroy=function(){},e}(g));var v=function(){function t(){this.view=void 0,this.node=void 0,this.index=void 0,this.widget=void 0,this.job=void 0,this.txtName=void 0,this.icon=void 0}var i=t.prototype;return i.init=function(t,i,e){this.view=i,this.node=t,this.index=e,this.widget=t.getComponent(s),this.onInit()},i.onInit=function(){var t=this;this.txtName=r.findChildComponent(this.node,"name/Label",h),this.icon=r.findChildComponent(this.node,"icon",a),this.view.addComponentCallbackListener(this.node,o.EventType.CLICK,(function(){uiMgr.openView("JobSelectView_2",t.job,t.view.activityType)}))},i.show=function(t){this.node.active=!0,this.job=t;var i=configJobs.getDataByKey(this.job),e=IS(u).GetRoleAttr(f.ROLE_ATTR_GENDER);this.txtName.string=i.name,2==e&&5==i.change_times?(this.view.loadIcon(this.icon,"icon_job",n.formatStr("job_%s_2",this.job),null,l.ICON_SPRITE),this.icon.node.setPosition(c.uiMirror?-(i.position[2]+4):i.position[2]+4,i.position[3]-10,0)):(this.view.loadIcon(this.icon,"icon_job",n.formatStr("job_%s",this.job),null,l.ICON_SPRITE),this.icon.node.setPosition(c.uiMirror?-(i.position[0]+4):i.position[0]+4,i.position[1]-10,0)),this.icon.node.setScale(c.uiMirror?-i.scale:i.scale,i.scale,i.scale)},t}();e._RF.pop()}}}));

