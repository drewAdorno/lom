System.register("chunks:///_virtual/ActivitySchoolDataCache.ts",["cc","./ActivityDefine.ts","./RoleDataCache.ts","./ActivityDataCache.ts","./StorageUtil.ts","./TimeUtil.ts"],(function(t){"use strict";var e,i,o,c,n,a,r,u,l;return{setters:[function(t){e=t.cclegacy,i=t.js},function(t){o=t.ActivityType,c=t.ActivityState,n=t.ActivityEventDefine},function(t){a=t.RoleDataCache},function(t){r=t.default},function(t){u=t.default},function(t){l=t.default}],execute:function(){e._RF.push({},"7e1d3zBZ/xIZ4iKxh9FHW45","ActivitySchoolDataCache",void 0);t("default",function(){var t=e.prototype;function e(){normalEvent.on(n.OnActivityListUpdate,this.checkPop,this),normalEvent.on(n.OnActivityInfoUpdate,this.checkPop,this)}return t.clear=function(){},t.checkPop=function(){var t=IS(r).GetActivityInfo(o.School);if(t&&t.state==c.Open){var e,n=new Date(1e3*l.serverOpenTime),s=i.formatStr("#%s#%s#%s",n.getFullYear(),n.getMonth()+1,n.getDate()),v="ActivitySchoolPopView"+IS(a).GetRoleId();if((null!=(e=u.get(v))?e:"")==s)return;uiMgr.ViewIsAddPop("ActivitySchoolPopView")||(uiMgr.addPopView("ActivitySchoolPopView"),u.set(v,s))}},t.GetStoreRed=function(){var t=IS(r).GetActivityInfo(o.School);if(t){var e,i=String(t.id)+"#"+String(t.round),c="ActivitySchoolStoreRed"+IS(a).GetRoleId();return(null!=(e=u.get(c))?e:"")==i?0:1}return 0},e}());e._RF.pop()}}}));

