System.register("chunks:///_virtual/BuffUnitCallDamageAdd.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ObjectPool.ts","./FixMath.ts","./Buff.ts","./MetaAttrib.ts"],(function(t){"use strict";var n,e,a,r,o,i;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy},function(t){a=t.ObjectPool},function(t){r=t.FixMath},function(t){o=t.Buff},function(t){i=t.AttribDefine}],execute:function(){e._RF.push({},"d50dc/o5PZLcZRKIrZsyGEA","BuffUnitCallDamageAdd",void 0);var c=t("BuffUnitCallDamageAdd",function(t){function e(){for(var n,e=arguments.length,a=new Array(e),r=0;r<e;r++)a[r]=arguments[r];return(n=t.call.apply(t,[this].concat(a))||this)._calType=void 0,n._calPercent=void 0,n}n(e,t);var a=e.prototype;return a.calDamage=function(t,n){var e=0;if(0==this._calType)e=r.roundInt(t*this.skillPar);else if(1==this._calType){var a=n.data.getAttrib(i.hp),o=n.data.currenHp;r.round(o/a)<=r.round(this._calPercent/1e4)&&(e=r.roundInt(t*this.skillPar))}return e},a.onBegin=function(){},a.onDestroy=function(){},e.alloc=function(t){var n=e._pool.alloc();return n.config=t,n._calType=t.param1,n._calPercent=t.param2,n},e}(o));c._pool=new a(c,30),e._RF.pop()}}}));

