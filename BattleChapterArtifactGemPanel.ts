System.register("chunks:///_virtual/BattleChapterArtifactGemPanel.ts",["cc","./NodeUtil.ts","./TimeUtil.ts","./DungeonControl.ts","./IBattleChapterPanel.ts"],(function(t){"use strict";var e,i,a,n,o,h,r,s;return{setters:[function(t){e=t.cclegacy,i=t.ProgressBar,a=t.Label,n=t.Sprite},function(t){o=t.default},function(t){h=t.default},function(t){r=t.default},function(t){s=t.BattleInfoType}],execute:function(){e._RF.push({},"27b77y/mVFCSb2WZwZ/xNyn","BattleChapterArtifactGemPanel",void 0);t("BattleChapterArtifactGemPanel",function(){function t(t,e){this.view=void 0,this.node=void 0,this.infoType=s.Dungeon,this.nodeTime=void 0,this.pbTime=void 0,this.txtTime=void 0,this.txtChapter=void 0,this.chapterTime=0,this.node=e,this.view=t,this.onInit()}var e=t.prototype;return e.reset=function(){this.updateTime();var t=configArtifact_gem_chapter.getDataByKey(battleMain.data.chapterId);this.txtChapter.string=GetLanguage(201575)+" "+t.level},e.onInit=function(){this.nodeTime=o.findChild(this.node,"time"),this.pbTime=o.findChildComponent(this.nodeTime,"pbTime",i),this.txtTime=o.findChildComponent(this.nodeTime,"txtTime",a);var t=o.findChildComponent(this.nodeTime,"Sprite",n);this.view.loadIcon(t,"battle","zxgq_ui_shijian"),this.txtChapter=o.findChildComponent(this.node,"txtChapter",a)},e.exitBattle=function(){IS(r).reqDungeonBattleResult(battleMain.data.chapterType,battleMain.data.chapterId,1)},e.updateTime=function(){this.chapterTime!=Math.floor(battleMain.chapter.chapterTime)&&(this.chapterTime=Math.floor(battleMain.chapter.chapterTime),this.txtTime.string=h.formatTimeForSecond(this.chapterTime)),this.pbTime.progress=battleMain.chapter.chapterTime/battleMain.chapter.maxChapterTime},e.onUpdate=function(t){battleMain.chapter.timeModel&&this.updateTime()},t}());e._RF.pop()}}}));

