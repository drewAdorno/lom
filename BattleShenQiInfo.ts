System.register("chunks:///_virtual/BattleShenQiInfo.ts",["cc","./BattleData.ts","./NodeUtil.ts","./StringUtil.ts","./ItemIcon.ts","./ArtifactDataCache.ts","./ChapterControl.ts","./ChapterDataCache.ts","./ChapterDefine.ts","./WingDataCache.ts","./IBattleChapterPanel.ts"],(function(t){"use strict";var e,n,i,a,o,s,c,h,l,r,d,f,p,C,v,u,m;return{setters:[function(t){e=t.cclegacy,n=t.Button,i=t.Sprite,a=t.Label,o=t.UITransform,s=t.Node,c=t.js},function(t){h=t.ChapterType},function(t){l=t.default},function(t){r=t.default},function(t){d=t.IconAseetType},function(t){f=t.ArtifactDataCache},function(t){p=t.default},function(t){C=t.ChapterDataCache},function(t){v=t.ChapterEventDefine},function(t){u=t.WingDataCache},function(t){m=t.BattleInfoType}],execute:function(){e._RF.push({},"9192eIQFyhJWItglLMBqhzV","BattleShenQiInfo",void 0);t("BattleShenQiInfo",function(){function t(t,e){this.view=void 0,this.node=void 0,this.type=void 0,this.btnExit=void 0,this.imgFrame=void 0,this.imgIcon=void 0,this.txtName=void 0,this.txtDesc=void 0,this.view=t,this.node=e,this.type=m.Pvp,this.onInit()}var e=t.prototype;return e.onInit=function(){var t=this,e=l.findChildComponent(this.node,"btnExit",n);this.view.addComponentCallbackListener(e.node,n.EventType.CLICK,(function(){var t=IS(C);IS(f).prviewId=0,IS(p).reqEnterChapter(t.curChapterId),battleMain.enterChapter(),normalEvent.emit(v.BATTLE_STATE,battleMain.data.chapterType,!1)})),this.btnExit=e;var c=l.findChild(this.node,"nodeSkill");this.imgFrame=l.findChildComponent(c,"Frame",i),this.imgIcon=l.findChildComponent(c,"Icon",i),this.txtName=l.findChildComponent(c,"txtName",a),this.txtDesc=l.findChildComponent(c,"desc/view/content/txtDesc",a);var h=l.findChildComponent(c,"/desc/view/content",o);this.view.addComponentCallbackListener(this.txtDesc.node,s.EventType.SIZE_CHANGED,(function(){h.height=t.txtDesc.node.getComponent(o).height}))},e.onUpdate=function(t){},e.reset=function(){this.btnExit.enabled=!0},e.onLoad=function(){var t=null;t=IS(C).chapterType==h.ShenQi?configArtifact_skin.getDataByKeys("artifact_id",IS(f).prviewId,"skin_level",1):configBack_skin.getDataByKeys("back_id",IS(u).prviewId,"skin_level",1);var e=configSkill.getDataByKey(t.skin_skill[0][0]);this.view.loadIcon(this.imgFrame,"icon_skill",c.formatStr("common_ICON_jinengkuang0%s",e.quality)),this.view.loadIcon(this.imgIcon,"icon_skill",e.icon,null,d.ICON_SPRITE),this.txtName.string=e.name;var n=configSkill_level.getDataByKeys("id",t.skin_skill[0][0],"level",t.skin_skill[0][1]);this.txtDesc.string=r.formatStr.apply(r,[n.desc].concat(n.desc_parm)),this.btnExit.enabled=!1},t}());e._RF.pop()}}}));

