System.register("chunks:///_virtual/GvGWeekResultView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ItemGrid.ts","./UIList.ts","./NodeUtil.ts","./StringUtil.ts","./BaseView.ts","./BagModel.ts"],(function(t){"use strict";var i,n,o,e,r,a,s,c,d,l,h,g,u,f;return{setters:[function(t){i=t.inheritsLoose},function(t){n=t.cclegacy,o=t.Button,e=t.Label,r=t.Sprite,a=t.ScrollView,s=t.js,c=t.Color},function(t){d=t.ItemGrid},function(t){l=t.ListItem},function(t){h=t.default},function(t){g=t.default},function(t){u=t.BaseView},function(t){f=t.BagModel}],execute:function(){var v;n._RF.push({},"d3a10mb0fdK37GhYUZuLlTK","GvGWeekResultView",void 0);var m=((v={})[1]={tid:999000203,color:{r:53,g:22,b:9}},v[2]={tid:999000202,color:{r:58,g:56,b:77}},v[3]={tid:999000205,color:{r:131,g:71,b:0}},v[4]={tid:999000204,color:{r:136,g:20,b:20}},v),k=(t("default",function(t){function n(){var i;return(i=t.call(this)||this).rewardScroll=void 0,i.txtUp=void 0,i.imgRanking=void 0,i.txtRanking=void 0,i.txtScore=void 0,i.txtNeedScore=void 0,i.curInfo=void 0,i.txtRank=void 0,i.nodeScore=void 0,i.name="GvGWeekResultView",i.url="ui/module/gvg/GvGWeekResultView",i}i(n,t);var d=n.prototype;return d.onInit=function(){var t=this,i=this.findChild("imgMask");this.addComponentCallbackListener(i,o.EventType.CLICK,(function(){t.onMaskClick()})),this.txtUp=this.findChildComponent("root/content/txtUpGrid",e),this.imgRanking=this.findChildComponent("root/content/imgRanking",r),this.txtRanking=this.findChildComponent("root/content/imgRanking/txtRank",e),this.txtScore=this.findChildComponent("root/content/score/txtValueScore",e),this.txtNeedScore=this.findChildComponent("root/content/score/txtNeedScore",e),this.txtRank=this.findChildComponent("root/content/rank/txtRank",e),this.nodeScore=this.findChild("root/content/score");var n=this.findChildComponent("root/content/ScrollView",a);this.rewardScroll=this.addUIList(n,k)},d.registerUpdateHandler=function(){},d.onMaskClick=function(){this.close()},d.onAfterOpen=function(){this.curInfo=this.openArgs[0],this.txtRank.string=s.formatStr("%s%s",GetLanguage_UI(999000209),g.formatStr(GetLanguage(999000001),this.curInfo.rank)),this.rewardScroll.datas=this.curInfo.reward_list;var t=this.curInfo.ranking;if(!t||0==t)return this.nodeScore.active=!1,this.txtUp.node.active=!1,this.loadIcon(this.imgRanking,"gvg_season","gvg_icong_qingtong"),this.txtRanking.string=GetLanguage_UI(999000203),void(this.txtRanking.color=new c(53,22,9));this.nodeScore.active=!0;var i=this.curInfo.old_ranking;this.txtUp.node.active=t>i;var n=configFamiliybrawl_rank.getDataByKey(t);this.txtUp.string=g.formatStrWithMirrorDeal(GetLanguage(201571),n.rank_name),this.loadIcon(this.imgRanking,"gvg_season",n.rank_picture_g);var o=m[t];this.txtRanking.string=GetLanguage_UI(o.tid),this.txtRanking.color=new c(o.color.r,o.color.g,o.color.b),this.txtScore.string=this.curInfo.score;var e=configFamiliybrawl_rank.getDatas().length;if(this.txtNeedScore.node.active=t<e,t<e){var r=configFamiliybrawl_rank.getDataByKey(t+1);this.txtNeedScore.string=g.formatStrWithMirrorDeal(GetLanguage(201572),Math.max(0,r.point_require-this.curInfo.score))}},d.onBeforeClose=function(){},d.onDestroy=function(){},n}(u)),function(t){function n(){for(var i,n=arguments.length,o=new Array(n),e=0;e<n;e++)o[e]=arguments[e];return(i=t.call.apply(t,[this].concat(o))||this).itemGridNode=void 0,i.itemGrid=void 0,i}i(n,t);var o=n.prototype;return o.onInit=function(){var t=this;this.itemGridNode=h.findChild(this.node,"itemGrid"),this.itemGrid=new d(this.view,this.itemGridNode,(function(){IS(f).OpenItemTips(t.data.gtid,t.itemGridNode)}))},o.onRender=function(t,i){this.itemGrid.SetItemId(t.gtid,t.num)},n}(l));n._RF.pop()}}}));

