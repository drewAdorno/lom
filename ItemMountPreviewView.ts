System.register("chunks:///_virtual/ItemMountPreviewView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index57.ts","./ArtifactDataCache.ts","./BagDefine.ts","./EquipModel.ts","./RoleDataCache.ts","./RoleDefine.ts","./BaseView.ts"],(function(e){"use strict";var t,i,n,o,s,r,l,a,u,d,c;return{setters:[function(e){t=e.inheritsLoose},function(e){i=e.cclegacy,n=e.Button,o=e.Label,s=e.sys},null,function(e){r=e.ArtifactDataCache},function(e){l=e.GoodsType},function(e){a=e.EquipModel},function(e){u=e.RoleDataCache},function(e){d=e.PlayerAttr},function(e){c=e.BaseView}],execute:function(){i._RF.push({},"28bc836Ir9LOoZFKExki2dE","ItemMountPreviewView",void 0);e("default",function(e){function i(){var t,i;return(i=e.call(this)||this).roleModel=void 0,i.role=void 0,i.mountName=void 0,i.itemTypeCfg=((t={})[l.Mount]={baseCfg:configMount,var:"mountId"},t[l.Wing]={baseCfg:configBack_decoration,var:"wingId"},t),i.name="ItemMountPreviewView",i.url="ui/module/common/ItemMountPreviewView",i}t(i,e);var c=i.prototype;return c.onInit=function(){var e=this;this.role=this.findChild("role");var t=this.findChild("imgMask");this.addComponentCallbackListener(t,n.EventType.CLICK,(function(){e.onCloseClick()}));var i=this.findChild("btnClose");this.addComponentCallbackListener(i,n.EventType.CLICK,(function(){e.onCloseClick()})),this.mountName=this.findChildComponent("name",o)},c.onCloseClick=function(){this.close()},c.registerUpdateHandler=function(){},c.onAfterOpen=function(){for(var e in this.itemTypeCfg)this[this.itemTypeCfg[e].var]=null;var t=this.openArgs[0],i=this.openArgs[1],n=this.itemTypeCfg[i];if(n){var o=n.baseCfg.getDataByKey(t);this.mountName.string=o.name,this[n.var]=t,this.updateModel()}},c.updateModel=function(){var e,t;null!=this.roleModel&&(this.removeUnitModel(this.roleModel),this.roleModel=null);var i=IS(u).GetTypeUsedSkin(0),n=IS(u).GetTypeUsedSkin(2)||0,o=IS(u).GetRoleAttr(d.ROLE_ATTR_GENDER),l=IS(a).getShowEquipCfgIdByLocation(1),c=IS(a).getShowEquipCfgIdByLocation(2),f=IS(a).getShowEquipCfgIdByLocation(3),h=IS(u).GetTypeUsedSkin(1),C=IS(r).artifact_id;this.roleModel=this.addUnitModel({job:i,dressId:n,gender:o,weapon:l,ornaments:c,face:f,color:h,parent:this.role,shenqi:C,mount:null!=(e=this.mountId)?e:0,wing:null!=(t=this.wingId)?t:0},null,1.95),s.uiMirror&&(this.getUnitModel(this.roleModel).dir=-1)},c.onBeforeClose=function(){},c.onDestroy=function(){},i}(c));i._RF.pop()}}}));

