System.register("chunks:///_virtual/UpgradeResultView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioMgr.ts","./UIList.ts","./NodeUtil.ts","./StringUtil.ts","./index57.ts","./HorseDataChche.ts","./BaseView.ts"],(function(t){"use strict";var e,n,i,r,o,s,a,u,l,h,c,d;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,i=t.Button,r=t.ScrollView,o=t.Label,s=t.js},function(t){a=t.audioMgr},function(t){u=t.ListItem},function(t){l=t.default},function(t){h=t.default},null,function(t){c=t.HorseDataCache},function(t){d=t.BaseView}],execute:function(){n._RF.push({},"ddb06B33rVKzKym1vRSzA2f","UpgradeResultView",void 0);t("default",function(t){function n(){var e;return(e=t.call(this)||this).curLevel=void 0,e.AttrlistItem=void 0,e.attrUIList=void 0,e.name="UpgradeResultView",e.url="ui/module/horse/UpgradeResultView",e.poolTime=3e3,e}e(n,t);var s=n.prototype;return s.onInit=function(){var t=this,e=this.findChild("imgMask");this.addComponentCallbackListener(e,i.EventType.CLICK,(function(){t.close()}));var n=this.findChildComponent("root/content/nodeChange/ScrollView",r);this.attrUIList=this.addUIList(n,f)},s.onAfterOpen=function(){a.playSound("common_reward"),this.curLevel=IS(c).curLevel,this.refreshShow()},s.refreshShow=function(){var t=this.findChildComponent("root/content/nodeChange/txtLevelBase",o),e=this.findChildComponent("root/content/nodeChange/txtLevelNext",o),n=configMount_level.getDataByKey(this.curLevel-1),i=configMount_level.getDataByKey(this.curLevel);if(this.AttrlistItem=[],null!=i){t.string=n.name,e.string=i.name;for(var r=0;r<n.attr.length;r++){var s=configAttribute.getDataByKey(n.attr[r][0]),a={show_type:s.show_type,name:s.desc,base:n.attr[r][1],next:i.attr[r][1]};this.AttrlistItem.push(a)}this.attrUIList.datas=this.AttrlistItem}},s.registerUpdateHandler=function(){},s.onBeforeClose=function(){},s.onDestroy=function(){},n}(d));var f=function(t){function n(){for(var e,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))||this).txtAttrName=void 0,e.txtAttrBase=void 0,e.txtAttrNext=void 0,e}e(n,t);var i=n.prototype;return i.onInit=function(){this.txtAttrName=l.findChildComponent(this.node,"txtAttrName",o),this.txtAttrBase=l.findChildComponent(this.node,"txtAttrBase",o),this.txtAttrNext=l.findChildComponent(this.node,"txtAttrNext",o)},i.onRender=function(t,e){this.txtAttrName.string=t.name,2==t.show_type?(this.txtAttrBase.string=s.formatStr("%s%",h.GetNumString(t.base/100)),this.txtAttrNext.string=s.formatStr("%s%",h.GetNumString(t.next/100))):3==t.show_type?(this.txtAttrBase.string=h.GetNumString(Math.floor(t.base/100)/100),this.txtAttrNext.string=h.GetNumString(Math.floor(t.next/100)/100)):(this.txtAttrBase.string=h.GetNumString(t.base),this.txtAttrNext.string=h.GetNumString(t.next))},i.onItemClick=function(){},n}(u);n._RF.pop()}}}));

