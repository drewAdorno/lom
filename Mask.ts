System.register("chunks:///_virtual/Mask.ts",["cc","./V2.ts","./NodeUtil.ts","./SpineSkeleton.ts","./UIEffectAsset.ts","./UIUnitModelObj.ts","./ArtifactDataCache.ts","./EquipModel.ts","./RoleDataCache.ts"],(function(t){"use strict";var e,i,n,o,s,a,c,f,l,d,r,h;return{setters:[function(t){e=t.cclegacy,i=t.Color,n=t.sys,o=t.Sprite},function(t){s=t.V2},function(t){a=t.default},function(t){c=t.SpineSkeleton},function(t){f=t.UIEffectAsset},function(t){l=t.UIUnitModelObj},function(t){d=t.ArtifactDataCache},function(t){r=t.EquipModel},function(t){h=t.RoleDataCache}],execute:function(){e._RF.push({},"9f5c6KoDKJCFqsiJkibv2+v","Mask",void 0);t("Mask",function(){function t(t,e,i){this.node=void 0,this.nodeEffect=void 0,this.maskEffect=void 0,this.mask=void 0,this._tween=void 0,this.node=t,this.nodeEffect=e,this.mask=t.getComponent(o),this.maskEffect=i.getComponent(c)}var e=t.prototype;return e.backClose=function(t,e){var o=this;void 0===t&&(t=0),void 0===e&&(e=0),this._tween&&(this._tween.stop(),this._tween=null),this.node.active=!0,0==e?this.mask.color=i.BLACK:(this.mask.color=new i(0,0,0,0),this.maskEffect.node.active=!0,this.maskEffect.addAnimation(0,"idle2",!1),this.maskEffect.addAnimation(0,"chuxian",!1),this.maskEffect.addAnimation(0,"idle",!0)),this._tween=normalTween.to(0,255,.5,(function(t,e){})).call((function(){o._tween=null})).start(),t>0&&(f.alloc("prefab/ui-effect/MX_vs",this.nodeEffect,1.8,(function(e){n.uiMirror&&(e.dir=-1);var i=a.findChild(e.node,"top/ren2"),o=a.findChild(e.node,"top/ren1"),s=configUnitModel.getDataByKey(t);f.alloc(s.path,o,1.8).scale=s.scale/100*1.5;var c=IS(h).GetTypeUsedSkin(0),u=IS(h).GetGender(),k=IS(h).GetTypeUsedSkin(2),p=IS(r).getShowEquipCfgIdByLocation(1);IS(d).prviewId>0&&(p=IS(d).prviewId);var v=IS(r).getShowEquipCfgIdByLocation(2),m=IS(r).getShowEquipCfgIdByLocation(3),w=l.alloc(c,k,u,i,1.8);w.setSkin(IS(h).GetTypeUsedSkin(1),p,v,m),w.scale=1.5})).position=new s(-20,350))},e.pvpVs=function(t){f.alloc("prefab/ui-effect/MX_vs",this.nodeEffect,1,(function(e){n.uiMirror&&(e.dir=-1);var i=a.findChild(e.node,"top/ren2"),o=a.findChild(e.node,"top/ren1");if(null!=t.playerList[1]){var s=t.playerList[1].units[0],c=l.allocModel(s.modelConfig.id,i,1);c.setSkin(s.skin.color,s.skin.weapon,s.skin.ornaments,s.skin.face),c.scale=1.5,s=t.playerList[2].units[0];var f=l.allocModel(s.modelConfig.id,o,1);f.setSkin(s.skin.color,s.skin.weapon,s.skin.ornaments,s.skin.face),f.scale=1.5}})).position=new s(-20,350)},e.backOpen=function(){var t=this;this._tween&&(this._tween.stop(),this._tween=null),this.node.active=!0;this.maskEffect.node.active;this.mask.color=new i(0,0,0,255),this.maskEffect.setAnimation(0,"xiaoshi",!1);var e=new i(0,0,0,0);this._tween=normalTween.to(255,0,.5,(function(i,n){e.a=n,t.mask.color=e})).call((function(){t._tween=null,t.maskEffect.setAnimation(0,"idle2",!0),t.maskEffect.node.active=!1,t.mask.node.active=!1})).start()},t}());e._RF.pop()}}}));

