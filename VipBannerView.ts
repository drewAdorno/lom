System.register("chunks:///_virtual/VipBannerView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ItemGrid.ts","./UIList.ts","./NodeUtil.ts","./StringUtil.ts","./BaseView.ts","./ConfigGlobal.ts","./ChatDataCache.ts","./ChatDefine.ts","./PayDataCache.ts"],(function(t){"use strict";var e,o,i,n,r,s,a,d,h,l,c,p,f,u,g,C;return{setters:[function(t){e=t.inheritsLoose},function(t){o=t.cclegacy,i=t.Button,n=t.ScrollView,r=t.Label,s=t.ProgressBar,a=t.RichText},function(t){d=t.ItemGrid},function(t){h=t.ListItem},function(t){l=t.default},function(t){c=t.default},function(t){p=t.BaseView},function(t){f=t.ConfigGlobal},function(t){u=t.ChatDataCache},function(t){g=t.ChatDefine},function(t){C=t.default}],execute:function(){o._RF.push({},"f76a3k1EjVA2IYm0Pqf6Ct4","VipBannerView",void 0);t("default",function(t){function o(){var e;return(e=t.call(this)||this).chargeInfo=void 0,e.showType=1,e.tagrgetMoney=5e3,e.normalNode=void 0,e.preNode=void 0,e.progressValue=void 0,e.openDes=void 0,e.progressBar=void 0,e.gotoBtn=void 0,e.preRewardScroll=void 0,e.normalRewardScroll=void 0,e.gotoRed=void 0,e.name="VipBannerView",e.url="ui/module/Vip/VipBannerView",e}e(o,t);var d=o.prototype;return d.onInit=function(){var t=this,e=this.findChild("imgMask");this.addComponentCallbackListener(e,i.EventType.CLICK,(function(){t.close()}));var o=this.findChild("btnClose");this.addComponentCallbackListener(o,i.EventType.CLICK,(function(){t.close()})),this.preNode=this.findChild("root/preNode"),this.preRewardScroll=this.addUIList(this.findChildComponent("root/preNode/rewardScroll",n),m),this.preRewardScroll.lackCenter=!0,this.progressValue=this.findChildComponent("root/preNode/progressValue",r),this.progressBar=this.findChildComponent("root/preNode/ProgressBar",s),this.openDes=this.findChildComponent("root/preNode/openDes",a),this.normalNode=this.findChild("root/NormalNode"),this.normalRewardScroll=this.addUIList(this.findChildComponent("root/NormalNode/rewardScroll",n),m),this.normalRewardScroll.lackCenter=!0,this.gotoBtn=this.findChild("root/NormalNode/gotoBtn"),this.gotoRed=this.findChild("root/NormalNode/gotoBtn/red"),this.addComponentCallbackListener(this.gotoBtn,i.EventType.CLICK,(function(){uiMgr.openView("ChatView",g.ViewType.Private,null,null,2),t.close()}))},d.onAfterOpen=function(){this.showType=IS(u).GetVipBtnShowState(),this.chargeInfo=IS(C).GetRechargeInfo();var t=IS(u).GetGmOpenInfo();this.tagrgetMoney=t.open_money,this.ShowPreNode(),this.ShowNormalNode(),IS(u).ClickVipRed()},d.ShowPreNode=function(){1==this.showType?(this.preNode.active=!0,this.openDes.string=c.formatStrWithMirrorDeal(GetLanguage(200626),this.tagrgetMoney),this.progressValue.string=c.formatStrWithMirrorDeal(GetLanguage(200627),this.chargeInfo.total_money,this.tagrgetMoney),this.progressBar.progress=this.chargeInfo.total_money/this.tagrgetMoney,this.preRewardScroll.datas=f.vip_reward_show):this.preNode.active=!1},d.ShowNormalNode=function(){2==this.showType?(this.normalNode.active=!0,this.normalRewardScroll.datas=f.vip_identify_reward,this.gotoRed.active=IS(u).GetVipBtnRed()>=1):this.normalNode.active=!1},d.onBeforeClose=function(){},d.registerUpdateHandler=function(){},d.onDestroy=function(){},o}(p));var m=function(t){function o(){for(var e,o=arguments.length,i=new Array(o),n=0;n<o;n++)i[n]=arguments[n];return(e=t.call.apply(t,[this].concat(i))||this).itemGridNode=void 0,e.itemGrid=void 0,e}e(o,t);var i=o.prototype;return i.onInit=function(){this.itemGridNode=l.findChild(this.node,"itemGrid"),this.itemGrid=new d(this.view,this.itemGridNode)},i.onRender=function(t,e){this.itemGrid.SetItemId(t[0],t[1])},o}(h);o._RF.pop()}}}));

