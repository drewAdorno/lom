System.register("chunks:///_virtual/SpeedUpView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index57.ts","./AdDefine.ts","./AdModel.ts","./PrivilegeDataCache.ts","./PrivilegeDefine.ts","./BaseView.ts"],(function(t){"use strict";var e,n,i,o,s,c,d,a,u,r,l;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,i=t.Button,o=t.Label,s=t.Sprite},null,function(t){c=t.ADS_TYPE,d=t.AdEventDefine},function(t){a=t.AdModel},function(t){u=t.PrivilegeDataCache},function(t){r=t.PrivilegeCardEffect},function(t){l=t.BaseView}],execute:function(){n._RF.push({},"8d7cf+Wo+ZAPL9Ssly7YzBY","SpeedUpView",void 0);t("default",function(t){function n(){var e;return(e=t.call(this)||this).txtCount=void 0,e.name="SpeedUpView",e.url="ui/module/speedup/SpeedUpView",e.poolTime=3e3,e}e(n,t);var l=n.prototype;return l.onInit=function(){var t=this,e=this.findChild("imgMask");this.addComponentCallbackListener(e,i.EventType.CLICK,(function(){t.close()}));var n=this.findChild("content/btnAD");this.addComponentCallbackListener(n,i.EventType.CLICK,(function(){IS(a).tryWatchAd(c.AD_BATTLE_SPEED_UP)})),this.txtCount=this.findChildComponent("content/btnAD/txtCount",o);var d=this.findChildComponent("content/bs_ipng_bs02",s);this.loadIcon(d,"speedup","bs_ipng_bs02");var u=this.findChildComponent("content/btnAD/cz_ui_guanggao",s);this.loadIcon(u,"common","common_icon_bofang02")},l.onAfterOpen=function(){var t=configAds.getDataByKey(c.AD_BATTLE_SPEED_UP),e=IS(a).getAdWatchCount(c.AD_BATTLE_SPEED_UP),n=t.times+IS(u).getPrivilegeCardValue(r.ADTIMES,c.AD_BATTLE_SPEED_UP);this.txtCount.string="("+(n-e)+"/"+n+")"},l.registerUpdateHandler=function(){this.addEvent(d.AD_INFO_UPDATE,this.GetSpeedUp,this)},l.GetSpeedUp=function(t){t==c.AD_BATTLE_SPEED_UP&&this.close()},l.onBeforeClose=function(){},l.onDestroy=function(){},n}(l));n._RF.pop()}}}));

