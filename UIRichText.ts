System.register("chunks:///_virtual/UIRichText.ts",["./rollupPluginModLoBabelHelpers.js","cc","./env","./MulLanguageUtil.ts"],(function(t){"use strict";var i,e,n,o,s,r,h,a,u,l,g,c,f,p,y;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized,s=t.createClass},function(t){r=t.cclegacy,h=t._decorator,a=t.CCInteger,u=t.CCBoolean,l=t.sys,g=t.HorizontalTextAlignment,c=t.UITransform,f=t.RichText},function(t){p=t.NATIVE},function(t){y=t.default}],execute:function(){var _,S,z,d,L,H,T,m,w,x,R;r._RF.push({},"56962SNuQ9G1ZoYo1AIjPw1","UIRichText",void 0);var b=h.ccclass,F=h.property;t("UIRichText",(_=b("UIRichText"),S=F({type:a}),z=F({type:a}),d=F({type:a}),L=F({type:u}),_((m=i((T=function(t){function i(){for(var i,e=arguments.length,s=new Array(e),r=0;r<e;r++)s[r]=arguments[r];return(i=t.call.apply(t,[this].concat(s))||this)._applyFont=0,n(i,"showWidth",m,o(i)),n(i,"showHeight",w,o(i)),n(i,"LanguageNo",x,o(i)),i.issetstr=!1,i.oriFontSize=0,i.oriLineHeight=0,n(i,"isMirror",R,o(i)),i}e(i,t);var r=i.prototype;return r.onLoad=function(){this.oriFontSize=this.fontSize,this.oriLineHeight=this.lineHeight,this.mirror(),null!=this.font&&0==this.useSystemFont&&"font"==this.font.name&&(this.useSystemFont=!0),this.useSystemFont&&p&&(this.useSystemFont=!1,null!=_global.uimgr&&null!=uiMgr.UIFont&&(this.font=uiMgr.UIFont)),t.prototype.onLoad.call(this)},r.mirror=function(){l.uiMirror&&!this.isMirror&&(this.horizontalAlign==g.RIGHT&&(this.horizontalAlign=g.LEFT),this.isMirror=!0)},r.start=function(){if(0==this.issetstr&&0!=this.LanguageNo&&null!=configLanguage_ui){var t=y.GetconfigLanguage_ui_Text(this.LanguageNo);null!=t?this.string=t.text:(this.string="LanguageNoEmpty:"+this.LanguageNo,printLogErr("LanguageNoEmpty:",this.LanguageNo))}},r._updateRichText=function(){if(this.showWidth>0||this.showHeight>0){this._fontSize=this.oriFontSize,this._lineHeight=this.oriLineHeight,this._layoutDirty=!0,t.prototype._updateRichText.call(this);for(var i=this.getComponent(c);(this.showWidth>0&&i.width>this.showWidth||this.showHeight>0&&i.height>this.showHeight)&&this._fontSize>1;)this._fontSize-=1,this._lineHeight-=1,this._layoutDirty=!0,t.prototype._updateRichText.call(this)}else t.prototype._updateRichText.call(this)},s(i,[{key:"string",get:function(){return this._string},set:function(t){t=null==t?"":t.toString(),this.issetstr=!0,this._string=t,this._updateRichTextStatus()}},{key:"fontSize",get:function(){return this._fontSize},set:function(t){this._fontSize!==t&&(this._fontSize=t,this._layoutDirty=!0,this.oriFontSize=this._fontSize,this._updateRichTextStatus())}},{key:"lineHeight",get:function(){return this._lineHeight},set:function(t){this._lineHeight!==t&&(this._lineHeight=t,this._layoutDirty=!0,this.oriLineHeight=this._lineHeight,this._updateRichTextStatus())}}]),i}(f)).prototype,"showWidth",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),w=i(T.prototype,"showHeight",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),x=i(T.prototype,"LanguageNo",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),R=i(T.prototype,"isMirror",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),H=T))||H));r._RF.pop()}}}));

